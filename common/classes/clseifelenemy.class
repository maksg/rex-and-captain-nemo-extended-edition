OBJECT=SCLASSNAME
SCLASSNAME:TYPE=STRING

OBJECT=ISPEED
ISPEED:TYPE=INTEGER
ISPEED:VALUE=1

OBJECT=IPOSX
IPOSX:TYPE=INTEGER
IPOSX:VALUE=0

OBJECT=IPOSY
IPOSY:TYPE=INTEGER
IPOSY:VALUE=0

OBJECT=ITRASAX
ITRASAX:TYPE=INTEGER
ITRASAX:VALUE=0

OBJECT=IMOVEDX
IMOVEDX:TYPE=INTEGER
IMOVEDX:VALUE=0

OBJECT=IODSX
IODSX:TYPE=INTEGER
IODSX:VALUE=0

OBJECT=IODSY
IODSY:TYPE=INTEGER
IODSY:VALUE=0

OBJECT=IMOVEX
IMOVEX:TYPE=INTEGER
IMOVEX:VALUE=0

OBJECT=SDIR
SDIR:TYPE=STRING
SDIR:VALUE=R

OBJECT=BLOCKED
BLOCKED:TYPE=BOOL
BLOCKED:VALUE=FALSE

OBJECT=ANNENEMY
ANNENEMY:TYPE=ANIMO
ANNENEMY:VISIBLE=TRUE
ANNENEMY:FILENAME=1_ENEMY0.ANN
ANNENEMY:TOCANVAS=TRUE
ANNENEMY:PRIORITY=22
ANNENEMY:FPS=16
ANNENEMY:PRELOAD=TRUE
ANNENEMY:RELEASE=TRUE
ANNENEMY:MONITORCOLLISION=FALSE
ANNENEMY:MONITORCOLLISIONALPHA=FALSE

OBJECT=CONSTRUCTOR
CONSTRUCTOR:TYPE=BEHAVIOUR
CONSTRUCTOR:CODE={SCLASSNAME^SET($1);ANNENEMY^LOAD($2);ISPEED^SET($3);IPOSX^SET([[$4*75]+37]);IPOSY^SET([[$5+1]*75]);ITRASAX^SET([[$6-1]*75]);IMOVEDX^SET($7);IODSX^SET($8);IODSY^SET($9);@IF("ISPEED","<","0","BFITMP128","");IMOVEDX^CLAMP(0,ITRASAX);ANNENEMY^SETPOSITION([IPOSX+IMOVEDX],IPOSY);ANNENEMY^SETFRAME(SDIR,0);GO^RUN();}


OBJECT=GETODSX
GETODSX:TYPE=BEHAVIOUR
GETODSX:CODE={@RETURN(IODSX);}


OBJECT=GETODSY
GETODSY:TYPE=BEHAVIOUR
GETODSY:CODE={@RETURN(IODSY);}


OBJECT=MOVE
MOVE:TYPE=BEHAVIOUR
MOVE:CODE={ANNENEMY^MOVE($1,$2);}


OBJECT=NEXTSTEP
NEXTSTEP:TYPE=BEHAVIOUR
NEXTSTEP:CODE={@IF("BLOCKED","_","FALSE","BFITMP132","");IMOVEDX^ADD(IMOVEX);ANNENEMY^MOVE(IMOVEX,0);ANNENEMY^NEXTFRAME();}


OBJECT=GO
GO:TYPE=BEHAVIOUR
GO:CODE={@IF("SDIR","_",""R"","BFITMP133","BFITMP134");ANNENEMY^SETFRAME(SDIR,0);BLOCKED^SET(FALSE);}


OBJECT=STOP
STOP:TYPE=BEHAVIOUR
STOP:CODE={BLOCKED^SET(TRUE);IMOVEX^SET(0);ANNENEMY^SETFRAME([SDIR+"_IDLE"],0);}


OBJECT=OPIER
OPIER:TYPE=BEHAVIOUR
OPIER:CODE={BLOCKED^SET(TRUE);IMOVEX^SET(0);ANNENEMY^SETFRAME([SDIR+"_GADA"],0);}


OBJECT=BFITMP128
BFITMP128:TYPE=BEHAVIOUR
BFITMP128:CODE={SDIR^SET("L");}


OBJECT=BFITMP129
BFITMP129:TYPE=BEHAVIOUR
BFITMP129:CODE={SDIR^SET("L");}


OBJECT=BFITMP130
BFITMP130:TYPE=BEHAVIOUR
BFITMP130:CODE={SDIR^SET("R");}


OBJECT=BFITMP131
BFITMP131:TYPE=BEHAVIOUR
BFITMP131:CODE={@IF("SDIR","_",""R"","BFITMP129","BFITMP130");IMOVEX^SET([0-IMOVEX]);ANNENEMY^SETFRAME(SDIR,0);}


OBJECT=BFITMP132
BFITMP132:TYPE=BEHAVIOUR
BFITMP132:CODE={@IF("IMOVEDX<0||IMOVEDX>ITRASAX","BFITMP131","");}


OBJECT=BFITMP133
BFITMP133:TYPE=BEHAVIOUR
BFITMP133:CODE={IMOVEX^SET(ISPEED);}


OBJECT=BFITMP134
BFITMP134:TYPE=BEHAVIOUR
BFITMP134:CODE={IMOVEX^SET([0-ISPEED]);}


