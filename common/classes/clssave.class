OBJECT=STLINE
STLINE:TYPE=STRUCT
STLINE:FIELDS=NAME<STRING>,VALUE<STRING>

OBJECT=DBVARS
DBVARS:TYPE=DATABASE
DBVARS:MODEL=STLINE

OBJECT=DBGVARS
DBGVARS:TYPE=DATABASE
DBGVARS:MODEL=STLINE

OBJECT=CONSTRUCTOR
CONSTRUCTOR:TYPE=BEHAVIOUR
CONSTRUCTOR:CODE={DBGVARS^REMOVEALL();DBGVARS^LOAD("$COMMON\SAVE\GLOBAL_INFO.DTA");}


OBJECT=DBLOAD
DBLOAD:TYPE=BEHAVIOUR
DBLOAD:CODE={DBVARS^REMOVEALL();DBVARS^LOAD(["$COMMON\SAVE\SLOT"+SGSLOTNAME+".DTA"]);}


OBJECT=SET
SET:TYPE=BEHAVIOUR
SET:CODE={@STRING("STMPNAME",$1);@STRING("STMPVALUE",$2);@INT("ITMPPOS",0);ITMPPOS^SET(DBVARS^FIND("NAME",STMPNAME,0));@IF("ITMPPOS",">","-1","BFITMP120","BFITMP121");}


OBJECT=GET
GET:TYPE=BEHAVIOUR
GET:CODE={@STRING("STMPNAME",$1);@STRING("STMPVALUE","");@INT("ITMPPOS",0);ITMPPOS^SET(DBVARS^FIND("NAME",STMPNAME,0));@IF("ITMPPOS",">","-1","BFITMP122","BFITMP123");}


OBJECT=GSET
GSET:TYPE=BEHAVIOUR
GSET:CODE={@STRING("STMPNAME",$1);@STRING("STMPVALUE",$2);@INT("ITMPPOS",0);ITMPPOS^SET(DBGVARS^FIND("NAME",STMPNAME,0));@IF("ITMPPOS",">","-1","BFITMP124","BFITMP125");}


OBJECT=GGET
GGET:TYPE=BEHAVIOUR
GGET:CODE={@STRING("STMPNAME",$1);@STRING("STMPVALUE","");@INT("ITMPPOS",0);ITMPPOS^SET(DBGVARS^FIND("NAME",STMPNAME,0));@IF("ITMPPOS",">","-1","BFITMP126","BFITMP127");}


OBJECT=BFITMP120
BFITMP120:TYPE=BEHAVIOUR
BFITMP120:CODE={DBVARS^SELECT(ITMPPOS);STLINE^SET("DBVARS_CURSOR");STLINE|VALUE^SET(STMPVALUE);DBVARS_CURSOR^SET("STLINE");DBVARS^SAVE(["$COMMON\SAVE\SLOT"+SGSLOTNAME+".DTA"]);}


OBJECT=BFITMP121
BFITMP121:TYPE=BEHAVIOUR
BFITMP121:CODE={LOG^PUT(["VAR_SET_FAILED___"+STMPNAME]);}


OBJECT=BFITMP122
BFITMP122:TYPE=BEHAVIOUR
BFITMP122:CODE={DBVARS^SELECT(ITMPPOS);STLINE^SET("DBVARS_CURSOR");STMPVALUE^SET(STLINE|VALUE);STMPVALUE^UPPER();@RETURN(STMPVALUE);}


OBJECT=BFITMP123
BFITMP123:TYPE=BEHAVIOUR
BFITMP123:CODE={LOG^PUT(["VAR_GET_FAILED__"+STMPNAME]);@RETURN("ERROR");}


OBJECT=BFITMP124
BFITMP124:TYPE=BEHAVIOUR
BFITMP124:CODE={DBGVARS^SELECT(ITMPPOS);STLINE^SET("DBGVARS_CURSOR");STLINE|VALUE^SET(STMPVALUE);DBGVARS_CURSOR^SET("STLINE");DBGVARS^SAVE("$COMMON\SAVE\GLOBAL_INFO.DTA");}


OBJECT=BFITMP125
BFITMP125:TYPE=BEHAVIOUR
BFITMP125:CODE={LOG^PUT(["GVAR_SET_FAILED___"+STMPNAME]);}


OBJECT=BFITMP126
BFITMP126:TYPE=BEHAVIOUR
BFITMP126:CODE={DBGVARS^SELECT(ITMPPOS);STLINE^SET("DBGVARS_CURSOR");STMPVALUE^SET(STLINE|VALUE);STMPVALUE^UPPER();@RETURN(STMPVALUE);}


OBJECT=BFITMP127
BFITMP127:TYPE=BEHAVIOUR
BFITMP127:CODE={LOG^PUT(["GVAR_GET_FAILED__"+STMPNAME]);@RETURN("ERROR");}


