OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=AMAZONIA.WAV

OBJECT=I1
I1:TYPE=INTEGER

OBJECT=I2
I2:TYPE=INTEGER

OBJECT=I3
I3:TYPE=INTEGER

OBJECT=S1
S1:TYPE=STRING

OBJECT=S2
S2:TYPE=STRING

OBJECT=_____INIT
_____INIT:TYPE=INTEGER

OBJECT=ISEQPRIORITY
ISEQPRIORITY:TYPE=INTEGER
ISEQPRIORITY:VALUE=-1
ISEQPRIORITY:ONCHANGED^-1={SSEQNAME^SET(NULL);SSEQEVENT^SET(NULL);}

OBJECT=SSEQNAME
SSEQNAME:TYPE=STRING

OBJECT=SSEQEVENT
SSEQEVENT:TYPE=STRING

OBJECT=ITIMER
ITIMER:TYPE=INTEGER
ITIMER:VALUE=0
ITIMER:ONCHANGED^2000={ITIMER^SET(0);I1^SET(RANDOM^GET(9));BEHSEQPLAY^RUN("SEQDIALOG",["IDLE"+I1],0);}

OBJECT=IX
IX:TYPE=INTEGER

OBJECT=IY
IY:TYPE=INTEGER

OBJECT=ILEVEL
ILEVEL:TYPE=INTEGER
ILEVEL:VALUE=1

OBJECT=SLEVELSEL
SLEVELSEL:TYPE=STRING
SLEVELSEL:ONBRUTALCHANGED^1EASY={IMIECZMAX^SET(10);ARRMAPABKG^LOAD(["CH1_EASY_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH1_EASY_POLA.ARR"]);I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);ANNPLAYER^SETFRAME("IDLE_R",0);}
SLEVELSEL:ONBRUTALCHANGED^2EASY={IMIECZMAX^SET(10);ANNPANMIECZ^SHOW();ANNLICZBY^SHOW();IMIECZ^SET(IMIECZMAX);ARRMAPABKG^LOAD(["CH2_EASY_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH2_EASY_POLA.ARR"]);ANNNAKLADKI^LOAD("2_NAKLADKI.ANN");ANNNAKBRZEGI^LOAD("2_NAK_BRZEGI.ANN");I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);}
SLEVELSEL:ONBRUTALCHANGED^3EASY={IMIECZMAX^SET(10);ANNPANMIECZ^SHOW();ANNLICZBY^SHOW();IMIECZ^SET(IMIECZMAX);ARRMAPABKG^LOAD(["CH3_EASY_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH3_EASY_POLA.ARR"]);ANNNAKLADKI^LOAD("3_NAKLADKI.ANN");ANNNAKBRZEGI^LOAD("3_NAK_BRZEGI.ANN");I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);ANNNAKLADKI_2^SETPRIORITY(0);ANNNAKLADKI_3^SETPRIORITY(0);}
SLEVELSEL:ONBRUTALCHANGED^1NORMAL={IMIECZMAX^SET(10);ARRMAPABKG^LOAD(["CH1_NORMAL_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH1_NORMAL_POLA.ARR"]);I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);ANNPLAYER^SETFRAME("IDLE_R",0);}
SLEVELSEL:ONBRUTALCHANGED^2NORMAL={IMIECZMAX^SET(10);ANNPANMIECZ^SHOW();ANNLICZBY^SHOW();IMIECZ^SET(IMIECZMAX);ARRMAPABKG^LOAD(["CH2_NORMAL_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH2_NORMAL_POLA.ARR"]);ANNNAKLADKI^LOAD("2_NAKLADKI.ANN");ANNNAKBRZEGI^LOAD("2_NAK_BRZEGI.ANN");I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);}
SLEVELSEL:ONBRUTALCHANGED^3NORMAL={IMIECZMAX^SET(10);ANNPANMIECZ^SHOW();ANNLICZBY^SHOW();IMIECZ^SET(IMIECZMAX);ARRMAPABKG^LOAD(["CH3_NORMAL_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH3_NORMAL_POLA.ARR"]);ANNNAKLADKI^LOAD("3_NAKLADKI.ANN");ANNNAKBRZEGI^LOAD("3_NAK_BRZEGI.ANN");I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);ANNNAKLADKI_2^SETPRIORITY(0);ANNNAKLADKI_3^SETPRIORITY(0);}
SLEVELSEL:ONBRUTALCHANGED^1CHEAT={IMIECZMAX^SET(10);ARRMAPABKG^LOAD(["CH1_EASY_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH1_EASY_POLA.ARR"]);I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);ANNPLAYER^SETFRAME("IDLE_R",0);}
SLEVELSEL:ONBRUTALCHANGED^2CHEAT={IMIECZMAX^SET(10);ANNPANMIECZ^SHOW();ANNLICZBY^SHOW();IMIECZ^SET(IMIECZMAX);ARRMAPABKG^LOAD(["CH2_EASY_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH2_EASY_POLA.ARR"]);ANNNAKLADKI^LOAD("2_NAKLADKI.ANN");ANNNAKBRZEGI^LOAD("2_NAK_BRZEGI.ANN");I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);}
SLEVELSEL:ONBRUTALCHANGED^3CHEAT={IMIECZMAX^SET(10);ANNPANMIECZ^SHOW();ANNLICZBY^SHOW();IMIECZ^SET(IMIECZMAX);ARRMAPABKG^LOAD(["CH3_EASY_BKG.ARR"]);ARRMAPAPOLA^LOAD(["CH3_EASY_POLA.ARR"]);ANNNAKLADKI^LOAD("3_NAKLADKI.ANN");ANNNAKBRZEGI^LOAD("3_NAK_BRZEGI.ANN");I1^SET(ANNNAKLADKI^GETNOFINEVENT("IDLE"));ANNNAKLADKI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKLADKI_"+_I_]);*S1^SETFRAME("IDLE",_I_);}",0,I1,1);GENEMIES^ADDCLONES("ANNNAKLADKI",0,[I1-1]);ANNNAKLADKI^SETPRIORITY(0);ANNNAKLADKI_1^SETPRIORITY(3000);ANNNAKLADKI_2^SETPRIORITY(0);ANNNAKLADKI_3^SETPRIORITY(0);}

OBJECT=SSTATUSSEL
SSTATUSSEL:TYPE=STRING
SSTATUSSEL:ONBRUTALCHANGED^NIEODWIEDZONY={GSAVE^SET("AMAZONIA_STATUS","ODWIEDZONY");GSAVE^SET("SCENE_INFO","");BEHSEQPLAY^RUN("SEQWSTEP",["W"+ILEVEL],2);}
SSTATUSSEL:ONBRUTALCHANGED^ODWIEDZONY={@IF(GSAVE^GET("SCENE_INFO"),"_",""COLL"","BFITMP0","BFITMP1");}

OBJECT=IENEMYNO
IENEMYNO:TYPE=INTEGER
IENEMYNO:VALUE=0

OBJECT=IENEMYTYPE
IENEMYTYPE:TYPE=INTEGER
IENEMYTYPE:VALUE=0

OBJECT=SENEMYCOLLNAME
SENEMYCOLLNAME:TYPE=STRING

OBJECT=IPOLANAKCLONENO
IPOLANAKCLONENO:TYPE=INTEGER
IPOLANAKCLONENO:VALUE=0

OBJECT=ICLONENO
ICLONENO:TYPE=INTEGER
ICLONENO:ONCHANGED={ICLONENOSEL^SET([ICLONENO@128]);}

OBJECT=ICLONENOSEL
ICLONENOSEL:TYPE=INTEGER
ICLONENOSEL:ONBRUTALCHANGED^0={GALL^ADD(["ANNPOLA_"+ICLONENO]);}
ICLONENOSEL:ONBRUTALCHANGED^1={GALL1^ADD(["ANNPOLA_"+ICLONENO]);}
ICLONENOSEL:ONBRUTALCHANGED^2={GALL2^ADD(["ANNPOLA_"+ICLONENO]);}
ICLONENOSEL:ONBRUTALCHANGED^3={GALL3^ADD(["ANNPOLA_"+ICLONENO]);}
ICLONENOSEL:ONBRUTALCHANGED^4={GALL4^ADD(["ANNPOLA_"+ICLONENO]);}
ICLONENOSEL:ONBRUTALCHANGED^5={GALL5^ADD(["ANNPOLA_"+ICLONENO]);}
ICLONENOSEL:ONBRUTALCHANGED^6={GALL6^ADD(["ANNPOLA_"+ICLONENO]);}
ICLONENOSEL:ONBRUTALCHANGED^7={GALL7^ADD(["ANNPOLA_"+ICLONENO]);}

OBJECT=SPOLE
SPOLE:TYPE=STRING
SPOLE:ONBRUTALCHANGED^PLAYER={ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^ENEMY={S1^SET(["ENEMY"+IENEMYNO]);CLSCHASZCZEENEMYOBJ^NEW(S1,0,IX,IY);GENEMIES^ADD(S1);GENEMYNAMES^ADD(S1);SPLAYERGOON^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+S1],"BEHGOONENEMY");IENEMYNO^INC();ARRMAPA^SET(IX,IY,S1);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^ENEMY1={S1^SET(["ENEMY"+IENEMYNO]);CLSCHASZCZEENEMYOBJ^NEW(S1,1,IX,IY);GENEMIES^ADD(S1);GENEMYNAMES^ADD(S1);SPLAYERGOON^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+S1],"BEHGOONENEMY");IENEMYNO^INC();ARRMAPA^SET(IX,IY,S1);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^KRZAK={ANNPOLA^CLONE(1);ICLONENO^INC();S1^SET(["ANNPOLA_"+ICLONENO]);ARRCLONES^ADD(1);I1^SET(RANDOM^GET(4));I2^SET(*S1^GETNOFINEVENT([SPOLE+"_ROSNIE"+I1]));*S1^SETFRAME([SPOLE+"_ROSNIE"+I1],[I2-1]);*S1^SETPOSITION([IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);ARRMAPAOBJ^SET(IX,IY,S1);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^SERCE_KRZACZORA={ANNPOLA^CLONE(1);ICLONENO^INC();S1^SET(["ANNPOLA_"+ICLONENO]);ARRCLONES^ADD(1);*S1^PLAY(SPOLE);*S1^SETPOSITION([IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);ARRMAPAOBJ^SET(IX,IY,S1);ARRSERCAK^ADD(IX,IY);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^EXIT={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^SCIANA={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_U={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP2","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_D={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP3","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_L={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP4","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_R={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP5","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_LU={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP6","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_LD={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP7","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_RU={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP8","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_RD={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP9","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_DL={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP10","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_DR={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP11","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_UL={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP12","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^BRZEG_UR={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP13","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^MUR={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);@IF(RANDOM^GET(100),">","33","BFITMP14","");ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^MUR_U={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^MUR_D={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^MUR_L={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^MUR_R={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^WODA={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^WODA_U={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^WODA_D={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^WODA_L={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^WODA_R={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^FONTANNA={I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));ANNPOLA^SETFRAME(SPOLE,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}
SPOLE:ONBRUTALCHANGED^FONTANNA_BRZEG={ARRMAPA^SET(IX,IY,SPOLE);SPOLE^SET("");}

OBJECT=BSTDLVL
BSTDLVL:TYPE=BOOL
BSTDLVL:VALUE=TRUE

OBJECT=_____INV
_____INV:TYPE=INTEGER

OBJECT=IMIECZ
IMIECZ:TYPE=INTEGER
IMIECZ:VALUE=-1
IMIECZ:ONCHANGED={@IF("IMIECZ","_","0","BFITMP15","BFITMP16");ANNLICZBY^SETFRAME("IDLE",IMIECZ);}

OBJECT=IMIECZMAX
IMIECZMAX:TYPE=INTEGER
IMIECZMAX:VALUE=10

OBJECT=ITRATWA
ITRATWA:TYPE=INTEGER
ITRATWA:VALUE=-1

OBJECT=SEVT
SEVT:TYPE=STRING

OBJECT=_____SERCEK
_____SERCEK:TYPE=INTEGER

OBJECT=ISERCEX
ISERCEX:TYPE=INTEGER

OBJECT=ISERCEY
ISERCEY:TYPE=INTEGER

OBJECT=ISERCEWOKOL
ISERCEWOKOL:TYPE=INTEGER
ISERCEWOKOL:VALUE=-1
ISERCEWOKOL:ONCHANGED^0={IX^SET([ISERCEX-1]);IY^SET([ISERCEY-1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^1={IX^SET(ISERCEX);IY^SET([ISERCEY-1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^2={IX^SET([ISERCEX+1]);IY^SET([ISERCEY-1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^3={IX^SET([ISERCEX+1]);IY^SET(ISERCEY);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^4={IX^SET([ISERCEX+1]);IY^SET([ISERCEY+1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^5={IX^SET(ISERCEX);IY^SET([ISERCEY+1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^6={IX^SET([ISERCEX-1]);IY^SET([ISERCEY+1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^7={IX^SET([ISERCEX-1]);IY^SET(ISERCEY);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}
ISERCEWOKOL:ONCHANGED^8={IY^SET([ISERCEY-2]);@IF("IY","<","0","BFITMP17","BFITMP18");}
ISERCEWOKOL:ONCHANGED^9={IY^SET([ISERCEY-2]);@IF("IY","<","0","BFITMP19","BFITMP20");}
ISERCEWOKOL:ONCHANGED^10={IY^SET([ISERCEY-2]);@IF("IY","<","0","BFITMP21","BFITMP22");}
ISERCEWOKOL:ONCHANGED^11={IX^SET([ISERCEX+2]);@IF("IX",">_","ISIZEX","BFITMP23","BFITMP24");}
ISERCEWOKOL:ONCHANGED^12={IX^SET([ISERCEX+2]);@IF("IX",">_","ISIZEX","BFITMP25","BFITMP26");}
ISERCEWOKOL:ONCHANGED^13={IX^SET([ISERCEX+2]);@IF("IX",">_","ISIZEX","BFITMP27","BFITMP28");}
ISERCEWOKOL:ONCHANGED^14={IY^SET([ISERCEY+2]);@IF("IY",">_","ISIZEY","BFITMP29","BFITMP30");}
ISERCEWOKOL:ONCHANGED^15={IY^SET([ISERCEY+2]);@IF("IY",">_","ISIZEY","BFITMP31","BFITMP32");}
ISERCEWOKOL:ONCHANGED^16={IY^SET([ISERCEY+2]);@IF("IY",">_","ISIZEY","BFITMP33","BFITMP34");}
ISERCEWOKOL:ONCHANGED^17={IX^SET([ISERCEX-2]);@IF("IX","<","0","BFITMP35","BFITMP36");}
ISERCEWOKOL:ONCHANGED^18={IX^SET([ISERCEX-2]);@IF("IX","<","0","BFITMP37","BFITMP38");}
ISERCEWOKOL:ONCHANGED^19={IX^SET([ISERCEX-2]);@IF("IX","<","0","BFITMP39","BFITMP40");}
ISERCEWOKOL:ONCHANGED^20={ISERCEWOKOL^SET(-1);}

OBJECT=SSERCEWOKOL
SSERCEWOKOL:TYPE=STRING
SSERCEWOKOL:ONBRUTALCHANGED^TRAWA={BEHKRZAKROSNIE^RUN();}
SSERCEWOKOL:ONBRUTALCHANGED^POSADZKA_POPEKANA={BEHKRZAKROSNIE^RUN();}
SSERCEWOKOL:ONBRUTALCHANGED={I3^SET(ARRSERCAWOKOL^GET(0));ARRSERCAWOKOL^REMOVEAT(0);ISERCEWOKOL^SET(I3);}

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=IBKGSTARTX
IBKGSTARTX:TYPE=INTEGER
IBKGSTARTX:VALUE=0

OBJECT=IBKGSTARTY
IBKGSTARTY:TYPE=INTEGER
IBKGSTARTY:VALUE=0

OBJECT=IBKGDELTAX
IBKGDELTAX:TYPE=INTEGER
IBKGDELTAX:VALUE=0

OBJECT=IBKGDELTAY
IBKGDELTAY:TYPE=INTEGER
IBKGDELTAY:VALUE=0

OBJECT=ISCROLLDELTAX
ISCROLLDELTAX:TYPE=INTEGER

OBJECT=ISCROLLDELTAY
ISCROLLDELTAY:TYPE=INTEGER

OBJECT=ISIZEX
ISIZEX:TYPE=INTEGER

OBJECT=ISIZEY
ISIZEY:TYPE=INTEGER

OBJECT=IPLAYERX
IPLAYERX:TYPE=INTEGER

OBJECT=IPLAYERY
IPLAYERY:TYPE=INTEGER

OBJECT=IPLAYERGOONX
IPLAYERGOONX:TYPE=INTEGER

OBJECT=IPLAYERGOONY
IPLAYERGOONY:TYPE=INTEGER

OBJECT=ICENTERX
ICENTERX:TYPE=INTEGER
ICENTERX:VALUE=8

OBJECT=ICENTERY
ICENTERY:TYPE=INTEGER
ICENTERY:VALUE=6

OBJECT=IGRID
IGRID:TYPE=INTEGER
IGRID:VALUE=50

OBJECT=IARRKEYSSIZE
IARRKEYSSIZE:TYPE=INTEGER
IARRKEYSSIZE:VALUE=0
IARRKEYSSIZE:ONBRUTALCHANGED^0={@IF("BLOCK","_","FALSE","BFITMP48","");}

OBJECT=SPLAYERGOON
SPLAYERGOON:TYPE=STRING
SPLAYERGOON:ONBRUTALCHANGED^MUR={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^MUR_U={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^MUR_D={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^MUR_L={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^MUR_R={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_U={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_D={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_L={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_R={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_LU={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_LD={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_RU={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_RD={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_UL={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_UR={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_DL={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^BRZEG_DR={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^SCIANA={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^FONTANNA_BRZEG={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^KRZAK={@IF("IMIECZ",">","0","BFITMP49","BFITMP50");}
SPLAYERGOON:ONBRUTALCHANGED^WODA={@IF("ITRATWA","_","1","BFITMP52","BFITMP53");}
SPLAYERGOON:ONBRUTALCHANGED^WODA_U={@IF("ITRATWA","_","1","BFITMP56","BFITMP57");}
SPLAYERGOON:ONBRUTALCHANGED^WODA_D={@IF("ITRATWA","_","1","BFITMP60","BFITMP61");}
SPLAYERGOON:ONBRUTALCHANGED^WODA_L={@IF("ITRATWA","_","1","BFITMP64","BFITMP65");}
SPLAYERGOON:ONBRUTALCHANGED^WODA_R={@IF("ITRATWA","_","1","BFITMP68","BFITMP69");}
SPLAYERGOON:ONBRUTALCHANGED^TRATWA={ITRATWA^SET(1);ANNPONTON^SETFRAME("IDLE",1);S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));BEHSEQPLAY^RUN("SEQPLAYER","PONTON_TAKE",2);SFX_THING^PLAY();}
SPLAYERGOON:ONBRUTALCHANGED^MIECZ={ANNPANMIECZ^SHOW();ANNLICZBY^SHOW();IMIECZ^SET(IMIECZMAX);S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));BEHSEQPLAY^RUN("SEQPLAYER","MACZETA_TAKE",2);SFX_THING^PLAY();}
SPLAYERGOON:ONBRUTALCHANGED^OSTRZALKA_MALA={@IF("IMIECZ","_","IMIECZMAX","BFITMP70","");@IF("IMIECZ>-1&&IMIECZ<IMIECZMAX","BFITMP73","");}
SPLAYERGOON:ONBRUTALCHANGED^OSTRZALKA_DUZA={@IF("IMIECZ","_","IMIECZMAX","BFITMP74","");@IF("IMIECZ>-1&&IMIECZ<IMIECZMAX","BFITMP77","");}
SPLAYERGOON:ONBRUTALCHANGED^OSTRZALKA_KAMIEN={@IF("IMIECZ",">","-1","BFITMP78","");}
SPLAYERGOON:ONBRUTALCHANGED^SERCE_KRZACZORA={SPLAYEREVENTTOPLAY^SET(NULL);}
SPLAYERGOON:ONBRUTALCHANGED^KLUCZ_RED={@IF(ARRINVENTORY^FIND("KLUCZ_RED"),"_","-1","BFITMP79","");S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));SFX_THING^PLAY();}
SPLAYERGOON:ONBRUTALCHANGED^KLUCZ_YELLOW={@IF(ARRINVENTORY^FIND("KLUCZ_YELLOW"),"_","-1","BFITMP80","");S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));SFX_THING^PLAY();}
SPLAYERGOON:ONBRUTALCHANGED^DRZWI_RED_POZ={@IF(ARRINVENTORY^FIND("KLUCZ_RED"),">","-1","BFITMP81","BFITMP82");}
SPLAYERGOON:ONBRUTALCHANGED^DRZWI_RED_PION={@IF(ARRINVENTORY^FIND("KLUCZ_RED"),">","-1","BFITMP83","BFITMP84");}
SPLAYERGOON:ONBRUTALCHANGED^DRZWI_YELLOW_POZ={@IF(ARRINVENTORY^FIND("KLUCZ_YELLOW"),">","-1","BFITMP85","BFITMP86");}
SPLAYERGOON:ONBRUTALCHANGED^DRZWI_YELLOW_PION={@IF(ARRINVENTORY^FIND("KLUCZ_YELLOW"),">","-1","BFITMP87","BFITMP88");}
SPLAYERGOON:ONBRUTALCHANGED^DRZWI_YELLOW_POZ_OPEN={BEHSEQPLAY^RUN("SEQPLAYER","NAD_PAROWEM",1);}
SPLAYERGOON:ONBRUTALCHANGED^DRZWI_YELLOW_PION_OPEN={BEHSEQPLAY^RUN("SEQPLAYER","NAD_PAROWEM",1);}
SPLAYERGOON:ONBRUTALCHANGED^MASKA={S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);ANNPLAYER^LOAD("PLAYER_MASKA.ANN");ANNPLAYER^SETFPS(32);ANNPLAYER^SETPOSITION([[IPLAYERX+IBKGSTARTX]*50],[[IPLAYERY+IBKGSTARTY]*50]);GENEMIES^NOCOLL();BEHREMOVEENEMYCOLL^RUN();SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));BEHSEQPLAY^RUN("SEQWSTEP","MASKI_TAKE",2);SFX_THING^PLAY();}
SPLAYERGOON:ONBRUTALCHANGED^SLADY={@IF("BODWSLADY","_","FALSE","BFITMP91","");}
SPLAYERGOON:ONBRUTALCHANGED^SLADY_END={@IF("BODWSLADYEND","_","FALSE","BFITMP93","");}
SPLAYERGOON:ONBRUTALCHANGED^OBOZ={@IF("BODWOBOZ","_","FALSE","BFITMP94","");}
SPLAYERGOON:ONBRUTALCHANGED^ZEJSCIE_DO_WODY={@IF("BODWZEJSCIE","_","FALSE","BFITMP95","");}
SPLAYERGOON:ONBRUTALCHANGED^POLE_X={@IF("BODWPOLEX","_","FALSE","BFITMP96","");}
SPLAYERGOON:ONBRUTALCHANGED^POLE_Y={@IF("BODWPOLEY","_","FALSE","BFITMP97","");}
SPLAYERGOON:ONBRUTALCHANGED^EXIT={BEHSUCCESS^RUN();}
SPLAYERGOON:ONBRUTALCHANGED={@IF("SEVT","_",""T"","BFITMP100","");}

OBJECT=SPLAYERCAMEFROM
SPLAYERCAMEFROM:TYPE=STRING

OBJECT=SKEYPRESSED
SKEYPRESSED:TYPE=STRING
SKEYPRESSED:ONBRUTALCHANGED^UP={@IF("BPLAYERSTOI","_","TRUE","BFITMP104","");}
SKEYPRESSED:ONBRUTALCHANGED^DOWN={@IF("BPLAYERSTOI","_","TRUE","BFITMP108","");}
SKEYPRESSED:ONBRUTALCHANGED^LEFT={@IF("BPLAYERSTOI","_","TRUE","BFITMP112","");}
SKEYPRESSED:ONBRUTALCHANGED^RIGHT={@IF("BPLAYERSTOI","_","TRUE","BFITMP116","");}

OBJECT=SPLAYEREVENT
SPLAYEREVENT:TYPE=STRING
SPLAYEREVENT:ONBRUTALCHANGED^U={@IF("[IPLAYERGOONY+IBKGSTARTY]<ICENTERY&&IBKGSTARTY<0","BFITMP117","BFITMP118");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^D={@IF("[IPLAYERGOONY+IBKGSTARTY]>ICENTERY&&[IPLAYERGOONY+11-ICENTERY]<ISIZEY","BFITMP119","BFITMP120");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^L={@IF("[IPLAYERGOONX+IBKGSTARTX]<ICENTERX&&IBKGSTARTX<0","BFITMP121","BFITMP122");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^R={@IF("[IPLAYERGOONX+IBKGSTARTX]>ICENTERX&&[IPLAYERGOONX+15-ICENTERX]<ISIZEX","BFITMP123","BFITMP124");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^UM={@IF("[IPLAYERGOONY+IBKGSTARTY]<ICENTERY&&IBKGSTARTY<0","BFITMP125","BFITMP126");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^DM={@IF("[IPLAYERGOONY+IBKGSTARTY]>ICENTERY&&[IPLAYERGOONY+11-ICENTERY]<ISIZEY","BFITMP127","BFITMP128");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^LM={@IF("[IPLAYERGOONX+IBKGSTARTX]<ICENTERX&&IBKGSTARTX<0","BFITMP129","BFITMP130");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^RM={@IF("[IPLAYERGOONX+IBKGSTARTX]>ICENTERX&&[IPLAYERGOONX+15-ICENTERX]<ISIZEX","BFITMP131","BFITMP132");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^UT={@IF("[IPLAYERGOONY+IBKGSTARTY]<ICENTERY&&IBKGSTARTY<0","BFITMP133","BFITMP134");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^DT={@IF("[IPLAYERGOONY+IBKGSTARTY]>ICENTERY&&[IPLAYERGOONY+11-ICENTERY]<ISIZEY","BFITMP135","BFITMP136");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^LT={@IF("[IPLAYERGOONX+IBKGSTARTX]<ICENTERX&&IBKGSTARTX<0","BFITMP137","BFITMP138");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}
SPLAYEREVENT:ONBRUTALCHANGED^RT={@IF("[IPLAYERGOONX+IBKGSTARTX]>ICENTERX&&[IPLAYERGOONX+15-ICENTERX]<ISIZEX","BFITMP139","BFITMP140");ARRMAPA^SET(IPLAYERGOONX,IPLAYERGOONY,"PLAYER");BPLAYERSTOI^SET(FALSE);ANNPLAYER^PLAY(SPLAYEREVENT);}

OBJECT=SPLAYEREVENTTOPLAY
SPLAYEREVENTTOPLAY:TYPE=STRING

OBJECT=BPLAYERSTOI
BPLAYERSTOI:TYPE=BOOL
BPLAYERSTOI:VALUE=TRUE
BPLAYERSTOI:ONCHANGED^FALSE={BEHWALKSFX^RUN();}
BPLAYERSTOI:ONCHANGED^TRUE={SFX_WALK^STOP(FALSE);}

OBJECT=BODWOBOZ
BODWOBOZ:TYPE=BOOL
BODWOBOZ:VALUE=FALSE

OBJECT=BODWSLADY
BODWSLADY:TYPE=BOOL
BODWSLADY:VALUE=FALSE

OBJECT=BODWSLADYEND
BODWSLADYEND:TYPE=BOOL
BODWSLADYEND:VALUE=FALSE

OBJECT=BODWOSELKA
BODWOSELKA:TYPE=BOOL
BODWOSELKA:VALUE=FALSE

OBJECT=BODWZEJSCIE
BODWZEJSCIE:TYPE=BOOL
BODWZEJSCIE:VALUE=FALSE

OBJECT=BODWWODA
BODWWODA:TYPE=BOOL
BODWWODA:VALUE=FALSE

OBJECT=BODWPOLEX
BODWPOLEX:TYPE=BOOL
BODWPOLEX:VALUE=FALSE

OBJECT=BODWPOLEY
BODWPOLEY:TYPE=BOOL
BODWPOLEY:VALUE=FALSE

OBJECT=BCOLLMASKFIRST
BCOLLMASKFIRST:TYPE=BOOL
BCOLLMASKFIRST:VALUE=FALSE

OBJECT=IKRZAKSCINANR
IKRZAKSCINANR:TYPE=INTEGER
IKRZAKSCINANR:VALUE=0
IKRZAKSCINANR:ONCHANGED^1={@IF("ILEVEL","_","1","BFITMP141","BFITMP142");}
IKRZAKSCINANR:ONCHANGED^3={@IF("ILEVEL","_","1","BFITMP143","BFITMP144");}
IKRZAKSCINANR:ONCHANGED={@IF("IMIECZ","_","0","BFITMP145","BFITMP146");}

OBJECT=BLOCK
BLOCK:TYPE=BOOL
BLOCK:VALUE=FALSE

OBJECT=ANNPLAYER
ANNPLAYER:TYPE=ANIMO
ANNPLAYER:VISIBLE=TRUE
ANNPLAYER:FILENAME=PLAYER.ANN
ANNPLAYER:TOCANVAS=TRUE
ANNPLAYER:PRIORITY=75
ANNPLAYER:FPS=32
ANNPLAYER:PRELOAD=TRUE
ANNPLAYER:RELEASE=TRUE
ANNPLAYER:MONITORCOLLISION=FALSE
ANNPLAYER:MONITORCOLLISIONALPHA=FALSE
ANNPLAYER:ONFRAMECHANGED^U={@IF("ISCROLLDELTAY","!_","0","BFITMP147","BFITMP148");}
ANNPLAYER:ONFRAMECHANGED^D={@IF("ISCROLLDELTAY","!_","0","BFITMP149","BFITMP150");}
ANNPLAYER:ONFRAMECHANGED^L={@IF("ISCROLLDELTAX","!_","0","BFITMP151","BFITMP152");}
ANNPLAYER:ONFRAMECHANGED^R={@IF("ISCROLLDELTAX","!_","0","BFITMP153","BFITMP154");}
ANNPLAYER:ONFRAMECHANGED^UM={@IF("ISCROLLDELTAY","!_","0","BFITMP155","BFITMP156");}
ANNPLAYER:ONFRAMECHANGED^DM={@IF("ISCROLLDELTAY","!_","0","BFITMP157","BFITMP158");}
ANNPLAYER:ONFRAMECHANGED^LM={@IF("ISCROLLDELTAX","!_","0","BFITMP159","BFITMP160");}
ANNPLAYER:ONFRAMECHANGED^RM={@IF("ISCROLLDELTAX","!_","0","BFITMP161","BFITMP162");}
ANNPLAYER:ONFRAMECHANGED^UT={@IF("ISCROLLDELTAY","!_","0","BFITMP163","BFITMP164");}
ANNPLAYER:ONFRAMECHANGED^DT={@IF("ISCROLLDELTAY","!_","0","BFITMP165","BFITMP166");}
ANNPLAYER:ONFRAMECHANGED^LT={@IF("ISCROLLDELTAX","!_","0","BFITMP167","BFITMP168");}
ANNPLAYER:ONFRAMECHANGED^RT={@IF("ISCROLLDELTAX","!_","0","BFITMP169","BFITMP170");}
ANNPLAYER:ONFINISHED={ARRMAPA^SET(IPLAYERX,IPLAYERY,SPLAYERCAMEFROM);SPLAYERCAMEFROM^SET(SPLAYERGOON);IPLAYERX^SET(IPLAYERGOONX);IPLAYERY^SET(IPLAYERGOONY);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);SKEYPRESSED^SET(NULL);BPLAYERSTOI^SET(TRUE);IARRKEYSSIZE^SET(ARRKEYS^GETSIZE());@IF(ARRKEYS^GETSIZE(),">","0","BFITMP171","");}

OBJECT=ANNPOLA
ANNPOLA:TYPE=ANIMO
ANNPOLA:VISIBLE=TRUE
ANNPOLA:FILENAME=POLA.ANN
ANNPOLA:TOCANVAS=TRUE
ANNPOLA:PRIORITY=70
ANNPOLA:FPS=32
ANNPOLA:PRELOAD=TRUE
ANNPOLA:RELEASE=TRUE
ANNPOLA:MONITORCOLLISION=FALSE
ANNPOLA:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNRUNNERSERCA
ANNRUNNERSERCA:TYPE=ANIMO
ANNRUNNERSERCA:VISIBLE=TRUE
ANNRUNNERSERCA:FILENAME=RUNNER_SERCA.ANN
ANNRUNNERSERCA:TOCANVAS=TRUE
ANNRUNNERSERCA:PRIORITY=0
ANNRUNNERSERCA:FPS=32
ANNRUNNERSERCA:PRELOAD=TRUE
ANNRUNNERSERCA:RELEASE=TRUE
ANNRUNNERSERCA:MONITORCOLLISION=FALSE
ANNRUNNERSERCA:MONITORCOLLISIONALPHA=FALSE
ANNRUNNERSERCA:ONFRAMECHANGED^0={@IF(ARRSERCAK^GETSIZE(),">","0","BFITMP172","");}
ANNRUNNERSERCA:ONFRAMECHANGED^1={@IF(ARRSERCAK^GETSIZE(),">","2","BFITMP173","");}
ANNRUNNERSERCA:ONFRAMECHANGED^2={@IF(ARRSERCAK^GETSIZE(),">","4","BFITMP174","");}
ANNRUNNERSERCA:ONFRAMECHANGED^3={@IF(ARRSERCAK^GETSIZE(),">","6","BFITMP175","");}
ANNRUNNERSERCA:ONFRAMECHANGED^4={@IF(ARRSERCAK^GETSIZE(),">","8","BFITMP176","");}
ANNRUNNERSERCA:ONFRAMECHANGED^5={@IF(ARRSERCAK^GETSIZE(),">","10","BFITMP177","");}
ANNRUNNERSERCA:ONFRAMECHANGED^6={@IF(ARRSERCAK^GETSIZE(),">","12","BFITMP178","");}
ANNRUNNERSERCA:ONFRAMECHANGED^7={@IF(ARRSERCAK^GETSIZE(),">","14","BFITMP179","");}
ANNRUNNERSERCA:ONFRAMECHANGED^8={@IF(ARRSERCAK^GETSIZE(),">","16","BFITMP180","");}
ANNRUNNERSERCA:ONFRAMECHANGED^9={@IF(ARRSERCAK^GETSIZE(),">","18","BFITMP181","");}
ANNRUNNERSERCA:ONFRAMECHANGED^10={@IF(ARRSERCAK^GETSIZE(),">","20","BFITMP182","");}
ANNRUNNERSERCA:ONFRAMECHANGED^11={@IF(ARRSERCAK^GETSIZE(),">","22","BFITMP183","");}
ANNRUNNERSERCA:ONFRAMECHANGED^12={@IF(ARRSERCAK^GETSIZE(),">","24","BFITMP184","");}
ANNRUNNERSERCA:ONFRAMECHANGED^13={@IF(ARRSERCAK^GETSIZE(),">","26","BFITMP185","");}
ANNRUNNERSERCA:ONFRAMECHANGED^14={@IF(ARRSERCAK^GETSIZE(),">","28","BFITMP186","");}

OBJECT=ANNPANMIECZ
ANNPANMIECZ:TYPE=ANIMO
ANNPANMIECZ:VISIBLE=FALSE
ANNPANMIECZ:FILENAME=PAN_MIECZ.ANN
ANNPANMIECZ:TOCANVAS=TRUE
ANNPANMIECZ:PRIORITY=155
ANNPANMIECZ:FPS=16
ANNPANMIECZ:PRELOAD=TRUE
ANNPANMIECZ:RELEASE=TRUE
ANNPANMIECZ:MONITORCOLLISION=FALSE
ANNPANMIECZ:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNPANKRED
ANNPANKRED:TYPE=ANIMO
ANNPANKRED:VISIBLE=TRUE
ANNPANKRED:FILENAME=PAN_K_RED.ANN
ANNPANKRED:TOCANVAS=TRUE
ANNPANKRED:PRIORITY=160
ANNPANKRED:FPS=16
ANNPANKRED:PRELOAD=TRUE
ANNPANKRED:RELEASE=TRUE
ANNPANKRED:MONITORCOLLISION=FALSE
ANNPANKRED:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNPANKYEL
ANNPANKYEL:TYPE=ANIMO
ANNPANKYEL:VISIBLE=TRUE
ANNPANKYEL:FILENAME=PAN_K_YEL.ANN
ANNPANKYEL:TOCANVAS=TRUE
ANNPANKYEL:PRIORITY=160
ANNPANKYEL:FPS=16
ANNPANKYEL:PRELOAD=TRUE
ANNPANKYEL:RELEASE=TRUE
ANNPANKYEL:MONITORCOLLISION=FALSE
ANNPANKYEL:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNLICZBY
ANNLICZBY:TYPE=ANIMO
ANNLICZBY:VISIBLE=FALSE
ANNLICZBY:FILENAME=LICZBY.ANN
ANNLICZBY:TOCANVAS=TRUE
ANNLICZBY:PRIORITY=160
ANNLICZBY:FPS=16
ANNLICZBY:PRELOAD=TRUE
ANNLICZBY:RELEASE=TRUE
ANNLICZBY:MONITORCOLLISION=FALSE
ANNLICZBY:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNPONTON
ANNPONTON:TYPE=ANIMO
ANNPONTON:VISIBLE=TRUE
ANNPONTON:FILENAME=PAN_PONTON.ANN
ANNPONTON:TOCANVAS=TRUE
ANNPONTON:PRIORITY=160
ANNPONTON:FPS=16
ANNPONTON:PRELOAD=TRUE
ANNPONTON:RELEASE=TRUE
ANNPONTON:MONITORCOLLISION=FALSE
ANNPONTON:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNNAKLADKI
ANNNAKLADKI:TYPE=ANIMO
ANNNAKLADKI:VISIBLE=TRUE
ANNNAKLADKI:FILENAME=1_NAKLADKI.ANN
ANNNAKLADKI:TOCANVAS=TRUE
ANNNAKLADKI:PRIORITY=3000
ANNNAKLADKI:FPS=16
ANNNAKLADKI:PRELOAD=TRUE
ANNNAKLADKI:RELEASE=TRUE
ANNNAKLADKI:MONITORCOLLISION=FALSE
ANNNAKLADKI:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNNAKBRZEGI
ANNNAKBRZEGI:TYPE=ANIMO
ANNNAKBRZEGI:VISIBLE=TRUE
ANNNAKBRZEGI:FILENAME=1_NAK_BRZEGI.ANN
ANNNAKBRZEGI:TOCANVAS=TRUE
ANNNAKBRZEGI:PRIORITY=60
ANNNAKBRZEGI:FPS=16
ANNNAKBRZEGI:PRELOAD=TRUE
ANNNAKBRZEGI:RELEASE=TRUE
ANNNAKBRZEGI:MONITORCOLLISION=FALSE
ANNNAKBRZEGI:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNBTNRESTART
ANNBTNRESTART:TYPE=ANIMO
ANNBTNRESTART:VISIBLE=TRUE
ANNBTNRESTART:FILENAME=B_RESTART.ANN
ANNBTNRESTART:TOCANVAS=TRUE
ANNBTNRESTART:PRIORITY=200
ANNBTNRESTART:FPS=16
ANNBTNRESTART:PRELOAD=TRUE
ANNBTNRESTART:RELEASE=TRUE
ANNBTNRESTART:MONITORCOLLISION=FALSE
ANNBTNRESTART:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNRUNNERTIMER
ANNRUNNERTIMER:TYPE=ANIMO
ANNRUNNERTIMER:VISIBLE=TRUE
ANNRUNNERTIMER:FILENAME=RUNNER_TIMER.ANN
ANNRUNNERTIMER:TOCANVAS=TRUE
ANNRUNNERTIMER:PRIORITY=32
ANNRUNNERTIMER:FPS=16
ANNRUNNERTIMER:PRELOAD=TRUE
ANNRUNNERTIMER:RELEASE=TRUE
ANNRUNNERTIMER:MONITORCOLLISION=FALSE
ANNRUNNERTIMER:MONITORCOLLISIONALPHA=FALSE
ANNRUNNERTIMER:ONFRAMECHANGED={ITIMER^INC();}

OBJECT=BTNRESTART
BTNRESTART:TYPE=BUTTON
BTNRESTART:VISIBLE=TRUE
BTNRESTART:ENABLE=TRUE
BTNRESTART:DRAGGABLE=FALSE
BTNRESTART:GFXSTANDARD=ANNBTNRESTART
BTNRESTART:ONCLICKED={BEHSEQPLAY^RUN("SEQWSTEP","RESTART",10);SFXMENUCLICK^PLAY();}
BTNRESTART:ONFOCUSON={ANNBTNRESTART^NEXTFRAME();SFXMENUON^PLAY();}
BTNRESTART:ONFOCUSOFF={ANNBTNRESTART^PREVFRAME();}

OBJECT=SEQWSTEP
SEQWSTEP:TYPE=SEQUENCE
SEQWSTEP:FILENAME=SEWSTEP.SEQ
SEQWSTEP:ONFINISHED={ISEQPRIORITY^SET(-1);}
SEQWSTEP:ONFINISHED^RESTART={ISEQPRIORITY^SET(-1);PPMENU^YESNO("REX_KS32","BEHRESTART","BEHNULL");}
SEQWSTEP:ONFINISHED^META1={ISEQPRIORITY^SET(100);BEHGOTOSCENE^RUN();}
SEQWSTEP:ONFINISHED^META2={ISEQPRIORITY^SET(100);BEHGOTOSCENE^RUN();}
SEQWSTEP:ONFINISHED^META3={ISEQPRIORITY^SET(100);BEHGOTOSCENE^RUN();}

OBJECT=SEQPLAYER
SEQPLAYER:TYPE=SEQUENCE
SEQPLAYER:FILENAME=SEPLAYER.SEQ
SEQPLAYER:ONFINISHED={ISEQPRIORITY^SET(-1);}

OBJECT=SEQDIALOG
SEQDIALOG:TYPE=SEQUENCE
SEQDIALOG:FILENAME=SEDIALOG.SEQ
SEQDIALOG:ONFINISHED={ISEQPRIORITY^SET(-1);}
SEQDIALOG:ONFINISHED^MASAJ_COLL_A={ISEQPRIORITY^SET(100);SEQDIALOG^PLAY("MASAJ_COLL_B");}
SEQDIALOG:ONFINISHED^MASAJ_COLL_B={ISEQPRIORITY^SET(100);GSAVE^SET("AMAZONIA_STATUS","ODWIEDZONY_COLL");BEHGOTOSCENE^RUN();}
SEQDIALOG:ONFINISHED^KROKODYL_COLL_A={ISEQPRIORITY^SET(100);SEQDIALOG^PLAY("KROKODYL_COLL_B");}
SEQDIALOG:ONFINISHED^KROKODYL_COLL_B={ISEQPRIORITY^SET(100);GSAVE^SET("AMAZONIA_STATUS","ODWIEDZONY_COLL");BEHGOTOSCENE^RUN();}
SEQDIALOG:ONFINISHED^MASAJ_COLL_FIRST3={ISEQPRIORITY^SET(-1);BLOCK^SET(FALSE);*SENEMYCOLLNAME^RESUME();}

OBJECT=GALL
GALL:TYPE=GROUP

OBJECT=GALL1
GALL1:TYPE=GROUP

OBJECT=GALL2
GALL2:TYPE=GROUP

OBJECT=GALL3
GALL3:TYPE=GROUP

OBJECT=GALL4
GALL4:TYPE=GROUP

OBJECT=GALL5
GALL5:TYPE=GROUP

OBJECT=GALL6
GALL6:TYPE=GROUP

OBJECT=GALL7
GALL7:TYPE=GROUP

OBJECT=GENEMIES
GENEMIES:TYPE=GROUP

OBJECT=GENEMYNAMES
GENEMYNAMES:TYPE=GROUP

OBJECT=SFX_THING
SFX_THING:TYPE=SOUND
SFX_THING:FILENAME=SFX_THING.WAV
SFX_THING:PRELOAD=FALSE
SFX_THING:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_DZUNGLA_CIECIE
SFX_DZUNGLA_CIECIE:TYPE=SOUND
SFX_DZUNGLA_CIECIE:FILENAME=SFX_DZUNGLA_CIECIE.WAV
SFX_DZUNGLA_CIECIE:PRELOAD=FALSE
SFX_DZUNGLA_CIECIE:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_DZUNGLA_WIOSLA
SFX_DZUNGLA_WIOSLA:TYPE=SOUND
SFX_DZUNGLA_WIOSLA:FILENAME=SFX_DZUNGLA_WIOSLA.WAV
SFX_DZUNGLA_WIOSLA:PRELOAD=FALSE
SFX_DZUNGLA_WIOSLA:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_WALK
SFX_WALK:TYPE=SOUND
SFX_WALK:FILENAME=SFX_WALK.WAV
SFX_WALK:PRELOAD=TRUE
SFX_WALK:FLUSHAFTERPLAYED=FALSE
SFX_WALK:ONFINISHED={SFX_WALK^PLAY();}

OBJECT=ARRMAPAPOLA
ARRMAPAPOLA:TYPE=ARRAY

OBJECT=ARRMAPABKG
ARRMAPABKG:TYPE=ARRAY

OBJECT=ARRCLONES
ARRCLONES:TYPE=ARRAY

OBJECT=ARRKEYS
ARRKEYS:TYPE=ARRAY

OBJECT=ARRSERCAK
ARRSERCAK:TYPE=ARRAY

OBJECT=ARRSERCAWOKOL
ARRSERCAWOKOL:TYPE=ARRAY

OBJECT=ARRINVENTORY
ARRINVENTORY:TYPE=ARRAY

OBJECT=ARRINFO
ARRINFO:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=0

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=CLSCHASZCZEENEMYOBJ
CLSCHASZCZEENEMYOBJ:TYPE=CLASS
CLSCHASZCZEENEMYOBJ:DEF=CLSCHASZCZEENEMY.CLASS
CLSCHASZCZEENEMYOBJ:BASE=

OBJECT=ARRMAPA
ARRMAPA:TYPE=MULTIARRAY
ARRMAPA:DIMENSIONS=2

OBJECT=ARRMAPAOBJ
ARRMAPAOBJ:TYPE=MULTIARRAY
ARRMAPAOBJ:DIMENSIONS=2

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD
KEYBOARD:ONKEYDOWN^UP={@IF("BLOCK","_","FALSE","BFITMP188","");}
KEYBOARD:ONKEYDOWN^DOWN={@IF("BLOCK","_","FALSE","BFITMP190","");}
KEYBOARD:ONKEYDOWN^LEFT={@IF("BLOCK","_","FALSE","BFITMP192","");}
KEYBOARD:ONKEYDOWN^RIGHT={@IF("BLOCK","_","FALSE","BFITMP194","");}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={ANNKEYBMOUSEHELP^PLAY("LPGD");BEHMUSICSET^RUN("AMAZONIA");KEYBOARD^SETAUTOREPEAT(FALSE);ILEVEL^SET(GSAVE^GET("AMAZONIA_LEVEL"));SLEVELSEL^SET([""+ILEVEL+SGAMEDIFFICULTY]);@IF("ILEVEL","_","2","BFITMP195","BFITMP196");BEHINITMAPA^RUN();BEHQUICKFIX^RUN();@IF(GSAVE^GET("AMAZONIA_STATUS"),"_",""NIEODWIEDZONY"","BFITMP199","BFITMP200");}


OBJECT=BEHINITMAPA
BEHINITMAPA:TYPE=BEHAVIOUR
BEHINITMAPA:CODE={I1^SET(ARRMAPABKG^GETSIZE());ISIZEX^SET(ARRMAPABKG^GET([I1-4]));ISIZEY^SET(ARRMAPABKG^GET([I1-3]));IPLAYERX^SET(ARRMAPABKG^GET([I1-2]));IPLAYERY^SET(ARRMAPABKG^GET([I1-1]));ARRSERCAK^REMOVEALL();ARRCLONES^REMOVEALL();ARRCLONES^ADD(1);ICLONENO^SET(0);ICLONENOSEL^SET(0);IY^SET(0);@WHILE("IY","<","ISIZEY","{@LOOP("{IX^SET(_I_);S1^SET(ARRMAPABKG^GET([[IY*ISIZEX]+IX]));I1^SET(ANNPOLA^GETNOFINEVENT(S1));ANNPOLA^SETFRAME(S1,RANDOM^GET(I1));CANVASOBSERVER^PASTE("ANNPOLA",[IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,S1);SPOLE^SET(S1);}",0,ISIZEX,1);IY^INC();}");IY^SET(0);IENEMYNO^SET(0);@WHILE("IY","<","ISIZEY","{@LOOP("{IX^SET(_I_);SPOLE^SET(ARRMAPAPOLA^GET([[IY*ISIZEX]+IX]));@IF("SPOLE","!_","""","BFITMP201","");}",0,ISIZEX,1);IY^INC();}");ANNPOLA^HIDE();ANNPLAYER^SETPOSITION([IPLAYERX*IGRID],[IPLAYERY*IGRID]);SPLAYERCAMEFROM^SET(ARRMAPABKG^GET([[IPLAYERY*ISIZEX]+IPLAYERX]));I1^SET(ANNNAKBRZEGI^GETNOFINEVENT("IDLE"));ANNNAKBRZEGI^CLONE([I1-1]);@LOOP("{S1^SET(["ANNNAKBRZEGI_"+_I_]);*S1^SETFRAME("IDLE",_I_);GENEMIES^ADD(S1);}",0,I1,1);I1^SET([IPLAYERX-ICENTERX]);I2^SET([IPLAYERY-ICENTERY]);I1^CLAMP(0,[ISIZEX-16]);I2^CLAMP(0,[ISIZEY-12]);IBKGSTARTX^SET([0-I1]);IBKGSTARTY^SET([0-I2]);CANVASOBSERVER^MOVEBKG([I1*IGRID],[I2*IGRID]);GALL^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GALL1^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GALL2^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GALL3^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GALL4^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GALL5^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GALL6^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GALL7^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);GENEMIES^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);ANNPLAYER^MOVE([0-[I1*IGRID]],[0-[I2*IGRID]]);@IF(ARRSERCAK^GETSIZE(),">","0","BFITMP202","");}


OBJECT=BEHQUICKFIX
BEHQUICKFIX:TYPE=BEHAVIOUR
BEHQUICKFIX:CODE={@IF("ILEVEL","_","1","BFITMP203","");@IF("ILEVEL","_","2","BFITMP204","");@IF("ILEVEL","_","3","BFITMP205","");}


OBJECT=BEHNAKLADKA
BEHNAKLADKA:TYPE=BEHAVIOUR
BEHNAKLADKA:CODE={ANNPOLA^CLONE(1);ICLONENO^INC();S1^SET(["ANNPOLA_"+ICLONENO]);ARRCLONES^ADD(1);I1^SET(ANNPOLA^GETNOFINEVENT("MUR_NAK"));*S1^SETFRAME("MUR_NAK",RANDOM^GET(I1));*S1^SETPOSITION([IX*IGRID],[IY*IGRID]);*S1^SETPRIORITY(105);}


OBJECT=_______________
_______________:TYPE=BEHAVIOUR
_______________:CODE={}


OBJECT=BEHSEQPLAY
BEHSEQPLAY:TYPE=BEHAVIOUR
BEHSEQPLAY:CODE={@STRING("STMPSEQNAME",$1);@STRING("STMPSEQEVENT",$2);@INT("ITMPSEQPRIORITY",$3);@IF("STMPSEQNAME!'SSEQNAME||SSEQEVENT!'STMPSEQEVENT","BFITMP207","");}


OBJECT=BEHSEQSTOP
BEHSEQSTOP:TYPE=BEHAVIOUR
BEHSEQSTOP:CODE={@STRING("STMPSEQNAME",$1);@STRING("STMPSEQSIGNAL",$2);@IF("STMPSEQSIGNAL","_","TRUE","BFITMP208","BFITMP209");ISEQPRIORITY^SET(-1);}


OBJECT=BEHWALKSFX
BEHWALKSFX:TYPE=BEHAVIOUR
BEHWALKSFX:CODE={@IF(SFX_WALK^ISPLAYING(),"_","FALSE","BFITMP210","");}


OBJECT=_______________
_______________:TYPE=BEHAVIOUR
_______________:CODE={}


OBJECT=BEHPLAYERDEATH
BEHPLAYERDEATH:TYPE=BEHAVIOUR
BEHPLAYERDEATH:CODE={BLOCK^SET(TRUE);ARRKEYS^REMOVEALL();ANNPLAYER^STOP(FALSE);GENEMIES^NOCOLL();BEHREMOVEENEMYCOLL^RUN();BTNRESTART^DISABLEBUTVISIBLE();@IF("IENEMYTYPE","_","0","BFITMP211","");@IF("IENEMYTYPE","_","1","BFITMP212","");}


OBJECT=BEHGOONENEMY
BEHGOONENEMY:TYPE=BEHAVIOUR
BEHGOONENEMY:CODE={SPLAYEREVENTTOPLAY^SET(NULL);*SPLAYERGOON^DEAD();SPLAYERGOON^SET(ARRMAPA^GET(IPLAYERGOONX,IPLAYERGOONY));BEHPLAYERDEATH^RUN();}


OBJECT=BEHGOONENEMYNOCOLL
BEHGOONENEMYNOCOLL:TYPE=BEHAVIOUR
BEHGOONENEMYNOCOLL:CODE={SPLAYEREVENTTOPLAY^SET(NULL);@IF("ILEVEL","_","3","BFITMP215","");}


OBJECT=BEHSUCCESS
BEHSUCCESS:TYPE=BEHAVIOUR
BEHSUCCESS:CODE={BLOCK^SET(TRUE);GENEMIES^NOCOLL();BEHREMOVEENEMYCOLL^RUN();@IF("ILEVEL","<","3","BFITMP216","BFITMP217");BEHSEQPLAY^RUN("SEQWSTEP",["META"+ILEVEL],12);}


OBJECT=_______________
_______________:TYPE=BEHAVIOUR
_______________:CODE={}


OBJECT=BEHKRZAKROSNIE
BEHKRZAKROSNIE:TYPE=BEHAVIOUR
BEHKRZAKROSNIE:CODE={@INT("ITMP1",ARRCLONES^FIND(-1));@STRING("STMP1","");@INT("ITMP2",0);@IF("ITMP1",">","-1","BFITMP218","BFITMP219");ARRMAPA^SET(IX,IY,"KRZAK");ARRMAPAOBJ^SET(IX,IY,STMP1);ARRCLONES^CHANGEAT(ITMP1,1);ITMP1^SET([[IX+IBKGSTARTX]*IGRID]);ITMP2^SET([[IY+IBKGSTARTY]*IGRID]);ITMP1^ADD(IBKGDELTAX);ITMP2^ADD(IBKGDELTAY);*STMP1^SETPOSITION(ITMP1,ITMP2);ITMP1^SET(RANDOM^GET(4));*STMP1^SETPRIORITY(59);*STMP1^PLAY(["KRZAK_ROSNIE"+ITMP1]);}


OBJECT=BEHREMOVEENEMYCOLL
BEHREMOVEENEMYCOLL:TYPE=BEHAVIOUR
BEHREMOVEENEMYCOLL:CODE={@LOOP("{S1^SET(["ENEMY"+_I_]);SPLAYERGOON^REMOVEBEHAVIOUR(["ONBRUTALCHANGED^"+S1]);SPLAYERGOON^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+S1],"BEHGOONENEMYNOCOLL");}",0,IENEMYNO,1);}


OBJECT=_______________
_______________:TYPE=BEHAVIOUR
_______________:CODE={}


OBJECT=BEHNULL
BEHNULL:TYPE=BEHAVIOUR
BEHNULL:CODE={BLOCK^SET(FALSE);}


OBJECT=BEHRESTART
BEHRESTART:TYPE=BEHAVIOUR
BEHRESTART:CODE={BEHGOTOSCENE^RUN();}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={GSAVE^SET("SCENE_INFO","");BEHSEQPLAY^RUN("SEQWSTEP","WSTEP_RESTART_COLL",2);}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={BEHSEQPLAY^RUN("SEQWSTEP","WSTEP_RESTART",2);}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={BEHNAKLADKA^RUN();}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={SEVT^SET("");SPLAYEREVENTTOPLAY^SET(SPLAYEREVENTTOPLAY^GET(0,1));}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={SEVT^SET("M");SPLAYEREVENTTOPLAY^SET([SPLAYEREVENTTOPLAY^GET(0,1)+SEVT]);}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={IX^SET([ISERCEX-1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={IX^SET(ISERCEX);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={IX^SET([ISERCEX+1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP24
BFITMP24:TYPE=BEHAVIOUR
BFITMP24:CODE={IY^SET([ISERCEY-1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP25
BFITMP25:TYPE=BEHAVIOUR
BFITMP25:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP26
BFITMP26:TYPE=BEHAVIOUR
BFITMP26:CODE={IY^SET(ISERCEY);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP27
BFITMP27:TYPE=BEHAVIOUR
BFITMP27:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP28
BFITMP28:TYPE=BEHAVIOUR
BFITMP28:CODE={IY^SET([ISERCEY+1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP29
BFITMP29:TYPE=BEHAVIOUR
BFITMP29:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP30
BFITMP30:TYPE=BEHAVIOUR
BFITMP30:CODE={IX^SET([ISERCEX+1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP31
BFITMP31:TYPE=BEHAVIOUR
BFITMP31:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP32
BFITMP32:TYPE=BEHAVIOUR
BFITMP32:CODE={IX^SET(ISERCEX);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP33
BFITMP33:TYPE=BEHAVIOUR
BFITMP33:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP34
BFITMP34:TYPE=BEHAVIOUR
BFITMP34:CODE={IX^SET([ISERCEX-1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP35
BFITMP35:TYPE=BEHAVIOUR
BFITMP35:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP36
BFITMP36:TYPE=BEHAVIOUR
BFITMP36:CODE={IY^SET([ISERCEY+1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP37
BFITMP37:TYPE=BEHAVIOUR
BFITMP37:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP38
BFITMP38:TYPE=BEHAVIOUR
BFITMP38:CODE={IY^SET(ISERCEY);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP39
BFITMP39:TYPE=BEHAVIOUR
BFITMP39:CODE={SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP40
BFITMP40:TYPE=BEHAVIOUR
BFITMP40:CODE={IY^SET([ISERCEY-1]);SSERCEWOKOL^SET(ARRMAPA^GET(IX,IY));}


OBJECT=BFITMP41
BFITMP41:TYPE=BEHAVIOUR
BFITMP41:CODE={ARRKEYS^ADD("RIGHT");}


OBJECT=BFITMP42
BFITMP42:TYPE=BEHAVIOUR
BFITMP42:CODE={ARRKEYS^ADD("LEFT");}


OBJECT=BFITMP43
BFITMP43:TYPE=BEHAVIOUR
BFITMP43:CODE={@IF(KEYBOARD^ISKEYDOWN("RIGHT"),"_","TRUE","BFITMP41","");}


OBJECT=BFITMP44
BFITMP44:TYPE=BEHAVIOUR
BFITMP44:CODE={ARRKEYS^ADD("DOWN");}


OBJECT=BFITMP45
BFITMP45:TYPE=BEHAVIOUR
BFITMP45:CODE={@IF(KEYBOARD^ISKEYDOWN("LEFT"),"_","TRUE","BFITMP42","BFITMP43");}


OBJECT=BFITMP46
BFITMP46:TYPE=BEHAVIOUR
BFITMP46:CODE={ARRKEYS^ADD("UP");}


OBJECT=BFITMP47
BFITMP47:TYPE=BEHAVIOUR
BFITMP47:CODE={@IF(KEYBOARD^ISKEYDOWN("DOWN"),"_","TRUE","BFITMP44","BFITMP45");}


OBJECT=BFITMP48
BFITMP48:TYPE=BEHAVIOUR
BFITMP48:CODE={@IF(KEYBOARD^ISKEYDOWN("UP"),"_","TRUE","BFITMP46","BFITMP47");}


OBJECT=BFITMP49
BFITMP49:TYPE=BEHAVIOUR
BFITMP49:CODE={IMIECZ^DEC();S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));IKRZAKSCINANR^INC();SFX_DZUNGLA_CIECIE^PLAY();}


OBJECT=BFITMP50
BFITMP50:TYPE=BEHAVIOUR
BFITMP50:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","KRZAK_NO_MACZETA",2);}


OBJECT=BFITMP51
BFITMP51:TYPE=BEHAVIOUR
BFITMP51:CODE={SEVT^SET("T");SPLAYEREVENTTOPLAY^SET([SPLAYEREVENTTOPLAY^GET(0,1)+SEVT]);}


OBJECT=BFITMP52
BFITMP52:TYPE=BEHAVIOUR
BFITMP52:CODE={SFX_DZUNGLA_WIOSLA^PLAY();@IF("SEVT","!_",""T"","BFITMP51","");}


OBJECT=BFITMP53
BFITMP53:TYPE=BEHAVIOUR
BFITMP53:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","WODA_NO_PONTON",2);}


OBJECT=BFITMP54
BFITMP54:TYPE=BEHAVIOUR
BFITMP54:CODE={BODWWODA^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","WODA",2);}


OBJECT=BFITMP55
BFITMP55:TYPE=BEHAVIOUR
BFITMP55:CODE={SEVT^SET("T");SPLAYEREVENTTOPLAY^SET([SPLAYEREVENTTOPLAY^GET(0,1)+SEVT]);@IF("BODWWODA","_","FALSE","BFITMP54","");}


OBJECT=BFITMP56
BFITMP56:TYPE=BEHAVIOUR
BFITMP56:CODE={SFX_DZUNGLA_WIOSLA^PLAY();@IF("SEVT","!_",""T"","BFITMP55","");}


OBJECT=BFITMP57
BFITMP57:TYPE=BEHAVIOUR
BFITMP57:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","WODA_NO_PONTON",2);}


OBJECT=BFITMP58
BFITMP58:TYPE=BEHAVIOUR
BFITMP58:CODE={BODWWODA^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","WODA",2);}


OBJECT=BFITMP59
BFITMP59:TYPE=BEHAVIOUR
BFITMP59:CODE={SEVT^SET("T");SPLAYEREVENTTOPLAY^SET([SPLAYEREVENTTOPLAY^GET(0,1)+SEVT]);@IF("BODWWODA","_","FALSE","BFITMP58","");}


OBJECT=BFITMP60
BFITMP60:TYPE=BEHAVIOUR
BFITMP60:CODE={SFX_DZUNGLA_WIOSLA^PLAY();@IF("SEVT","!_",""T"","BFITMP59","");}


OBJECT=BFITMP61
BFITMP61:TYPE=BEHAVIOUR
BFITMP61:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","WODA_NO_PONTON",2);}


OBJECT=BFITMP62
BFITMP62:TYPE=BEHAVIOUR
BFITMP62:CODE={BODWWODA^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","WODA",2);}


OBJECT=BFITMP63
BFITMP63:TYPE=BEHAVIOUR
BFITMP63:CODE={SEVT^SET("T");SPLAYEREVENTTOPLAY^SET([SPLAYEREVENTTOPLAY^GET(0,1)+SEVT]);@IF("BODWWODA","_","FALSE","BFITMP62","");}


OBJECT=BFITMP64
BFITMP64:TYPE=BEHAVIOUR
BFITMP64:CODE={SFX_DZUNGLA_WIOSLA^PLAY();@IF("SEVT","!_",""T"","BFITMP63","");}


OBJECT=BFITMP65
BFITMP65:TYPE=BEHAVIOUR
BFITMP65:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","WODA_NO_PONTON",2);}


OBJECT=BFITMP66
BFITMP66:TYPE=BEHAVIOUR
BFITMP66:CODE={BODWWODA^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","WODA",2);}


OBJECT=BFITMP67
BFITMP67:TYPE=BEHAVIOUR
BFITMP67:CODE={SEVT^SET("T");SPLAYEREVENTTOPLAY^SET([SPLAYEREVENTTOPLAY^GET(0,1)+SEVT]);@IF("BODWWODA","_","FALSE","BFITMP66","");}


OBJECT=BFITMP68
BFITMP68:TYPE=BEHAVIOUR
BFITMP68:CODE={SFX_DZUNGLA_WIOSLA^PLAY();@IF("SEVT","!_",""T"","BFITMP67","");}


OBJECT=BFITMP69
BFITMP69:TYPE=BEHAVIOUR
BFITMP69:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","WODA_NO_PONTON",2);}


OBJECT=BFITMP70
BFITMP70:TYPE=BEHAVIOUR
BFITMP70:CODE={BEHSEQPLAY^RUN("SEQPLAYER","OSELKA_NO_NEED",1);}


OBJECT=BFITMP71
BFITMP71:TYPE=BEHAVIOUR
BFITMP71:CODE={BODWOSELKA^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","OSELKA_FIRST",2);}


OBJECT=BFITMP72
BFITMP72:TYPE=BEHAVIOUR
BFITMP72:CODE={BEHSEQPLAY^RUN("SEQPLAYER","OSELKA",1);}


OBJECT=BFITMP73
BFITMP73:TYPE=BEHAVIOUR
BFITMP73:CODE={I1^SET([IMIECZ+5]);I1^CLAMP(0,IMIECZMAX);IMIECZ^SET(I1);S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));@IF("BODWOSELKA","_","FALSE","BFITMP71","BFITMP72");SFX_THING^PLAY();}


OBJECT=BFITMP74
BFITMP74:TYPE=BEHAVIOUR
BFITMP74:CODE={BEHSEQPLAY^RUN("SEQPLAYER","OSELKA_NO_NEED",1);}


OBJECT=BFITMP75
BFITMP75:TYPE=BEHAVIOUR
BFITMP75:CODE={BODWOSELKA^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","OSELKA_FIRST",2);}


OBJECT=BFITMP76
BFITMP76:TYPE=BEHAVIOUR
BFITMP76:CODE={BEHSEQPLAY^RUN("SEQPLAYER","OSELKA",1);}


OBJECT=BFITMP77
BFITMP77:TYPE=BEHAVIOUR
BFITMP77:CODE={I1^SET([IMIECZ+5]);I1^CLAMP(0,IMIECZMAX);IMIECZ^SET(I1);S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^HIDE();I1^SET(*S1^GETCLONEINDEX());ARRCLONES^CHANGEAT(I1,-1);SPLAYERGOON^SET(ARRMAPABKG^GET([[IPLAYERGOONY*ISIZEX]+IPLAYERGOONX]));@IF("BODWOSELKA","_","FALSE","BFITMP75","BFITMP76");SFX_THING^PLAY();}


OBJECT=BFITMP78
BFITMP78:TYPE=BEHAVIOUR
BFITMP78:CODE={IMIECZ^SET(IMIECZMAX);SFX_THING^PLAY();}


OBJECT=BFITMP79
BFITMP79:TYPE=BEHAVIOUR
BFITMP79:CODE={ARRINVENTORY^ADD("KLUCZ_RED");ANNPANKRED^SETFRAME("IDLE",1);}


OBJECT=BFITMP80
BFITMP80:TYPE=BEHAVIOUR
BFITMP80:CODE={ARRINVENTORY^ADD("KLUCZ_YELLOW");ANNPANKYEL^SETFRAME("IDLE",1);BEHSEQPLAY^RUN("SEQPLAYER","SZNUREK_TAKE",2);}


OBJECT=BFITMP81
BFITMP81:TYPE=BEHAVIOUR
BFITMP81:CODE={S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^PLAY([SPLAYERGOON+"_OPEN"]);SPLAYERGOON^SET([SPLAYERGOON+"_OPEN"]);}


OBJECT=BFITMP82
BFITMP82:TYPE=BEHAVIOUR
BFITMP82:CODE={SPLAYEREVENTTOPLAY^SET(NULL);}


OBJECT=BFITMP83
BFITMP83:TYPE=BEHAVIOUR
BFITMP83:CODE={S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^PLAY([SPLAYERGOON+"_OPEN"]);SPLAYERGOON^SET([SPLAYERGOON+"_OPEN"]);}


OBJECT=BFITMP84
BFITMP84:TYPE=BEHAVIOUR
BFITMP84:CODE={SPLAYEREVENTTOPLAY^SET(NULL);}


OBJECT=BFITMP85
BFITMP85:TYPE=BEHAVIOUR
BFITMP85:CODE={S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^PLAY([SPLAYERGOON+"_OPEN"]);SPLAYERGOON^SET([SPLAYERGOON+"_OPEN"]);ANNPANKYEL^SETFRAME("IDLE",0);BEHSEQPLAY^RUN("SEQPLAYER","PAROW",2);}


OBJECT=BFITMP86
BFITMP86:TYPE=BEHAVIOUR
BFITMP86:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","PAROW_NO_KEY",2);}


OBJECT=BFITMP87
BFITMP87:TYPE=BEHAVIOUR
BFITMP87:CODE={S1^SET(ARRMAPAOBJ^GET(IPLAYERGOONX,IPLAYERGOONY));*S1^PLAY([SPLAYERGOON+"_OPEN"]);SPLAYERGOON^SET([SPLAYERGOON+"_OPEN"]);ANNPANKYEL^SETFRAME("IDLE",0);BEHSEQPLAY^RUN("SEQPLAYER","PAROW",2);}


OBJECT=BFITMP88
BFITMP88:TYPE=BEHAVIOUR
BFITMP88:CODE={SPLAYEREVENTTOPLAY^SET(NULL);BEHSEQPLAY^RUN("SEQPLAYER","PAROW_NO_KEY",2);}


OBJECT=BFITMP89
BFITMP89:TYPE=BEHAVIOUR
BFITMP89:CODE={BEHSEQPLAY^RUN("SEQDIALOG","SLADY_FIRST1",2);}


OBJECT=BFITMP90
BFITMP90:TYPE=BEHAVIOUR
BFITMP90:CODE={BEHSEQPLAY^RUN("SEQDIALOG","SLADY_FIRST2",1);}


OBJECT=BFITMP91
BFITMP91:TYPE=BEHAVIOUR
BFITMP91:CODE={BODWSLADY^SET(TRUE);@IF("ILEVEL","_","1","BFITMP89","");@IF("ILEVEL","_","2","BFITMP90","");}


OBJECT=BFITMP92
BFITMP92:TYPE=BEHAVIOUR
BFITMP92:CODE={BEHSEQPLAY^RUN("SEQDIALOG","SLADY_END",2);}


OBJECT=BFITMP93
BFITMP93:TYPE=BEHAVIOUR
BFITMP93:CODE={BODWSLADYEND^SET(TRUE);@IF("ILEVEL","_","2","BFITMP92","");}


OBJECT=BFITMP94
BFITMP94:TYPE=BEHAVIOUR
BFITMP94:CODE={BODWOBOZ^SET(TRUE);BEHSEQPLAY^RUN("SEQDIALOG","OBOZ1",2);}


OBJECT=BFITMP95
BFITMP95:TYPE=BEHAVIOUR
BFITMP95:CODE={BODWZEJSCIE^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","ZEJSCIE",2);}


OBJECT=BFITMP96
BFITMP96:TYPE=BEHAVIOUR
BFITMP96:CODE={BODWPOLEX^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","POLE_X",2);}


OBJECT=BFITMP97
BFITMP97:TYPE=BEHAVIOUR
BFITMP97:CODE={BODWPOLEY^SET(TRUE);BEHSEQPLAY^RUN("SEQPLAYER","POLE_Y",2);}


OBJECT=BFITMP98
BFITMP98:TYPE=BEHAVIOUR
BFITMP98:CODE={SEVT^SET("M");}


OBJECT=BFITMP99
BFITMP99:TYPE=BEHAVIOUR
BFITMP99:CODE={SEVT^SET("");}


OBJECT=BFITMP100
BFITMP100:TYPE=BEHAVIOUR
BFITMP100:CODE={SFX_DZUNGLA_WIOSLA^STOP(FALSE);@IF("IMIECZ",">","0","BFITMP98","BFITMP99");SPLAYEREVENTTOPLAY^SET([SPLAYEREVENTTOPLAY^GET(0,1)+SEVT]);}


OBJECT=BFITMP101
BFITMP101:TYPE=BEHAVIOUR
BFITMP101:CODE={SKEYPRESSED^SET(ARRKEYS^GET(0));}


OBJECT=BFITMP102
BFITMP102:TYPE=BEHAVIOUR
BFITMP102:CODE={SPLAYEREVENT^SET(SPLAYEREVENTTOPLAY);}


OBJECT=BFITMP103
BFITMP103:TYPE=BEHAVIOUR
BFITMP103:CODE={ANNPLAYER^SETFRAME(["IDLE_U"+SEVT],0);@IF(ARRKEYS^GETSIZE(),">","0","BFITMP101","");}


OBJECT=BFITMP104
BFITMP104:TYPE=BEHAVIOUR
BFITMP104:CODE={ARRKEYS^REMOVEAT(0);SPLAYEREVENTTOPLAY^SET(["U"+SEVT]);IPLAYERGOONX^SET(IPLAYERX);IPLAYERGOONY^SET([IPLAYERY-1]);SPLAYERGOON^SET(ARRMAPA^GET(IPLAYERGOONX,IPLAYERGOONY));@IF("SPLAYEREVENTTOPLAY","!_","NULL","BFITMP102","BFITMP103");}


OBJECT=BFITMP105
BFITMP105:TYPE=BEHAVIOUR
BFITMP105:CODE={SKEYPRESSED^SET(ARRKEYS^GET(0));}


OBJECT=BFITMP106
BFITMP106:TYPE=BEHAVIOUR
BFITMP106:CODE={SPLAYEREVENT^SET(SPLAYEREVENTTOPLAY);}


OBJECT=BFITMP107
BFITMP107:TYPE=BEHAVIOUR
BFITMP107:CODE={ANNPLAYER^SETFRAME(["IDLE_D"+SEVT],0);@IF(ARRKEYS^GETSIZE(),">","0","BFITMP105","");}


OBJECT=BFITMP108
BFITMP108:TYPE=BEHAVIOUR
BFITMP108:CODE={ARRKEYS^REMOVEAT(0);SPLAYEREVENTTOPLAY^SET(["D"+SEVT]);IPLAYERGOONX^SET(IPLAYERX);IPLAYERGOONY^SET([IPLAYERY+1]);SPLAYERGOON^SET(ARRMAPA^GET(IPLAYERGOONX,IPLAYERGOONY));@IF("SPLAYEREVENTTOPLAY","!_","NULL","BFITMP106","BFITMP107");}


OBJECT=BFITMP109
BFITMP109:TYPE=BEHAVIOUR
BFITMP109:CODE={SKEYPRESSED^SET(ARRKEYS^GET(0));}


OBJECT=BFITMP110
BFITMP110:TYPE=BEHAVIOUR
BFITMP110:CODE={SPLAYEREVENT^SET(SPLAYEREVENTTOPLAY);}


OBJECT=BFITMP111
BFITMP111:TYPE=BEHAVIOUR
BFITMP111:CODE={ANNPLAYER^SETFRAME(["IDLE_L"+SEVT],0);@IF(ARRKEYS^GETSIZE(),">","0","BFITMP109","");}


OBJECT=BFITMP112
BFITMP112:TYPE=BEHAVIOUR
BFITMP112:CODE={ARRKEYS^REMOVEAT(0);SPLAYEREVENTTOPLAY^SET(["L"+SEVT]);IPLAYERGOONX^SET([IPLAYERX-1]);IPLAYERGOONY^SET(IPLAYERY);SPLAYERGOON^SET(ARRMAPA^GET(IPLAYERGOONX,IPLAYERGOONY));@IF("SPLAYEREVENTTOPLAY","!_","NULL","BFITMP110","BFITMP111");}


OBJECT=BFITMP113
BFITMP113:TYPE=BEHAVIOUR
BFITMP113:CODE={SKEYPRESSED^SET(ARRKEYS^GET(0));}


OBJECT=BFITMP114
BFITMP114:TYPE=BEHAVIOUR
BFITMP114:CODE={SPLAYEREVENT^SET(SPLAYEREVENTTOPLAY);}


OBJECT=BFITMP115
BFITMP115:TYPE=BEHAVIOUR
BFITMP115:CODE={ANNPLAYER^SETFRAME(["IDLE_R"+SEVT],0);@IF(ARRKEYS^GETSIZE(),">","0","BFITMP113","");}


OBJECT=BFITMP116
BFITMP116:TYPE=BEHAVIOUR
BFITMP116:CODE={ARRKEYS^REMOVEAT(0);SPLAYEREVENTTOPLAY^SET(["R"+SEVT]);IPLAYERGOONX^SET([IPLAYERX+1]);IPLAYERGOONY^SET(IPLAYERY);SPLAYERGOON^SET(ARRMAPA^GET(IPLAYERGOONX,IPLAYERGOONY));@IF("SPLAYEREVENTTOPLAY","!_","NULL","BFITMP114","BFITMP115");}


OBJECT=BFITMP117
BFITMP117:TYPE=BEHAVIOUR
BFITMP117:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(-5);IBKGSTARTY^ADD(1);IBKGDELTAX^SET(0);IBKGDELTAY^SET([0-IGRID]);}


OBJECT=BFITMP118
BFITMP118:TYPE=BEHAVIOUR
BFITMP118:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP119
BFITMP119:TYPE=BEHAVIOUR
BFITMP119:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(5);IBKGSTARTY^SUB(1);IBKGDELTAX^SET(0);IBKGDELTAY^SET(IGRID);}


OBJECT=BFITMP120
BFITMP120:TYPE=BEHAVIOUR
BFITMP120:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP121
BFITMP121:TYPE=BEHAVIOUR
BFITMP121:CODE={ISCROLLDELTAX^SET(-5);ISCROLLDELTAY^SET(0);IBKGSTARTX^ADD(1);IBKGDELTAX^SET([0-IGRID]);IBKGDELTAY^SET(0);}


OBJECT=BFITMP122
BFITMP122:TYPE=BEHAVIOUR
BFITMP122:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP123
BFITMP123:TYPE=BEHAVIOUR
BFITMP123:CODE={ISCROLLDELTAX^SET(5);ISCROLLDELTAY^SET(0);IBKGSTARTX^SUB(1);IBKGDELTAX^SET(IGRID);IBKGDELTAY^SET(0);}


OBJECT=BFITMP124
BFITMP124:TYPE=BEHAVIOUR
BFITMP124:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP125
BFITMP125:TYPE=BEHAVIOUR
BFITMP125:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(-5);IBKGSTARTY^ADD(1);IBKGDELTAX^SET(0);IBKGDELTAY^SET([0-IGRID]);}


OBJECT=BFITMP126
BFITMP126:TYPE=BEHAVIOUR
BFITMP126:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP127
BFITMP127:TYPE=BEHAVIOUR
BFITMP127:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(5);IBKGSTARTY^SUB(1);IBKGDELTAX^SET(0);IBKGDELTAY^SET(IGRID);}


OBJECT=BFITMP128
BFITMP128:TYPE=BEHAVIOUR
BFITMP128:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP129
BFITMP129:TYPE=BEHAVIOUR
BFITMP129:CODE={ISCROLLDELTAX^SET(-5);ISCROLLDELTAY^SET(0);IBKGSTARTX^ADD(1);IBKGDELTAX^SET([0-IGRID]);IBKGDELTAY^SET(0);}


OBJECT=BFITMP130
BFITMP130:TYPE=BEHAVIOUR
BFITMP130:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP131
BFITMP131:TYPE=BEHAVIOUR
BFITMP131:CODE={ISCROLLDELTAX^SET(5);ISCROLLDELTAY^SET(0);IBKGSTARTX^SUB(1);IBKGDELTAX^SET(IGRID);IBKGDELTAY^SET(0);}


OBJECT=BFITMP132
BFITMP132:TYPE=BEHAVIOUR
BFITMP132:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP133
BFITMP133:TYPE=BEHAVIOUR
BFITMP133:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(-5);IBKGSTARTY^ADD(1);IBKGDELTAX^SET(0);IBKGDELTAY^SET([0-IGRID]);}


OBJECT=BFITMP134
BFITMP134:TYPE=BEHAVIOUR
BFITMP134:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP135
BFITMP135:TYPE=BEHAVIOUR
BFITMP135:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(5);IBKGSTARTY^SUB(1);IBKGDELTAX^SET(0);IBKGDELTAY^SET(IGRID);}


OBJECT=BFITMP136
BFITMP136:TYPE=BEHAVIOUR
BFITMP136:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP137
BFITMP137:TYPE=BEHAVIOUR
BFITMP137:CODE={ISCROLLDELTAX^SET(-5);ISCROLLDELTAY^SET(0);IBKGSTARTX^ADD(1);IBKGDELTAX^SET([0-IGRID]);IBKGDELTAY^SET(0);}


OBJECT=BFITMP138
BFITMP138:TYPE=BEHAVIOUR
BFITMP138:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP139
BFITMP139:TYPE=BEHAVIOUR
BFITMP139:CODE={ISCROLLDELTAX^SET(5);ISCROLLDELTAY^SET(0);IBKGSTARTX^SUB(1);IBKGDELTAX^SET(IGRID);IBKGDELTAY^SET(0);}


OBJECT=BFITMP140
BFITMP140:TYPE=BEHAVIOUR
BFITMP140:CODE={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IBKGDELTAX^SET(0);IBKGDELTAY^SET(0);}


OBJECT=BFITMP141
BFITMP141:TYPE=BEHAVIOUR
BFITMP141:CODE={BEHSEQPLAY^RUN("SEQPLAYER","KRZAK_SCINA_FIRST",2);}


OBJECT=BFITMP142
BFITMP142:TYPE=BEHAVIOUR
BFITMP142:CODE={}


OBJECT=BFITMP143
BFITMP143:TYPE=BEHAVIOUR
BFITMP143:CODE={BEHSEQPLAY^RUN("SEQPLAYER","KRZAK_SCINA_THIRD",2);}


OBJECT=BFITMP144
BFITMP144:TYPE=BEHAVIOUR
BFITMP144:CODE={}


OBJECT=BFITMP145
BFITMP145:TYPE=BEHAVIOUR
BFITMP145:CODE={BEHSEQPLAY^RUN("SEQPLAYER","MACZETA_TEPA",2);}


OBJECT=BFITMP146
BFITMP146:TYPE=BEHAVIOUR
BFITMP146:CODE={}


OBJECT=BFITMP147
BFITMP147:TYPE=BEHAVIOUR
BFITMP147:CODE={IBKGDELTAY^SUB(ISCROLLDELTAY);CANVASOBSERVER^MOVEBKG(0,ISCROLLDELTAY);GALL^MOVE(0,[0-ISCROLLDELTAY]);GALL1^MOVE(0,[0-ISCROLLDELTAY]);GALL2^MOVE(0,[0-ISCROLLDELTAY]);GALL3^MOVE(0,[0-ISCROLLDELTAY]);GALL4^MOVE(0,[0-ISCROLLDELTAY]);GALL5^MOVE(0,[0-ISCROLLDELTAY]);GALL6^MOVE(0,[0-ISCROLLDELTAY]);GALL7^MOVE(0,[0-ISCROLLDELTAY]);GENEMIES^MOVE(0,[0-ISCROLLDELTAY]);}


OBJECT=BFITMP148
BFITMP148:TYPE=BEHAVIOUR
BFITMP148:CODE={ANNPLAYER^MOVE(0,-5);}


OBJECT=BFITMP149
BFITMP149:TYPE=BEHAVIOUR
BFITMP149:CODE={IBKGDELTAY^SUB(ISCROLLDELTAY);CANVASOBSERVER^MOVEBKG(0,ISCROLLDELTAY);GALL^MOVE(0,[0-ISCROLLDELTAY]);GALL1^MOVE(0,[0-ISCROLLDELTAY]);GALL2^MOVE(0,[0-ISCROLLDELTAY]);GALL3^MOVE(0,[0-ISCROLLDELTAY]);GALL4^MOVE(0,[0-ISCROLLDELTAY]);GALL5^MOVE(0,[0-ISCROLLDELTAY]);GALL6^MOVE(0,[0-ISCROLLDELTAY]);GALL7^MOVE(0,[0-ISCROLLDELTAY]);GENEMIES^MOVE(0,[0-ISCROLLDELTAY]);}


OBJECT=BFITMP150
BFITMP150:TYPE=BEHAVIOUR
BFITMP150:CODE={ANNPLAYER^MOVE(0,5);}


OBJECT=BFITMP151
BFITMP151:TYPE=BEHAVIOUR
BFITMP151:CODE={IBKGDELTAX^SUB(ISCROLLDELTAX);CANVASOBSERVER^MOVEBKG(ISCROLLDELTAX,0);GALL^MOVE([0-ISCROLLDELTAX],0);GALL1^MOVE([0-ISCROLLDELTAX],0);GALL2^MOVE([0-ISCROLLDELTAX],0);GALL3^MOVE([0-ISCROLLDELTAX],0);GALL4^MOVE([0-ISCROLLDELTAX],0);GALL5^MOVE([0-ISCROLLDELTAX],0);GALL6^MOVE([0-ISCROLLDELTAX],0);GALL7^MOVE([0-ISCROLLDELTAX],0);GENEMIES^MOVE([0-ISCROLLDELTAX],0);}


OBJECT=BFITMP152
BFITMP152:TYPE=BEHAVIOUR
BFITMP152:CODE={ANNPLAYER^MOVE(-5,0);}


OBJECT=BFITMP153
BFITMP153:TYPE=BEHAVIOUR
BFITMP153:CODE={IBKGDELTAX^SUB(ISCROLLDELTAX);CANVASOBSERVER^MOVEBKG(ISCROLLDELTAX,0);GALL^MOVE([0-ISCROLLDELTAX],0);GALL1^MOVE([0-ISCROLLDELTAX],0);GALL2^MOVE([0-ISCROLLDELTAX],0);GALL3^MOVE([0-ISCROLLDELTAX],0);GALL4^MOVE([0-ISCROLLDELTAX],0);GALL5^MOVE([0-ISCROLLDELTAX],0);GALL6^MOVE([0-ISCROLLDELTAX],0);GALL7^MOVE([0-ISCROLLDELTAX],0);GENEMIES^MOVE([0-ISCROLLDELTAX],0);}


OBJECT=BFITMP154
BFITMP154:TYPE=BEHAVIOUR
BFITMP154:CODE={ANNPLAYER^MOVE(5,0);}


OBJECT=BFITMP155
BFITMP155:TYPE=BEHAVIOUR
BFITMP155:CODE={IBKGDELTAY^SUB(ISCROLLDELTAY);CANVASOBSERVER^MOVEBKG(0,ISCROLLDELTAY);GALL^MOVE(0,[0-ISCROLLDELTAY]);GALL1^MOVE(0,[0-ISCROLLDELTAY]);GALL2^MOVE(0,[0-ISCROLLDELTAY]);GALL3^MOVE(0,[0-ISCROLLDELTAY]);GALL4^MOVE(0,[0-ISCROLLDELTAY]);GALL5^MOVE(0,[0-ISCROLLDELTAY]);GALL6^MOVE(0,[0-ISCROLLDELTAY]);GALL7^MOVE(0,[0-ISCROLLDELTAY]);GENEMIES^MOVE(0,[0-ISCROLLDELTAY]);}


OBJECT=BFITMP156
BFITMP156:TYPE=BEHAVIOUR
BFITMP156:CODE={ANNPLAYER^MOVE(0,-5);}


OBJECT=BFITMP157
BFITMP157:TYPE=BEHAVIOUR
BFITMP157:CODE={IBKGDELTAY^SUB(ISCROLLDELTAY);CANVASOBSERVER^MOVEBKG(0,ISCROLLDELTAY);GALL^MOVE(0,[0-ISCROLLDELTAY]);GALL1^MOVE(0,[0-ISCROLLDELTAY]);GALL2^MOVE(0,[0-ISCROLLDELTAY]);GALL3^MOVE(0,[0-ISCROLLDELTAY]);GALL4^MOVE(0,[0-ISCROLLDELTAY]);GALL5^MOVE(0,[0-ISCROLLDELTAY]);GALL6^MOVE(0,[0-ISCROLLDELTAY]);GALL7^MOVE(0,[0-ISCROLLDELTAY]);GENEMIES^MOVE(0,[0-ISCROLLDELTAY]);}


OBJECT=BFITMP158
BFITMP158:TYPE=BEHAVIOUR
BFITMP158:CODE={ANNPLAYER^MOVE(0,5);}


OBJECT=BFITMP159
BFITMP159:TYPE=BEHAVIOUR
BFITMP159:CODE={IBKGDELTAX^SUB(ISCROLLDELTAX);CANVASOBSERVER^MOVEBKG(ISCROLLDELTAX,0);GALL^MOVE([0-ISCROLLDELTAX],0);GALL1^MOVE([0-ISCROLLDELTAX],0);GALL2^MOVE([0-ISCROLLDELTAX],0);GALL3^MOVE([0-ISCROLLDELTAX],0);GALL4^MOVE([0-ISCROLLDELTAX],0);GALL5^MOVE([0-ISCROLLDELTAX],0);GALL6^MOVE([0-ISCROLLDELTAX],0);GALL7^MOVE([0-ISCROLLDELTAX],0);GENEMIES^MOVE([0-ISCROLLDELTAX],0);}


OBJECT=BFITMP160
BFITMP160:TYPE=BEHAVIOUR
BFITMP160:CODE={ANNPLAYER^MOVE(-5,0);}


OBJECT=BFITMP161
BFITMP161:TYPE=BEHAVIOUR
BFITMP161:CODE={IBKGDELTAX^SUB(ISCROLLDELTAX);CANVASOBSERVER^MOVEBKG(ISCROLLDELTAX,0);GALL^MOVE([0-ISCROLLDELTAX],0);GALL1^MOVE([0-ISCROLLDELTAX],0);GALL2^MOVE([0-ISCROLLDELTAX],0);GALL3^MOVE([0-ISCROLLDELTAX],0);GALL4^MOVE([0-ISCROLLDELTAX],0);GALL5^MOVE([0-ISCROLLDELTAX],0);GALL6^MOVE([0-ISCROLLDELTAX],0);GALL7^MOVE([0-ISCROLLDELTAX],0);GENEMIES^MOVE([0-ISCROLLDELTAX],0);}


OBJECT=BFITMP162
BFITMP162:TYPE=BEHAVIOUR
BFITMP162:CODE={ANNPLAYER^MOVE(5,0);}


OBJECT=BFITMP163
BFITMP163:TYPE=BEHAVIOUR
BFITMP163:CODE={IBKGDELTAY^SUB(ISCROLLDELTAY);CANVASOBSERVER^MOVEBKG(0,ISCROLLDELTAY);GALL^MOVE(0,[0-ISCROLLDELTAY]);GALL1^MOVE(0,[0-ISCROLLDELTAY]);GALL2^MOVE(0,[0-ISCROLLDELTAY]);GALL3^MOVE(0,[0-ISCROLLDELTAY]);GALL4^MOVE(0,[0-ISCROLLDELTAY]);GALL5^MOVE(0,[0-ISCROLLDELTAY]);GALL6^MOVE(0,[0-ISCROLLDELTAY]);GALL7^MOVE(0,[0-ISCROLLDELTAY]);GENEMIES^MOVE(0,[0-ISCROLLDELTAY]);}


OBJECT=BFITMP164
BFITMP164:TYPE=BEHAVIOUR
BFITMP164:CODE={ANNPLAYER^MOVE(0,-5);}


OBJECT=BFITMP165
BFITMP165:TYPE=BEHAVIOUR
BFITMP165:CODE={IBKGDELTAY^SUB(ISCROLLDELTAY);CANVASOBSERVER^MOVEBKG(0,ISCROLLDELTAY);GALL^MOVE(0,[0-ISCROLLDELTAY]);GALL1^MOVE(0,[0-ISCROLLDELTAY]);GALL2^MOVE(0,[0-ISCROLLDELTAY]);GALL3^MOVE(0,[0-ISCROLLDELTAY]);GALL4^MOVE(0,[0-ISCROLLDELTAY]);GALL5^MOVE(0,[0-ISCROLLDELTAY]);GALL6^MOVE(0,[0-ISCROLLDELTAY]);GALL7^MOVE(0,[0-ISCROLLDELTAY]);GENEMIES^MOVE(0,[0-ISCROLLDELTAY]);}


OBJECT=BFITMP166
BFITMP166:TYPE=BEHAVIOUR
BFITMP166:CODE={ANNPLAYER^MOVE(0,5);}


OBJECT=BFITMP167
BFITMP167:TYPE=BEHAVIOUR
BFITMP167:CODE={IBKGDELTAX^SUB(ISCROLLDELTAX);CANVASOBSERVER^MOVEBKG(ISCROLLDELTAX,0);GALL^MOVE([0-ISCROLLDELTAX],0);GALL1^MOVE([0-ISCROLLDELTAX],0);GALL2^MOVE([0-ISCROLLDELTAX],0);GALL3^MOVE([0-ISCROLLDELTAX],0);GALL4^MOVE([0-ISCROLLDELTAX],0);GALL5^MOVE([0-ISCROLLDELTAX],0);GALL6^MOVE([0-ISCROLLDELTAX],0);GALL7^MOVE([0-ISCROLLDELTAX],0);GENEMIES^MOVE([0-ISCROLLDELTAX],0);}


OBJECT=BFITMP168
BFITMP168:TYPE=BEHAVIOUR
BFITMP168:CODE={ANNPLAYER^MOVE(-5,0);}


OBJECT=BFITMP169
BFITMP169:TYPE=BEHAVIOUR
BFITMP169:CODE={IBKGDELTAX^SUB(ISCROLLDELTAX);CANVASOBSERVER^MOVEBKG(ISCROLLDELTAX,0);GALL^MOVE([0-ISCROLLDELTAX],0);GALL1^MOVE([0-ISCROLLDELTAX],0);GALL2^MOVE([0-ISCROLLDELTAX],0);GALL3^MOVE([0-ISCROLLDELTAX],0);GALL4^MOVE([0-ISCROLLDELTAX],0);GALL5^MOVE([0-ISCROLLDELTAX],0);GALL6^MOVE([0-ISCROLLDELTAX],0);GALL7^MOVE([0-ISCROLLDELTAX],0);GENEMIES^MOVE([0-ISCROLLDELTAX],0);}


OBJECT=BFITMP170
BFITMP170:TYPE=BEHAVIOUR
BFITMP170:CODE={ANNPLAYER^MOVE(5,0);}


OBJECT=BFITMP171
BFITMP171:TYPE=BEHAVIOUR
BFITMP171:CODE={SKEYPRESSED^SET(ARRKEYS^GET(0));}


OBJECT=BFITMP172
BFITMP172:TYPE=BEHAVIOUR
BFITMP172:CODE={ISERCEX^SET(ARRSERCAK^GET(0));ISERCEY^SET(ARRSERCAK^GET(1));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP173
BFITMP173:TYPE=BEHAVIOUR
BFITMP173:CODE={ISERCEX^SET(ARRSERCAK^GET(2));ISERCEY^SET(ARRSERCAK^GET(3));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP174
BFITMP174:TYPE=BEHAVIOUR
BFITMP174:CODE={ISERCEX^SET(ARRSERCAK^GET(4));ISERCEY^SET(ARRSERCAK^GET(5));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP175
BFITMP175:TYPE=BEHAVIOUR
BFITMP175:CODE={ISERCEX^SET(ARRSERCAK^GET(6));ISERCEY^SET(ARRSERCAK^GET(7));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP176
BFITMP176:TYPE=BEHAVIOUR
BFITMP176:CODE={ISERCEX^SET(ARRSERCAK^GET(8));ISERCEY^SET(ARRSERCAK^GET(9));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP177
BFITMP177:TYPE=BEHAVIOUR
BFITMP177:CODE={ISERCEX^SET(ARRSERCAK^GET(10));ISERCEY^SET(ARRSERCAK^GET(11));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP178
BFITMP178:TYPE=BEHAVIOUR
BFITMP178:CODE={ISERCEX^SET(ARRSERCAK^GET(12));ISERCEY^SET(ARRSERCAK^GET(13));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP179
BFITMP179:TYPE=BEHAVIOUR
BFITMP179:CODE={ISERCEX^SET(ARRSERCAK^GET(14));ISERCEY^SET(ARRSERCAK^GET(15));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP180
BFITMP180:TYPE=BEHAVIOUR
BFITMP180:CODE={ISERCEX^SET(ARRSERCAK^GET(16));ISERCEY^SET(ARRSERCAK^GET(17));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP181
BFITMP181:TYPE=BEHAVIOUR
BFITMP181:CODE={ISERCEX^SET(ARRSERCAK^GET(18));ISERCEY^SET(ARRSERCAK^GET(19));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP182
BFITMP182:TYPE=BEHAVIOUR
BFITMP182:CODE={ISERCEX^SET(ARRSERCAK^GET(20));ISERCEY^SET(ARRSERCAK^GET(21));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP183
BFITMP183:TYPE=BEHAVIOUR
BFITMP183:CODE={ISERCEX^SET(ARRSERCAK^GET(22));ISERCEY^SET(ARRSERCAK^GET(23));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP184
BFITMP184:TYPE=BEHAVIOUR
BFITMP184:CODE={ISERCEX^SET(ARRSERCAK^GET(24));ISERCEY^SET(ARRSERCAK^GET(25));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP185
BFITMP185:TYPE=BEHAVIOUR
BFITMP185:CODE={ISERCEX^SET(ARRSERCAK^GET(26));ISERCEY^SET(ARRSERCAK^GET(27));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP186
BFITMP186:TYPE=BEHAVIOUR
BFITMP186:CODE={ISERCEX^SET(ARRSERCAK^GET(28));ISERCEY^SET(ARRSERCAK^GET(29));ARRSERCAWOKOL^REMOVEALL();RANDOM^GETPLENTY("ARRSERCAWOKOL",8,0,8,TRUE);RANDOM^GETPLENTY("ARRSERCAWOKOL",12,8,12,TRUE);ARRSERCAWOKOL^ADD(20);SSERCEWOKOL^SET(NULL);}


OBJECT=BFITMP187
BFITMP187:TYPE=BEHAVIOUR
BFITMP187:CODE={ARRKEYS^ADD("UP");}


OBJECT=BFITMP188
BFITMP188:TYPE=BEHAVIOUR
BFITMP188:CODE={I1^SET(ARRKEYS^GETSIZE());@IF("I1","<","3","BFITMP187","");SKEYPRESSED^SET("UP");}


OBJECT=BFITMP189
BFITMP189:TYPE=BEHAVIOUR
BFITMP189:CODE={ARRKEYS^ADD("DOWN");}


OBJECT=BFITMP190
BFITMP190:TYPE=BEHAVIOUR
BFITMP190:CODE={I1^SET(ARRKEYS^GETSIZE());@IF("I1","<","3","BFITMP189","");SKEYPRESSED^SET("DOWN");}


OBJECT=BFITMP191
BFITMP191:TYPE=BEHAVIOUR
BFITMP191:CODE={ARRKEYS^ADD("LEFT");}


OBJECT=BFITMP192
BFITMP192:TYPE=BEHAVIOUR
BFITMP192:CODE={I1^SET(ARRKEYS^GETSIZE());@IF("I1","<","3","BFITMP191","");SKEYPRESSED^SET("LEFT");}


OBJECT=BFITMP193
BFITMP193:TYPE=BEHAVIOUR
BFITMP193:CODE={ARRKEYS^ADD("RIGHT");}


OBJECT=BFITMP194
BFITMP194:TYPE=BEHAVIOUR
BFITMP194:CODE={I1^SET(ARRKEYS^GETSIZE());@IF("I1","<","3","BFITMP193","");SKEYPRESSED^SET("RIGHT");}


OBJECT=BFITMP195
BFITMP195:TYPE=BEHAVIOUR
BFITMP195:CODE={BEHAMBIENTSNDPLAY^RUN("SFX_MASAJ_LODZ");}


OBJECT=BFITMP196
BFITMP196:TYPE=BEHAVIOUR
BFITMP196:CODE={BEHAMBIENTSNDPLAY^RUN("SFX_WYSPA_LAS");}


OBJECT=BFITMP197
BFITMP197:TYPE=BEHAVIOUR
BFITMP197:CODE={GSAVE^SET("AMAZONIA_STATUS","ODWIEDZONY");BEHSEQPLAY^RUN("SEQWSTEP","WSTEP_RESTART_COLL",2);}


OBJECT=BFITMP198
BFITMP198:TYPE=BEHAVIOUR
BFITMP198:CODE={BEHSEQPLAY^RUN("SEQWSTEP","WSTEP_RESTART",2);}


OBJECT=BFITMP199
BFITMP199:TYPE=BEHAVIOUR
BFITMP199:CODE={GSAVE^SET("AMAZONIA_STATUS","ODWIEDZONY");BEHSEQPLAY^RUN("SEQWSTEP",["W"+ILEVEL],2);}


OBJECT=BFITMP200
BFITMP200:TYPE=BEHAVIOUR
BFITMP200:CODE={@IF(GSAVE^GET("AMAZONIA_STATUS"),"_",""ODWIEDZONY_COLL"","BFITMP197","BFITMP198");}


OBJECT=BFITMP201
BFITMP201:TYPE=BEHAVIOUR
BFITMP201:CODE={ANNPOLA^CLONE(1);ICLONENO^INC();S1^SET(["ANNPOLA_"+ICLONENO]);ARRCLONES^ADD(1);I1^SET(ANNPOLA^GETNOFINEVENT(SPOLE));*S1^SETFRAME(SPOLE,RANDOM^GET(I1));*S1^SETPOSITION([IX*IGRID],[IY*IGRID]);ARRMAPA^SET(IX,IY,SPOLE);ARRMAPAOBJ^SET(IX,IY,S1);}


OBJECT=BFITMP202
BFITMP202:TYPE=BEHAVIOUR
BFITMP202:CODE={ANNRUNNERSERCA^PLAY("RUN");}


OBJECT=BFITMP203
BFITMP203:TYPE=BEHAVIOUR
BFITMP203:CODE={ARRMAPA^SET(13,4,"OBOZ");}


OBJECT=BFITMP204
BFITMP204:TYPE=BEHAVIOUR
BFITMP204:CODE={ARRMAPA^SET(14,12,"SLADY_END");ARRMAPA^SET(30,5,"ZEJSCIE_DO_WODY");}


OBJECT=BFITMP205
BFITMP205:TYPE=BEHAVIOUR
BFITMP205:CODE={ARRMAPA^SET(8,7,"POLE_X");ARRMAPA^SET(7,10,"POLE_Y");}


OBJECT=BFITMP206
BFITMP206:TYPE=BEHAVIOUR
BFITMP206:CODE={SEQWSTEP^STOP(FALSE);SEQPLAYER^STOP(FALSE);SEQDIALOG^STOP(FALSE);ISEQPRIORITY^SET(ITMPSEQPRIORITY);SSEQNAME^SET(STMPSEQNAME);SSEQEVENT^SET(STMPSEQEVENT);*STMPSEQNAME^PLAY(STMPSEQEVENT);}


OBJECT=BFITMP207
BFITMP207:TYPE=BEHAVIOUR
BFITMP207:CODE={@IF("ITMPSEQPRIORITY",">_","ISEQPRIORITY","BFITMP206","");}


OBJECT=BFITMP208
BFITMP208:TYPE=BEHAVIOUR
BFITMP208:CODE={*STMPSEQNAME^STOP(TRUE);}


OBJECT=BFITMP209
BFITMP209:TYPE=BEHAVIOUR
BFITMP209:CODE={*STMPSEQNAME^STOP(FALSE);}


OBJECT=BFITMP210
BFITMP210:TYPE=BEHAVIOUR
BFITMP210:CODE={SFX_WALK^PLAY();}


OBJECT=BFITMP211
BFITMP211:TYPE=BEHAVIOUR
BFITMP211:CODE={BEHSEQPLAY^RUN("SEQDIALOG","MASAJ_COLL_A",11);}


OBJECT=BFITMP212
BFITMP212:TYPE=BEHAVIOUR
BFITMP212:CODE={BEHSEQPLAY^RUN("SEQDIALOG","KROKODYL_COLL_A",11);}


OBJECT=BFITMP213
BFITMP213:TYPE=BEHAVIOUR
BFITMP213:CODE={BCOLLMASKFIRST^SET(TRUE);BLOCK^SET(TRUE);SENEMYCOLLNAME^SET(SPLAYERGOON);*SENEMYCOLLNAME^PAUSE();BEHSEQPLAY^RUN("SEQDIALOG","MASAJ_COLL_FIRST3",2);}


OBJECT=BFITMP214
BFITMP214:TYPE=BEHAVIOUR
BFITMP214:CODE={BEHSEQPLAY^RUN("SEQPLAYER","MASAJ_COLL3",1);}


OBJECT=BFITMP215
BFITMP215:TYPE=BEHAVIOUR
BFITMP215:CODE={@IF("BCOLLMASKFIRST","_","FALSE","BFITMP213","BFITMP214");}


OBJECT=BFITMP216
BFITMP216:TYPE=BEHAVIOUR
BFITMP216:CODE={GSAVE^SET("AMAZONIA_STATUS","NIEODWIEDZONY");GSAVE^SET("AMAZONIA_LEVEL",[ILEVEL+1]);}


OBJECT=BFITMP217
BFITMP217:TYPE=BEHAVIOUR
BFITMP217:CODE={GSAVE^SET("AMAZONIA_STATUS","UKONCZONY");GSAVE^SET("SCENE_CODE","CWME");GSAVE^SET("SCENE_NAME","CUTSCENKI");GSAVE^SET("CS_SCENE_NAME","20_WIOSKA_ENTRE");}


OBJECT=BFITMP218
BFITMP218:TYPE=BEHAVIOUR
BFITMP218:CODE={STMP1^SET(["ANNPOLA_"+ITMP1]);}


OBJECT=BFITMP219
BFITMP219:TYPE=BEHAVIOUR
BFITMP219:CODE={ANNPOLA^CLONE(1);ICLONENO^INC();ARRCLONES^ADD(1);STMP1^SET(["ANNPOLA_"+ICLONENO]);ITMP1^SET(ICLONENO);}
