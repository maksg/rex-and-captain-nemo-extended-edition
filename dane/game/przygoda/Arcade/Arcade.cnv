OBJECT=B1
B1:TYPE=BOOL

OBJECT=I1
I1:TYPE=INTEGER

OBJECT=I2
I2:TYPE=INTEGER

OBJECT=I3
I3:TYPE=INTEGER

OBJECT=S1
S1:TYPE=STRING

OBJECT=S2
S2:TYPE=STRING

OBJECT=S3
S3:TYPE=STRING

OBJECT=_____MYSZ
_____MYSZ:TYPE=INTEGER

OBJECT=IMOUSEX
IMOUSEX:TYPE=INTEGER
IMOUSEX:VALUE=0

OBJECT=IMOUSEY
IMOUSEY:TYPE=INTEGER
IMOUSEY:VALUE=0

OBJECT=IMOUSELASTX
IMOUSELASTX:TYPE=INTEGER
IMOUSELASTX:VALUE=0

OBJECT=IMOUSELASTY
IMOUSELASTY:TYPE=INTEGER
IMOUSELASTY:VALUE=0

OBJECT=_____OBIEKTY
_____OBIEKTY:TYPE=INTEGER

OBJECT=SOBJCLICKED
SOBJCLICKED:TYPE=STRING

OBJECT=SITEMUSED
SITEMUSED:TYPE=STRING
SITEMUSED:VALUE=NULL

OBJECT=SITEMDRAGGING
SITEMDRAGGING:TYPE=STRING
SITEMDRAGGING:VALUE=NULL
SITEMDRAGGING:ONCHANGED={ANNITEMDRAGGING^SETFRAME(SITEMDRAGGING,0);ANNITEMDRAGGING^SETPOSITION(IMOUSEX,IMOUSEY);}
SITEMDRAGGING:ONCHANGED^NOTES={NTS^ROZWIN();SITEMDRAGGING^SET(NULL);}

OBJECT=SOTHERIDLEOBJ
SOTHERIDLEOBJ:TYPE=STRING

OBJECT=SOTHERIDLEEVT
SOTHERIDLEEVT:TYPE=STRING

OBJECT=_____DIALOGI
_____DIALOGI:TYPE=INTEGER

OBJECT=IDIALOGINDEKS
IDIALOGINDEKS:TYPE=INTEGER
IDIALOGINDEKS:VALUE=0

OBJECT=IDIALOGRANDOMLASTVALUE
IDIALOGRANDOMLASTVALUE:TYPE=INTEGER
IDIALOGRANDOMLASTVALUE:VALUE=-1

OBJECT=SDIALOGNAME
SDIALOGNAME:TYPE=STRING
SDIALOGNAME:VALUE=NULL

OBJECT=SDIALOGNAMEORIG
SDIALOGNAMEORIG:TYPE=STRING
SDIALOGNAMEORIG:VALUE=NULL

OBJECT=SDIALOGWAVENAME
SDIALOGWAVENAME:TYPE=STRING

OBJECT=SDIALOGPERSON
SDIALOGPERSON:TYPE=STRING

OBJECT=SDIALOGPERSONLAST
SDIALOGPERSONLAST:TYPE=STRING

OBJECT=SDIALOGPERSONPREEVENT
SDIALOGPERSONPREEVENT:TYPE=STRING

OBJECT=SDIALOGPERSONPREEVENTLAST
SDIALOGPERSONPREEVENTLAST:TYPE=STRING

OBJECT=SDIALOGPERSONPREEVENTALL
SDIALOGPERSONPREEVENTALL:TYPE=STRING

OBJECT=SDIALOGPERSONPREEVENTALLLAST
SDIALOGPERSONPREEVENTALLLAST:TYPE=STRING

OBJECT=BDIALOGCANINTERRUPT
BDIALOGCANINTERRUPT:TYPE=BOOL
BDIALOGCANINTERRUPT:VALUE=TRUE

OBJECT=BDIALOGISPLAYING
BDIALOGISPLAYING:TYPE=BOOL
BDIALOGISPLAYING:VALUE=FALSE

OBJECT=IDIALOGINDEKSOFF
IDIALOGINDEKSOFF:TYPE=INTEGER
IDIALOGINDEKSOFF:VALUE=0

OBJECT=SDIALOGNAMEOFF
SDIALOGNAMEOFF:TYPE=STRING
SDIALOGNAMEOFF:VALUE=NULL

OBJECT=IDIALOGPRIORITYOFF
IDIALOGPRIORITYOFF:TYPE=INTEGER
IDIALOGPRIORITYOFF:VALUE=-1

OBJECT=_____SCROLL
_____SCROLL:TYPE=INTEGER

OBJECT=ISCROLLPOSX
ISCROLLPOSX:TYPE=INTEGER
ISCROLLPOSX:VALUE=0

OBJECT=ISCROLLPOSY
ISCROLLPOSY:TYPE=INTEGER
ISCROLLPOSY:VALUE=0

OBJECT=ISCROLLTARGETX
ISCROLLTARGETX:TYPE=INTEGER
ISCROLLTARGETX:VALUE=0

OBJECT=ISCROLLTARGETY
ISCROLLTARGETY:TYPE=INTEGER
ISCROLLTARGETY:VALUE=0

OBJECT=ISCROLLMOVEX
ISCROLLMOVEX:TYPE=INTEGER
ISCROLLMOVEX:VALUE=0

OBJECT=ISCROLLMOVEY
ISCROLLMOVEY:TYPE=INTEGER
ISCROLLMOVEY:VALUE=0

OBJECT=ISCROLLSPEED
ISCROLLSPEED:TYPE=INTEGER
ISCROLLSPEED:VALUE=10

OBJECT=ANNITEMDRAGGING
ANNITEMDRAGGING:TYPE=ANIMO
ANNITEMDRAGGING:VISIBLE=TRUE
ANNITEMDRAGGING:FILENAME=INV_ITEMS.ANN
ANNITEMDRAGGING:TOCANVAS=TRUE
ANNITEMDRAGGING:PRIORITY=5000
ANNITEMDRAGGING:FPS=16
ANNITEMDRAGGING:PRELOAD=TRUE
ANNITEMDRAGGING:RELEASE=TRUE
ANNITEMDRAGGING:MONITORCOLLISION=FALSE
ANNITEMDRAGGING:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNRUNNERSCROLL
ANNRUNNERSCROLL:TYPE=ANIMO
ANNRUNNERSCROLL:VISIBLE=TRUE
ANNRUNNERSCROLL:FILENAME=RUNNER_SCROLL.ANN
ANNRUNNERSCROLL:TOCANVAS=TRUE
ANNRUNNERSCROLL:PRIORITY=0
ANNRUNNERSCROLL:FPS=32
ANNRUNNERSCROLL:PRELOAD=TRUE
ANNRUNNERSCROLL:RELEASE=TRUE
ANNRUNNERSCROLL:MONITORCOLLISION=FALSE
ANNRUNNERSCROLL:MONITORCOLLISIONALPHA=FALSE
ANNRUNNERSCROLL:ONFRAMECHANGED={@IF("ISCROLLPOSX!'ISCROLLTARGETX||ISCROLLPOSY!'ISCROLLTARGETY","BFITMP0","BFITMP1");}

OBJECT=ANNRUNNEROTHERIDLE
ANNRUNNEROTHERIDLE:TYPE=ANIMO
ANNRUNNEROTHERIDLE:VISIBLE=TRUE
ANNRUNNEROTHERIDLE:FILENAME=RUNNER_OTHER_IDLE.ANN
ANNRUNNEROTHERIDLE:TOCANVAS=TRUE
ANNRUNNEROTHERIDLE:PRIORITY=0
ANNRUNNEROTHERIDLE:FPS=16
ANNRUNNEROTHERIDLE:PRELOAD=TRUE
ANNRUNNEROTHERIDLE:RELEASE=TRUE
ANNRUNNEROTHERIDLE:MONITORCOLLISION=FALSE
ANNRUNNEROTHERIDLE:MONITORCOLLISIONALPHA=FALSE
ANNRUNNEROTHERIDLE:ONFINISHED={@IF("SOTHERIDLEOBJ","_","""","BFITMP8","BFITMP9");ANNRUNNEROTHERIDLE^PLAY("RUN");}

OBJECT=BUTNULLDIALOGI
BUTNULLDIALOGI:TYPE=BUTTON
BUTNULLDIALOGI:VISIBLE=TRUE
BUTNULLDIALOGI:RECT=0,0,800,600
BUTNULLDIALOGI:ENABLE=FALSE
BUTNULLDIALOGI:DRAGGABLE=FALSE
BUTNULLDIALOGI:ONCLICKED={@IF("BDIALOGCANINTERRUPT","_","TRUE","BFITMP10","");}

OBJECT=BUTNULLMOUSELOCK
BUTNULLMOUSELOCK:TYPE=BUTTON
BUTNULLMOUSELOCK:VISIBLE=TRUE
BUTNULLMOUSELOCK:RECT=0,0,800,600
BUTNULLMOUSELOCK:ENABLE=FALSE
BUTNULLMOUSELOCK:DRAGGABLE=FALSE

OBJECT=GSCROLL
GSCROLL:TYPE=GROUP

OBJECT=SNDARCADETALK
SNDARCADETALK:TYPE=SOUND
SNDARCADETALK:FILENAME=_NULL_ARCADE_DIALOG.WAV
SNDARCADETALK:PRELOAD=FALSE
SNDARCADETALK:FLUSHAFTERPLAYED=FALSE
SNDARCADETALK:ONFINISHED={BEHDIALOGPLAYNEXT^RUN();}

OBJECT=SNDARCADEOFF
SNDARCADEOFF:TYPE=SOUND
SNDARCADEOFF:FILENAME=_NULL_ARCADE_OFF.WAV
SNDARCADEOFF:PRELOAD=FALSE
SNDARCADEOFF:FLUSHAFTERPLAYED=FALSE
SNDARCADEOFF:ONFINISHED={BEHDIALOGPLAYOFFNEXT^RUN();}

OBJECT=ARROTHERIDLEOBJEVT
ARROTHERIDLEOBJEVT:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=0
MOUSE:ONCLICK^LEFT={SOBJCLICKED^SET("");@STRING("STMPCLICK","");STMPCLICK^SET(CANVASOBSERVER^GETGRAPHICSAT(IMOUSEX,IMOUSEY,TRUE,400,2199,FALSE));@IF("STMPCLICK","_","NULL","BFITMP12","");SITEMUSED^SET(SITEMDRAGGING);SITEMDRAGGING^SET(NULL);SCLICKSEL^SET(STMPCLICK);}
MOUSE:ONMOVE={@IF("BGMOUSEONMOVEENABLED","_","TRUE","BFITMP16","");}

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=STDIALOGI
STDIALOGI:TYPE=STRUCT
STDIALOGI:FIELDS=ID<STRING>,WAVE<STRING>,PERSON<STRING>,PREEVENT<STRING>

OBJECT=DBDIALOGI
DBDIALOGI:TYPE=DATABASE
DBDIALOGI:MODEL=STDIALOGI

OBJECT=CLSWALKEROBJ
CLSWALKEROBJ:TYPE=CLASS
CLSWALKEROBJ:DEF=CLSWALKER.CLASS
CLSWALKEROBJ:BASE=

OBJECT=CLSINVENTORYOBJ
CLSINVENTORYOBJ:TYPE=CLASS
CLSINVENTORYOBJ:DEF=CLSINVENTORY.CLASS
CLSINVENTORYOBJ:BASE=

OBJECT=CLSNOTESOBJ
CLSNOTESOBJ:TYPE=CLASS
CLSNOTESOBJ:DEF=CLSNOTES.CLASS
CLSNOTESOBJ:BASE=

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={CLSINVENTORYOBJ^NEW("INV");CLSNOTESOBJ^NEW("NTS");@STRING("SSCENE",GSAVE^GET("ARCADE_SCENE_NAME"));CNVLOADER^LOAD([SSCENE+".CNV"]);BUTNULLDIALOGI^SETPRIORITY(24000);BUTNULLMOUSELOCK^SETPRIORITY(50000);CNVINIT^RUN();}


OBJECT=_____ROZNE
_____ROZNE:TYPE=BEHAVIOUR
_____ROZNE:CODE={}


OBJECT=BEHLOCKMOUSE
BEHLOCKMOUSE:TYPE=BEHAVIOUR
BEHLOCKMOUSE:CODE={@IF("$1","!_","FALSE","BFITMP1762","BFITMP1763");}


OBJECT=BEHRESETOTHERIDLES
BEHRESETOTHERIDLES:TYPE=BEHAVIOUR
BEHRESETOTHERIDLES:CODE={ANNRUNNEROTHERIDLE^STOP(FALSE);ARROTHERIDLEOBJEVT^REMOVEALL();SOTHERIDLEOBJ^SET("");SOTHERIDLEEVT^SET("");}


OBJECT=_____DIALOGI
_____DIALOGI:TYPE=BEHAVIOUR
_____DIALOGI:CODE={}


OBJECT=BEHDIALOGPLAY
BEHDIALOGPLAY:TYPE=BEHAVIOUR
BEHDIALOGPLAY:CODE={@STRING("SDPDIALNAMEARG",$1);@STRING("SDPCANINTERRARG",$2);@IF("BDIALOGISPLAYING","_","TRUE","BFITMP1764","");SDIALOGNAME^SET(SDPDIALNAMEARG);SDIALOGNAMEORIG^SET(SDIALOGNAME);@IF("SDPCANINTERRARG","_","FALSE","BFITMP1765","BFITMP1766");I1^SET(DBDIALOGI^FIND("ID",SDIALOGNAME,IDIALOGINDEKS));@IF("I1",">","-1","BFITMP1771","BFITMP1772");}


OBJECT=BEHDIALOGPLAYRAND
BEHDIALOGPLAYRAND:TYPE=BEHAVIOUR
BEHDIALOGPLAYRAND:CODE={@STRING("SDPRDIALNAMEARG",$1);@INT("ITMPRAND",$2);@STRING("SDPRCANINTERRARG",$3);@IF("BDIALOGISPLAYING","_","TRUE","BFITMP1773","");SDIALOGNAME^SET(SDPRDIALNAMEARG);SDIALOGNAMEORIG^SET(SDIALOGNAME);@IF("SDPRCANINTERRARG","_","FALSE","BFITMP1774","BFITMP1775");@INT("ITMPRAND1",RANDOM^GET(ITMPRAND));@IF("ITMPRAND",">","1","BFITMP1776","");ITMPRAND^SET(ITMPRAND1);IDIALOGRANDOMLASTVALUE^SET(ITMPRAND);SDIALOGNAME^ADD(ITMPRAND);I1^SET(DBDIALOGI^FIND("ID",SDIALOGNAME,IDIALOGINDEKS));@IF("I1",">","-1","BFITMP1781","BFITMP1782");}


OBJECT=BEHDIALOGPLAYNEXT
BEHDIALOGPLAYNEXT:TYPE=BEHAVIOUR
BEHDIALOGPLAYNEXT:CODE={I1^SET(DBDIALOGI^FIND("ID",SDIALOGNAME,IDIALOGINDEKS));@IF("I1",">","-1","BFITMP1788","BFITMP1789");}


OBJECT=BEHDIALOGSTOP
BEHDIALOGSTOP:TYPE=BEHAVIOUR
BEHDIALOGSTOP:CODE={@BOOL("BDSSIGARG",FALSE);@STRING("SDSDIALNAMEARG",SDIALOGNAMEORIG);@IF("$1","_","FALSE","BFITMP1790","BFITMP1791");SNDARCADETALK^STOP(FALSE);@IF("SDIALOGPERSON","!_","""","BFITMP1792","");BUTNULLDIALOGI^DISABLE();IDIALOGINDEKS^SET(0);SDIALOGNAME^SET(NULL);SDIALOGNAMEORIG^SET(NULL);BDIALOGISPLAYING^SET(FALSE);BDIALOGCANINTERRUPT^SET(TRUE);SDIALOGPERSON^SET("");SDIALOGPERSONLAST^SET("");SDIALOGPERSONPREEVENT^SET("");SDIALOGPERSONPREEVENTLAST^SET("");@IF("BDSSIGARG","_","TRUE","BFITMP1793","");}


OBJECT=BEHDIALOGPLAYOFF
BEHDIALOGPLAYOFF:TYPE=BEHAVIOUR
BEHDIALOGPLAYOFF:CODE={@STRING("SDPODIALNAMEARG",$1);@INT("IDPODIALPRIORARG",$2);@IF("IDPODIALPRIORARG",">","IDIALOGPRIORITYOFF","BFITMP1797","");}


OBJECT=BEHDIALOGPLAYOFFRAND
BEHDIALOGPLAYOFFRAND:TYPE=BEHAVIOUR
BEHDIALOGPLAYOFFRAND:CODE={@STRING("SDPODIALNAMEARG",$1);@INT("ITMPRAND",$2);@INT("IDPODIALPRIORARG",$3);@IF("IDPODIALPRIORARG",">","IDIALOGPRIORITYOFF","BFITMP1801","");}


OBJECT=BEHDIALOGPLAYOFFNEXT
BEHDIALOGPLAYOFFNEXT:TYPE=BEHAVIOUR
BEHDIALOGPLAYOFFNEXT:CODE={I1^SET(DBDIALOGI^FIND("ID",SDIALOGNAMEOFF,IDIALOGINDEKSOFF));@IF("I1",">","-1","BFITMP1802","BFITMP1803");}


OBJECT=BEHDIALOGSTOPOFF
BEHDIALOGSTOPOFF:TYPE=BEHAVIOUR
BEHDIALOGSTOPOFF:CODE={@BOOL("BDSOSIGARG",FALSE);@STRING("SDSODIALNAMEARG",SDIALOGNAMEOFF);@IF("$1","_","FALSE","BFITMP1804","BFITMP1805");SNDARCADEOFF^STOP(FALSE);IDIALOGINDEKSOFF^SET(0);IDIALOGPRIORITYOFF^SET(-1);SDIALOGNAMEOFF^SET(NULL);@IF("BDSOSIGARG","_","TRUE","BFITMP1806","");}


OBJECT=_____SCROLL
_____SCROLL:TYPE=BEHAVIOUR
_____SCROLL:CODE={}


OBJECT=BEHSCROLLTO
BEHSCROLLTO:TYPE=BEHAVIOUR
BEHSCROLLTO:CODE={ISCROLLTARGETX^SET($1);ISCROLLTARGETY^SET($2);@IF("$3","!_","FALSE","BFITMP1807","");@IF("ISCROLLPOSX!'ISCROLLTARGETX||ISCROLLPOSY!'ISCROLLTARGETY","BFITMP1808","");}


OBJECT=BEHSCROLLSETPOS
BEHSCROLLSETPOS:TYPE=BEHAVIOUR
BEHSCROLLSETPOS:CODE={ISCROLLTARGETX^SET($1);ISCROLLTARGETY^SET($2);@IF("$3","!_","FALSE","BFITMP1809","");@IF("ISCROLLPOSX!'ISCROLLTARGETX||ISCROLLPOSY!'ISCROLLTARGETY","BFITMP1810","");}


OBJECT=BEHSCROLLSETSPEED
BEHSCROLLSETSPEED:TYPE=BEHAVIOUR
BEHSCROLLSETSPEED:CODE={ISCROLLSPEED^SET($1);}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={ISCROLLMOVEX^SET([ISCROLLTARGETX-ISCROLLPOSX]);ISCROLLMOVEX^CLAMP([0-ISCROLLSPEED],ISCROLLSPEED);ISCROLLMOVEY^SET([ISCROLLTARGETY-ISCROLLPOSY]);ISCROLLMOVEY^CLAMP([0-ISCROLLSPEED],ISCROLLSPEED);ISCROLLPOSX^ADD(ISCROLLMOVEX);ISCROLLPOSY^ADD(ISCROLLMOVEY);CANVASOBSERVER^MOVEBKG(ISCROLLMOVEX,ISCROLLMOVEY);GSCROLL^MOVE([0-ISCROLLMOVEX],[0-ISCROLLMOVEY]);}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={ANNRUNNERSCROLL^STOP(FALSE);SSCROLLSIGNAL^SET("FINISHED");}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={SOTHERIDLEEVT^SET(ARROTHERIDLEOBJEVT^GET([I1+1]));*SOTHERIDLEOBJ^PLAY([SOTHERIDLEEVT+"PRZESZK"]);}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={SOTHERIDLEOBJ^SET("");}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={SOTHERIDLEOBJ^SET(ARROTHERIDLEOBJEVT^GET(I1));@IF("SOTHERIDLEOBJ!'SDIALOGPERSON&&SOTHERIDLEOBJ!'""","BFITMP2","BFITMP3");}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={*SOTHERIDLEOBJ^PLAY([SOTHERIDLEEVT+"IDLE"]);SOTHERIDLEOBJ^SET("");SOTHERIDLEEVT^SET("");}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={@IF(*SOTHERIDLEOBJ^ISPLAYING(),"_","FALSE","BFITMP5","");}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={SOTHERIDLEOBJ^SET("");SOTHERIDLEEVT^SET("");}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={I1^SET(RANDOM^GET(ARROTHERIDLEOBJEVT^GETSIZE()));@IF([I1%2],"_","0","BFITMP4","");}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={@IF("SOTHERIDLEOBJ","!_","SDIALOGPERSON","BFITMP6","BFITMP7");}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={BEHDIALOGSTOP^RUN(FALSE);}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={STMPCLICK^SET(CANVASOBSERVER^GETGRAPHICSAT(IMOUSEX,IMOUSEY,FALSE,399,399,FALSE));}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={STMPCLICK^SET(CANVASOBSERVER^GETGRAPHICSAT(IMOUSEX,IMOUSEY,TRUE,2500,2599,FALSE));@IF("STMPCLICK","_","NULL","BFITMP11","");}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={ANNITEMDRAGGING^MOVE([IMOUSEX-IMOUSELASTX],[IMOUSEY-IMOUSELASTY]);}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={S1^SET(CANVASOBSERVER^GETGRAPHICSAT(IMOUSEX,IMOUSEY,FALSE,399,399,FALSE));}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={S1^SET(CANVASOBSERVER^GETGRAPHICSAT(IMOUSEX,IMOUSEY,TRUE,400,2199,FALSE));@IF("S1","_","NULL","BFITMP14","");}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={IMOUSEX^SET(MOUSE^GETPOSX());IMOUSEY^SET(MOUSE^GETPOSY());@IF("SITEMDRAGGING","!_","NULL","BFITMP13","");S1^SET(CANVASOBSERVER^GETGRAPHICSAT(IMOUSEX,IMOUSEY,TRUE,2500,2599,FALSE));@IF("S1","_","NULL","BFITMP15","");SFOCUSSEL^SET(S1);IMOUSELASTX^SET(IMOUSEX);IMOUSELASTY^SET(IMOUSEY);}


OBJECT=BFITMP1762
BFITMP1762:TYPE=BEHAVIOUR
BFITMP1762:CODE={BUTNULLMOUSELOCK^ENABLE();}


OBJECT=BFITMP1763
BFITMP1763:TYPE=BEHAVIOUR
BFITMP1763:CODE={BUTNULLMOUSELOCK^DISABLE();}


OBJECT=BFITMP1764
BFITMP1764:TYPE=BEHAVIOUR
BFITMP1764:CODE={BEHDIALOGSTOP^RUN(FALSE);}


OBJECT=BFITMP1765
BFITMP1765:TYPE=BEHAVIOUR
BFITMP1765:CODE={BDIALOGCANINTERRUPT^SET(FALSE);}


OBJECT=BFITMP1766
BFITMP1766:TYPE=BEHAVIOUR
BFITMP1766:CODE={BDIALOGCANINTERRUPT^SET(TRUE);}


OBJECT=BFITMP1767
BFITMP1767:TYPE=BEHAVIOUR
BFITMP1767:CODE={SDIALOGPERSONPREEVENTALL^ADD(S2);}


OBJECT=BFITMP1768
BFITMP1768:TYPE=BEHAVIOUR
BFITMP1768:CODE={*SDIALOGPERSONLAST^PLAY([SDIALOGPERSONPREEVENTLAST+"IDLE"]);}


OBJECT=BFITMP1769
BFITMP1769:TYPE=BEHAVIOUR
BFITMP1769:CODE={*SDIALOGPERSON^PLAY(SDIALOGPERSONPREEVENTALL);}


OBJECT=BFITMP1770
BFITMP1770:TYPE=BEHAVIOUR
BFITMP1770:CODE={@IF("SDIALOGPERSONLAST","!_","""","BFITMP1768","");@IF("SDIALOGPERSON","!_","""","BFITMP1769","");}


OBJECT=BFITMP1771
BFITMP1771:TYPE=BEHAVIOUR
BFITMP1771:CODE={IDIALOGINDEKS^SET([I1+1]);BUTNULLDIALOGI^ENABLE();DBDIALOGI^SELECT(I1);STDIALOGI^SET("DBDIALOGI_CURSOR");SDIALOGWAVENAME^SET(STDIALOGI|WAVE);SDIALOGWAVENAME^UPPER();SDIALOGPERSON^SET(STDIALOGI|PERSON);SDIALOGPERSON^UPPER();SDIALOGPERSONPREEVENT^SET(STDIALOGI|PREEVENT);SDIALOGPERSONPREEVENT^UPPER();SDIALOGPERSONPREEVENTALL^SET([SDIALOGPERSONPREEVENT+"GADA"]);I1^SET(SDIALOGWAVENAME^LENGTH());S2^SET(SDIALOGWAVENAME^GET([I1-2],2));@IF("S2","_",""_E"","BFITMP1767","");@IF("SDIALOGPERSON!'SDIALOGPERSONLAST||SDIALOGPERSONPREEVENTALL!'SDIALOGPERSONPREEVENTALLLAST","BFITMP1770","");SDIALOGPERSONLAST^SET(SDIALOGPERSON);SDIALOGPERSONPREEVENTLAST^SET(SDIALOGPERSONPREEVENT);SDIALOGPERSONPREEVENTALLLAST^SET(SDIALOGPERSONPREEVENTALL);BDIALOGISPLAYING^SET(TRUE);SNDARCADETALK^LOAD(["$WAVS\"+SDIALOGWAVENAME+".WAV"]);SNDARCADETALK^PLAY();}


OBJECT=BFITMP1772
BFITMP1772:TYPE=BEHAVIOUR
BFITMP1772:CODE={LOG^PUT(["DIALOG_FAILED__"+SDIALOGNAME]);}


OBJECT=BFITMP1773
BFITMP1773:TYPE=BEHAVIOUR
BFITMP1773:CODE={BEHDIALOGSTOP^RUN(FALSE);}


OBJECT=BFITMP1774
BFITMP1774:TYPE=BEHAVIOUR
BFITMP1774:CODE={BDIALOGCANINTERRUPT^SET(FALSE);}


OBJECT=BFITMP1775
BFITMP1775:TYPE=BEHAVIOUR
BFITMP1775:CODE={BDIALOGCANINTERRUPT^SET(TRUE);}


OBJECT=BFITMP1776
BFITMP1776:TYPE=BEHAVIOUR
BFITMP1776:CODE={@WHILE("ITMPRAND1","_","IDIALOGRANDOMLASTVALUE","{ITMPRAND1^SET(RANDOM^GET(ITMPRAND));}");}


OBJECT=BFITMP1777
BFITMP1777:TYPE=BEHAVIOUR
BFITMP1777:CODE={SDIALOGPERSONPREEVENTALL^ADD(S2);}


OBJECT=BFITMP1778
BFITMP1778:TYPE=BEHAVIOUR
BFITMP1778:CODE={*SDIALOGPERSONLAST^PLAY([SDIALOGPERSONPREEVENTLAST+"IDLE"]);}


OBJECT=BFITMP1779
BFITMP1779:TYPE=BEHAVIOUR
BFITMP1779:CODE={*SDIALOGPERSON^PLAY(SDIALOGPERSONPREEVENTALL);}


OBJECT=BFITMP1780
BFITMP1780:TYPE=BEHAVIOUR
BFITMP1780:CODE={@IF("SDIALOGPERSONLAST","!_","""","BFITMP1778","");@IF("SDIALOGPERSON","!_","""","BFITMP1779","");}


OBJECT=BFITMP1781
BFITMP1781:TYPE=BEHAVIOUR
BFITMP1781:CODE={IDIALOGINDEKS^SET([I1+1]);BUTNULLDIALOGI^ENABLE();DBDIALOGI^SELECT(I1);STDIALOGI^SET("DBDIALOGI_CURSOR");SDIALOGWAVENAME^SET(STDIALOGI|WAVE);SDIALOGWAVENAME^UPPER();SDIALOGPERSON^SET(STDIALOGI|PERSON);SDIALOGPERSON^UPPER();SDIALOGPERSONPREEVENT^SET(STDIALOGI|PREEVENT);SDIALOGPERSONPREEVENT^UPPER();SDIALOGPERSONPREEVENTALL^SET([SDIALOGPERSONPREEVENT+"GADA"]);I1^SET(SDIALOGWAVENAME^LENGTH());S2^SET(SDIALOGWAVENAME^GET([I1-2],2));@IF("S2","_",""_E"","BFITMP1777","");@IF("SDIALOGPERSON!'SDIALOGPERSONLAST||SDIALOGPERSONPREEVENTALL!'SDIALOGPERSONPREEVENTALLLAST","BFITMP1780","");SDIALOGPERSONLAST^SET(SDIALOGPERSON);SDIALOGPERSONPREEVENTLAST^SET(SDIALOGPERSONPREEVENT);SDIALOGPERSONPREEVENTALLLAST^SET(SDIALOGPERSONPREEVENTALL);BDIALOGISPLAYING^SET(TRUE);SNDARCADETALK^LOAD(["$WAVS\"+SDIALOGWAVENAME+".WAV"]);SNDARCADETALK^PLAY();}


OBJECT=BFITMP1782
BFITMP1782:TYPE=BEHAVIOUR
BFITMP1782:CODE={LOG^PUT(["RANDOM_DIALOG_FAILED__"+SDIALOGNAME]);}


OBJECT=BFITMP1783
BFITMP1783:TYPE=BEHAVIOUR
BFITMP1783:CODE={SDIALOGPERSONPREEVENTALL^ADD(S2);}


OBJECT=BFITMP1784
BFITMP1784:TYPE=BEHAVIOUR
BFITMP1784:CODE={*SDIALOGPERSONLAST^PLAY([SDIALOGPERSONPREEVENTLAST+"IDLE"]);}


OBJECT=BFITMP1785
BFITMP1785:TYPE=BEHAVIOUR
BFITMP1785:CODE={*SDIALOGPERSON^PLAY(SDIALOGPERSONPREEVENTALL);}


OBJECT=BFITMP1786
BFITMP1786:TYPE=BEHAVIOUR
BFITMP1786:CODE={@IF("SDIALOGPERSONLAST","!_","""","BFITMP1784","");SDIALOGSIGNAL^SET(["WAVEND_"+STMPDPNWAVEND]);@IF("SDIALOGPERSON","!_","""","BFITMP1785","");}


OBJECT=BFITMP1787
BFITMP1787:TYPE=BEHAVIOUR
BFITMP1787:CODE={SDIALOGSIGNAL^SET(["WAVEND_"+STMPDPNWAVEND]);}


OBJECT=BFITMP1788
BFITMP1788:TYPE=BEHAVIOUR
BFITMP1788:CODE={@STRING("STMPDPNWAVEND",SDIALOGWAVENAME);IDIALOGINDEKS^SET([I1+1]);DBDIALOGI^SELECT(I1);STDIALOGI^SET("DBDIALOGI_CURSOR");SDIALOGWAVENAME^SET(STDIALOGI|WAVE);SDIALOGWAVENAME^UPPER();SDIALOGPERSON^SET(STDIALOGI|PERSON);SDIALOGPERSON^UPPER();SDIALOGPERSONPREEVENT^SET(STDIALOGI|PREEVENT);SDIALOGPERSONPREEVENT^UPPER();SDIALOGPERSONPREEVENTALL^SET([SDIALOGPERSONPREEVENT+"GADA"]);I1^SET(SDIALOGWAVENAME^LENGTH());S2^SET(SDIALOGWAVENAME^GET([I1-2],2));@IF("S2","_",""_E"","BFITMP1783","");@IF("SDIALOGPERSON!'SDIALOGPERSONLAST||SDIALOGPERSONPREEVENTALL!'SDIALOGPERSONPREEVENTALLLAST","BFITMP1786","BFITMP1787");SDIALOGPERSONLAST^SET(SDIALOGPERSON);SDIALOGPERSONPREEVENTLAST^SET(SDIALOGPERSONPREEVENT);SDIALOGPERSONPREEVENTALLLAST^SET(SDIALOGPERSONPREEVENTALL);SNDARCADETALK^LOAD(["$WAVS\"+SDIALOGWAVENAME+".WAV"]);SNDARCADETALK^PLAY();}


OBJECT=BFITMP1789
BFITMP1789:TYPE=BEHAVIOUR
BFITMP1789:CODE={BEHDIALOGSTOP^RUN();}


OBJECT=BFITMP1790
BFITMP1790:TYPE=BEHAVIOUR
BFITMP1790:CODE={BDSSIGARG^SET(FALSE);}


OBJECT=BFITMP1791
BFITMP1791:TYPE=BEHAVIOUR
BFITMP1791:CODE={BDSSIGARG^SET(TRUE);}


OBJECT=BFITMP1792
BFITMP1792:TYPE=BEHAVIOUR
BFITMP1792:CODE={*SDIALOGPERSON^PLAY([SDIALOGPERSONPREEVENT+"IDLE"]);}


OBJECT=BFITMP1793
BFITMP1793:TYPE=BEHAVIOUR
BFITMP1793:CODE={SDIALOGSIGNAL^SET(["FINISHED_"+SDSDIALNAMEARG]);}


OBJECT=BFITMP1794
BFITMP1794:TYPE=BEHAVIOUR
BFITMP1794:CODE={BEHDIALOGSTOPOFF^RUN(FALSE);}


OBJECT=BFITMP1795
BFITMP1795:TYPE=BEHAVIOUR
BFITMP1795:CODE={IDIALOGINDEKSOFF^SET([I1+1]);DBDIALOGI^SELECT(I1);STDIALOGI^SET("DBDIALOGI_CURSOR");S1^SET(STDIALOGI|WAVE);S1^UPPER();IDIALOGPRIORITYOFF^SET(IDPODIALPRIORARG);SNDARCADEOFF^LOAD(["$WAVS\"+S1+".WAV"]);SNDARCADEOFF^PLAY();}


OBJECT=BFITMP1796
BFITMP1796:TYPE=BEHAVIOUR
BFITMP1796:CODE={LOG^PUT(["DIALOG_OFF_FAILED__"+SDIALOGNAMEOFF]);}


OBJECT=BFITMP1797
BFITMP1797:TYPE=BEHAVIOUR
BFITMP1797:CODE={@IF("IDIALOGPRIORITYOFF",">","-1","BFITMP1794","");SDIALOGNAMEOFF^SET(SDPODIALNAMEARG);I1^SET(DBDIALOGI^FIND("ID",SDIALOGNAMEOFF,IDIALOGINDEKSOFF));@IF("I1",">","-1","BFITMP1795","BFITMP1796");}


OBJECT=BFITMP1798
BFITMP1798:TYPE=BEHAVIOUR
BFITMP1798:CODE={BEHDIALOGSTOPOFF^RUN(FALSE);}


OBJECT=BFITMP1799
BFITMP1799:TYPE=BEHAVIOUR
BFITMP1799:CODE={IDIALOGINDEKSOFF^SET([I1+1]);DBDIALOGI^SELECT(I1);STDIALOGI^SET("DBDIALOGI_CURSOR");S1^SET(STDIALOGI|WAVE);S1^UPPER();IDIALOGPRIORITYOFF^SET(IDPODIALPRIORARG);SNDARCADEOFF^LOAD(["$WAVS\"+S1+".WAV"]);SNDARCADEOFF^PLAY();}


OBJECT=BFITMP1800
BFITMP1800:TYPE=BEHAVIOUR
BFITMP1800:CODE={LOG^PUT(["DIALOG_OFF_FAILED__"+SDIALOGNAMEOFF]);}


OBJECT=BFITMP1801
BFITMP1801:TYPE=BEHAVIOUR
BFITMP1801:CODE={@IF("IDIALOGPRIORITYOFF",">","-1","BFITMP1798","");SDIALOGNAMEOFF^SET(SDPODIALNAMEARG);ITMPRAND^SET(RANDOM^GET(ITMPRAND));SDIALOGNAMEOFF^ADD(ITMPRAND);I1^SET(DBDIALOGI^FIND("ID",SDIALOGNAMEOFF,IDIALOGINDEKSOFF));@IF("I1",">","-1","BFITMP1799","BFITMP1800");}


OBJECT=BFITMP1802
BFITMP1802:TYPE=BEHAVIOUR
BFITMP1802:CODE={IDIALOGINDEKSOFF^SET([I1+1]);DBDIALOGI^SELECT(I1);STDIALOGI^SET("DBDIALOGI_CURSOR");S1^SET(STDIALOGI|WAVE);S1^UPPER();SNDARCADEOFF^STOP(FALSE);SNDARCADEOFF^LOAD(["$WAVS\"+S1+".WAV"]);SNDARCADEOFF^PLAY();}


OBJECT=BFITMP1803
BFITMP1803:TYPE=BEHAVIOUR
BFITMP1803:CODE={BEHDIALOGSTOPOFF^RUN();}


OBJECT=BFITMP1804
BFITMP1804:TYPE=BEHAVIOUR
BFITMP1804:CODE={BDSOSIGARG^SET(FALSE);}


OBJECT=BFITMP1805
BFITMP1805:TYPE=BEHAVIOUR
BFITMP1805:CODE={BDSOSIGARG^SET(TRUE);}


OBJECT=BFITMP1806
BFITMP1806:TYPE=BEHAVIOUR
BFITMP1806:CODE={SDIALOGSIGNAL^SET(["FINISHED_"+SDSODIALNAMEARG]);}


OBJECT=BFITMP1807
BFITMP1807:TYPE=BEHAVIOUR
BFITMP1807:CODE={GSAVE^SET("ARCADE_SCROLL_POS_X",ISCROLLTARGETX);GSAVE^SET("ARCADE_SCROLL_POS_Y",ISCROLLTARGETY);}


OBJECT=BFITMP1808
BFITMP1808:TYPE=BEHAVIOUR
BFITMP1808:CODE={ANNRUNNERSCROLL^PLAY("RUN");}


OBJECT=BFITMP1809
BFITMP1809:TYPE=BEHAVIOUR
BFITMP1809:CODE={GSAVE^SET("ARCADE_SCROLL_POS_X",ISCROLLTARGETX);GSAVE^SET("ARCADE_SCROLL_POS_Y",ISCROLLTARGETY);}


OBJECT=BFITMP1810
BFITMP1810:TYPE=BEHAVIOUR
BFITMP1810:CODE={ISCROLLMOVEX^SET([ISCROLLTARGETX-ISCROLLPOSX]);ISCROLLMOVEY^SET([ISCROLLTARGETY-ISCROLLPOSY]);ISCROLLPOSX^ADD(ISCROLLMOVEX);ISCROLLPOSY^ADD(ISCROLLMOVEY);CANVASOBSERVER^MOVEBKG(ISCROLLMOVEX,ISCROLLMOVEY);GSCROLL^MOVE([0-ISCROLLMOVEX],[0-ISCROLLMOVEY]);}


