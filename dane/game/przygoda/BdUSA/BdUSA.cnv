OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=DZIKI_ZACHOD.WAV

OBJECT=I1
I1:TYPE=INTEGER

OBJECT=I2
I2:TYPE=INTEGER

OBJECT=I3
I3:TYPE=INTEGER

OBJECT=I4
I4:TYPE=INTEGER

OBJECT=I5
I5:TYPE=INTEGER

OBJECT=S1
S1:TYPE=STRING

OBJECT=S2
S2:TYPE=STRING

OBJECT=B1
B1:TYPE=BOOL
B1:VALUE=FALSE

OBJECT=ISEQPRIORITY
ISEQPRIORITY:TYPE=INTEGER
ISEQPRIORITY:VALUE=-1
ISEQPRIORITY:ONCHANGED^-1={SSEQNAME^SET(NULL);SSEQEVENT^SET(NULL);}

OBJECT=SSEQNAME
SSEQNAME:TYPE=STRING

OBJECT=SSEQEVENT
SSEQEVENT:TYPE=STRING

OBJECT=BTABLICATOUCHED
BTABLICATOUCHED:TYPE=BOOL
BTABLICATOUCHED:VALUE=FALSE

OBJECT=BTABLICADESTROYED
BTABLICADESTROYED:TYPE=BOOL
BTABLICADESTROYED:VALUE=FALSE

OBJECT=BKILLEDBYKONKWISTADOR
BKILLEDBYKONKWISTADOR:TYPE=BOOL
BKILLEDBYKONKWISTADOR:VALUE=FALSE

OBJECT=BKILLEDBYSTONE
BKILLEDBYSTONE:TYPE=BOOL
BKILLEDBYSTONE:VALUE=FALSE

OBJECT=IPOLESEL
IPOLESEL:TYPE=INTEGER
IPOLESEL:VALUE=-1
IPOLESEL:ONCHANGED^1={SPOLE^SET("WALL");}
IPOLESEL:ONCHANGED^5={SPOLE^SET("ENEMY1");}
IPOLESEL:ONCHANGED^10={SPOLE^SET("TNTY");}
IPOLESEL:ONCHANGED^15={SPOLE^SET("PLAYER");}
IPOLESEL:ONCHANGED^16={SPOLE^SET("PLAYERGRAVITY");}
IPOLESEL:ONCHANGED^17={SPOLE^SET("TNTO");}
IPOLESEL:ONCHANGED^20={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^21={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^22={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^23={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^24={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^25={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^26={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^27={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^28={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^29={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^30={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^31={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^32={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^33={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^34={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^35={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^36={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^37={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^38={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^39={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^40={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^41={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^42={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^43={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^44={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^45={SPOLE^SET(["STONE"+IPOLESEL]);}
IPOLESEL:ONCHANGED^70={SPOLE^SET(["INFO"+IPOLESEL]);}
IPOLESEL:ONCHANGED^120={SPOLE^SET("WALL_ZNISZ");}
IPOLESEL:ONCHANGED^121={SPOLE^SET("EMPTY");}
IPOLESEL:ONCHANGED^122={SPOLE^SET("BASE");}
IPOLESEL:ONCHANGED^123={SPOLE^SET("BUG");}
IPOLESEL:ONCHANGED^124={SPOLE^SET("TNTR");}
IPOLESEL:ONCHANGED^125={SPOLE^SET("EXIT");}
IPOLESEL:ONCHANGED^126={SPOLE^SET("TERMINAL");}
IPOLESEL:ONCHANGED^130={SPOLE^SET("PORT");}

OBJECT=SPOLE
SPOLE:TYPE=STRING

OBJECT=IBDLEVEL
IBDLEVEL:TYPE=INTEGER
IBDLEVEL:VALUE=0

OBJECT=IGRID
IGRID:TYPE=INTEGER
IGRID:VALUE=60

OBJECT=ICENTERX
ICENTERX:TYPE=INTEGER

OBJECT=ICENTERY
ICENTERY:TYPE=INTEGER

OBJECT=ISIZEX
ISIZEX:TYPE=INTEGER

OBJECT=ISIZEY
ISIZEY:TYPE=INTEGER

OBJECT=ISPADREMX
ISPADREMX:TYPE=INTEGER

OBJECT=ISCROLLSPEED
ISCROLLSPEED:TYPE=INTEGER
ISCROLLSPEED:VALUE=6

OBJECT=IINFOSTOEAT
IINFOSTOEAT:TYPE=INTEGER
IINFOSTOEAT:VALUE=0

OBJECT=ITNTSGATHERED
ITNTSGATHERED:TYPE=INTEGER
ITNTSGATHERED:VALUE=0
ITNTSGATHERED:ONBRUTALCHANGED={ANNDYNAMITYLICZNIK^SETFRAME("IDLE",ITNTSGATHERED);}

OBJECT=ISLOWNIKSELECTOR
ISLOWNIKSELECTOR:TYPE=INTEGER
ISLOWNIKSELECTOR:VALUE=0
ISLOWNIKSELECTOR:ONBRUTALCHANGED^0={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("ABC");}
ISLOWNIKSELECTOR:ONBRUTALCHANGED^1={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("ABC");}
ISLOWNIKSELECTOR:ONBRUTALCHANGED^2={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("GHI");}
ISLOWNIKSELECTOR:ONBRUTALCHANGED^3={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("JKL");}
ISLOWNIKSELECTOR:ONBRUTALCHANGED^4={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("MNO");}
ISLOWNIKSELECTOR:ONBRUTALCHANGED^5={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("PQR");}
ISLOWNIKSELECTOR:ONBRUTALCHANGED^6={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("STU");}
ISLOWNIKSELECTOR:ONBRUTALCHANGED^7={ARRWYRAZY^REMOVEALL();ARRWYRAZY^ADD("VWX");}

OBJECT=IKEYBBUFF
IKEYBBUFF:TYPE=INTEGER
IKEYBBUFF:VALUE=3

OBJECT=IKEYSCOUNT
IKEYSCOUNT:TYPE=INTEGER
IKEYSCOUNT:VALUE=0
IKEYSCOUNT:ONCHANGED^0={ARRKEYS^ADD("F");}

OBJECT=IKEYSONELEFT
IKEYSONELEFT:TYPE=INTEGER
IKEYSONELEFT:VALUE=0
IKEYSONELEFT:ONBRUTALCHANGED^1={I1^SET([ARRKEYS^GETSIZE()-1]);@IF(KEYBOARD^ISKEYDOWN("UP"),"_","TRUE","BFITMP9","BFITMP10");}

OBJECT=ICLONENR
ICLONENR:TYPE=INTEGER
ICLONENR:VALUE=0

OBJECT=ILITERKA
ILITERKA:TYPE=INTEGER
ILITERKA:ONCHANGED^20={SLITERKA^SET("_");}
ILITERKA:ONCHANGED^21={SLITERKA^SET("_");}
ILITERKA:ONCHANGED^22={SLITERKA^SET("A");}
ILITERKA:ONCHANGED^23={SLITERKA^SET("B");}
ILITERKA:ONCHANGED^24={SLITERKA^SET("C");}
ILITERKA:ONCHANGED^25={SLITERKA^SET("D");}
ILITERKA:ONCHANGED^26={SLITERKA^SET("E");}
ILITERKA:ONCHANGED^27={SLITERKA^SET("F");}
ILITERKA:ONCHANGED^28={SLITERKA^SET("G");}
ILITERKA:ONCHANGED^29={SLITERKA^SET("H");}
ILITERKA:ONCHANGED^30={SLITERKA^SET("I");}
ILITERKA:ONCHANGED^31={SLITERKA^SET("J");}
ILITERKA:ONCHANGED^32={SLITERKA^SET("K");}
ILITERKA:ONCHANGED^33={SLITERKA^SET("L");}
ILITERKA:ONCHANGED^34={SLITERKA^SET("M");}
ILITERKA:ONCHANGED^35={SLITERKA^SET("N");}
ILITERKA:ONCHANGED^36={SLITERKA^SET("O");}
ILITERKA:ONCHANGED^37={SLITERKA^SET("P");}
ILITERKA:ONCHANGED^38={SLITERKA^SET("Q");}
ILITERKA:ONCHANGED^39={SLITERKA^SET("R");}
ILITERKA:ONCHANGED^40={SLITERKA^SET("S");}
ILITERKA:ONCHANGED^41={SLITERKA^SET("T");}
ILITERKA:ONCHANGED^42={SLITERKA^SET("U");}
ILITERKA:ONCHANGED^43={SLITERKA^SET("V");}
ILITERKA:ONCHANGED^44={SLITERKA^SET("W");}
ILITERKA:ONCHANGED^45={SLITERKA^SET("X");}

OBJECT=ILITERKAFIRST
ILITERKAFIRST:TYPE=INTEGER

OBJECT=ICOLLISIONSELECTOR
ICOLLISIONSELECTOR:TYPE=INTEGER
ICOLLISIONSELECTOR:ONBRUTALCHANGED^0={BEHPLAYERDEAD^RUN();IEXPLOX^SET(IPLAYERPOSX);IEXPLOY^SET(IPLAYERPOSY);BEHEXPLOSION^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^1={SPLAYERDIR^SET("F");}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^4={SPLAYERDIR^SET("F");}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^5={BKILLEDBYKONKWISTADOR^SET(TRUE);BEHPLAYERDEAD^RUN();IEXPLOX^SET(IPLAYERPOSX);IEXPLOY^SET(IPLAYERPOSY);BEHEXPLOSION^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^10={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^17={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^20={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^21={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^22={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^23={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^24={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^25={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^26={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^27={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^28={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^29={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^30={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^31={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^32={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^33={BEHPUSH^RUN();BTABLICATOUCHED^SET(TRUE);}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^34={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^35={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^36={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^37={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^38={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^39={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^40={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^41={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^42={BEHPUSH^RUN();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^70={IINFOSTOEAT^DEC();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^120={SPLAYERDIR^SET("F");}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^124={ITNTSGATHERED^INC();SFX_THING^PLAY();}
ICOLLISIONSELECTOR:ONBRUTALCHANGED^125={SPLAYERDIR^SET("F");@IF("IINFOSTOEAT",">","0","BFITMP11","BFITMP12");}

OBJECT=ICOLLISIONSELECTORSTONE
ICOLLISIONSELECTORSTONE:TYPE=INTEGER
ICOLLISIONSELECTORSTONE:ONBRUTALCHANGED^5={I1^SET(ARRENEMY^GET(ISPADX,ISPADY));S1^SET(["BDENEMY"+I1]);*S1^DEAD();IEXPLOX^SET(ISPADX);IEXPLOY^SET(ISPADY);BEHEXPLOSION^RUN();}
ICOLLISIONSELECTORSTONE:ONBRUTALCHANGED^15={BKILLEDBYSTONE^SET(TRUE);BEHPLAYERDEAD^RUN();IEXPLOX^SET(ISPADX);IEXPLOY^SET(ISPADY);BEHEXPLOSION^RUN();}
ICOLLISIONSELECTORSTONE:ONBRUTALCHANGED={I2^SET(ARRMAPA^GET(ISPADX,ISPADY));@IF("I2>IWYBUCHAJACE_OD&&I2<IWYBUCHAJACE_DO","BFITMP13","");}

OBJECT=IEXPLOSELECTOR
IEXPLOSELECTOR:TYPE=INTEGER
IEXPLOSELECTOR:ONBRUTALCHANGED^5={I3^SET(ARRENEMY^GET(IEXPLOX,IEXPLOY));S1^SET(["BDENEMY"+I3]);*S1^DEAD();BEHSEQPLAY^RUN("SEQGADA","KONKWISTADOR_KILLED",5);}
IEXPLOSELECTOR:ONBRUTALCHANGED^15={BEHPLAYERDEAD^RUN();}

OBJECT=ITNTRX
ITNTRX:TYPE=INTEGER
ITNTRX:VALUE=0

OBJECT=ITNTRY
ITNTRY:TYPE=INTEGER
ITNTRY:VALUE=0

OBJECT=ILASTDIRX
ILASTDIRX:TYPE=INTEGER
ILASTDIRX:VALUE=0

OBJECT=ILASTDIRY
ILASTDIRY:TYPE=INTEGER
ILASTDIRY:VALUE=0

OBJECT=IPLAYERMOVEX
IPLAYERMOVEX:TYPE=INTEGER
IPLAYERMOVEX:VALUE=0

OBJECT=IPLAYERMOVEY
IPLAYERMOVEY:TYPE=INTEGER
IPLAYERMOVEY:VALUE=0

OBJECT=IPLAYERPOSX
IPLAYERPOSX:TYPE=INTEGER

OBJECT=IPLAYERPOSY
IPLAYERPOSY:TYPE=INTEGER

OBJECT=IPLAYERLASTPOSX
IPLAYERLASTPOSX:TYPE=INTEGER

OBJECT=IPLAYERLASTPOSY
IPLAYERLASTPOSY:TYPE=INTEGER

OBJECT=ISCREENPOSX
ISCREENPOSX:TYPE=INTEGER

OBJECT=ISCREENPOSY
ISCREENPOSY:TYPE=INTEGER

OBJECT=IBKGSTARTX
IBKGSTARTX:TYPE=INTEGER

OBJECT=IBKGSTARTY
IBKGSTARTY:TYPE=INTEGER

OBJECT=ISCROLLMAXX
ISCROLLMAXX:TYPE=INTEGER

OBJECT=ISCROLLMAXY
ISCROLLMAXY:TYPE=INTEGER

OBJECT=ISCROLLDELTAX
ISCROLLDELTAX:TYPE=INTEGER
ISCROLLDELTAX:VALUE=0

OBJECT=ISCROLLDELTAY
ISCROLLDELTAY:TYPE=INTEGER
ISCROLLDELTAY:VALUE=0

OBJECT=IEXPLOX
IEXPLOX:TYPE=INTEGER

OBJECT=IEXPLOY
IEXPLOY:TYPE=INTEGER

OBJECT=ISPADX
ISPADX:TYPE=INTEGER

OBJECT=ISPADY
ISPADY:TYPE=INTEGER

OBJECT=ISPADREMY
ISPADREMY:TYPE=INTEGER

OBJECT=ISPADAID
ISPADAID:TYPE=INTEGER

OBJECT=IPCHANY
IPCHANY:TYPE=INTEGER
IPCHANY:VALUE=-1

OBJECT=SLITERKA
SLITERKA:TYPE=STRING

OBJECT=SWYRAZ
SWYRAZ:TYPE=STRING

OBJECT=SPCHANY
SPCHANY:TYPE=STRING
SPCHANY:VALUE=NULL

OBJECT=SPLAYERDIR
SPLAYERDIR:TYPE=STRING
SPLAYERDIR:ONBRUTALCHANGED^E={SFX_WYKOP_KOPIE^STOP(FALSE);SFX_WYKOP_KROK^STOP(FALSE);ANNPLAYER^STOP(FALSE);ANNPLAYER^HIDE();}
SPLAYERDIR:ONBRUTALCHANGED^F={SFX_WYKOP_KOPIE^STOP(FALSE);SFX_WYKOP_KROK^STOP(FALSE);ILASTDIRX^SET(0);ILASTDIRY^SET(0);}
SPLAYERDIR:ONBRUTALCHANGED^U={ILASTDIRX^SET(0);ILASTDIRY^SET(-1);ICOLLISIONSELECTOR^SET(ARRMAPA^GET(IPLAYERPOSX,[IPLAYERPOSY-1]));BEHONSTARTMOVE^RUN();}
SPLAYERDIR:ONBRUTALCHANGED^D={ILASTDIRX^SET(0);ILASTDIRY^SET(1);ICOLLISIONSELECTOR^SET(ARRMAPA^GET(IPLAYERPOSX,[IPLAYERPOSY+1]));BEHONSTARTMOVE^RUN();}
SPLAYERDIR:ONBRUTALCHANGED^L={ILASTDIRX^SET(-1);ILASTDIRY^SET(0);ICOLLISIONSELECTOR^SET(ARRMAPA^GET([IPLAYERPOSX-1],IPLAYERPOSY));BEHONSTARTMOVE^RUN();}
SPLAYERDIR:ONBRUTALCHANGED^R={ILASTDIRX^SET(1);ILASTDIRY^SET(0);ICOLLISIONSELECTOR^SET(ARRMAPA^GET([IPLAYERPOSX+1],IPLAYERPOSY));BEHONSTARTMOVE^RUN();}

OBJECT=SPLAYEREVENT
SPLAYEREVENT:TYPE=STRING
SPLAYEREVENT:ONCHANGED^E={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IPLAYERMOVEX^SET(0);IPLAYERMOVEY^SET(0);}
SPLAYEREVENT:ONCHANGED^F={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(0);IPLAYERMOVEX^SET(0);IPLAYERMOVEY^SET(0);}
SPLAYEREVENT:ONBRUTALCHANGED^U={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET([0-ISCROLLSPEED]);IPLAYERMOVEX^SET(0);IPLAYERMOVEY^SET(0);@IF([ISCREENPOSY+ISCROLLDELTAY],"<","0","BFITMP14","");@IF([ISCREENPOSY+ISCROLLDELTAY],">","ISCROLLMAXY","BFITMP15","");}
SPLAYEREVENT:ONBRUTALCHANGED^D={ISCROLLDELTAX^SET(0);ISCROLLDELTAY^SET(ISCROLLSPEED);IPLAYERMOVEX^SET(0);IPLAYERMOVEY^SET(0);@IF([ISCREENPOSY+ISCROLLDELTAY],"<","0","BFITMP16","");@IF([ISCREENPOSY+ISCROLLDELTAY],">","ISCROLLMAXY","BFITMP17","");}
SPLAYEREVENT:ONBRUTALCHANGED^L={ISCROLLDELTAX^SET([0-ISCROLLSPEED]);ISCROLLDELTAY^SET(0);IPLAYERMOVEX^SET(0);IPLAYERMOVEY^SET(0);@IF([ISCREENPOSX+ISCROLLDELTAX],"<","0","BFITMP18","");@IF([ISCREENPOSX+ISCROLLDELTAX],">","ISCROLLMAXX","BFITMP19","");}
SPLAYEREVENT:ONBRUTALCHANGED^R={ISCROLLDELTAX^SET(ISCROLLSPEED);ISCROLLDELTAY^SET(0);IPLAYERMOVEX^SET(0);IPLAYERMOVEY^SET(0);@IF([ISCREENPOSX+ISCROLLDELTAX],"<","0","BFITMP20","");@IF([ISCREENPOSX+ISCROLLDELTAX],">","ISCROLLMAXX","BFITMP21","");}

OBJECT=SSPADANAME
SSPADANAME:TYPE=STRING
SSPADANAME:VALUE=NULL

OBJECT=SSPADANAMEREM
SSPADANAMEREM:TYPE=STRING
SSPADANAMEREM:VALUE=NULL

OBJECT=SSPADANIESELECTOR
SSPADANIESELECTOR:TYPE=STRING
SSPADANIESELECTOR:ONBRUTALCHANGED^U={BEHSPADANIER^RUN([ISPADX-1],ISPADY);@IF("BSPADA","_","FALSE","BFITMP22","");}
SSPADANIESELECTOR:ONBRUTALCHANGED^D={BEHSPADANIED^RUN(ISPADX,[ISPADY-1]);@IF("BSPADA","_","FALSE","BFITMP23","");@IF("BSPADA","_","FALSE","BFITMP24","");}
SSPADANIESELECTOR:ONBRUTALCHANGED^L={BEHSPADANIEL^RUN([ISPADX+1],ISPADY);@IF("BSPADA","_","FALSE","BFITMP25","");@IF("BSPADA","_","FALSE","BFITMP26","");}
SSPADANIESELECTOR:ONBRUTALCHANGED^R={BEHSPADANIER^RUN([ISPADX-1],ISPADY);@IF("BSPADA","_","FALSE","BFITMP27","");@IF("BSPADA","_","FALSE","BFITMP28","");}
SSPADANIESELECTOR:ONBRUTALCHANGED^E={BEHSPADANIED^RUN(ISPADX,[ISPADY-2]);BEHSPADANIED^RUN([ISPADX-1],[ISPADY-2]);BEHSPADANIED^RUN([ISPADX+1],[ISPADY-2]);BEHSPADANIER^RUN([ISPADX-2],[ISPADY-2]);BEHSPADANIER^RUN([ISPADX-2],[ISPADY-1]);BEHSPADANIER^RUN([ISPADX-2],ISPADY);BEHSPADANIER^RUN([ISPADX-2],[ISPADY+1]);BEHSPADANIEL^RUN([ISPADX+2],[ISPADY-2]);BEHSPADANIEL^RUN([ISPADX+2],[ISPADY-1]);BEHSPADANIEL^RUN([ISPADX+2],ISPADY);BEHSPADANIEL^RUN([ISPADX+2],[ISPADY+1]);}
SSPADANIESELECTOR:ONBRUTALCHANGED^NULL={BEHSPADANIED^RUN(ISPADX,[ISPADY-1]);@IF("BSPADA","_","FALSE","BFITMP29","");@IF("BSPADA","_","FALSE","BFITMP30","");@IF("BSPADA","_","FALSE","BFITMP31","");@IF("BSPADA","_","FALSE","BFITMP32","");}

OBJECT=BPCHA
BPCHA:TYPE=BOOL
BPCHA:VALUE=FALSE

OBJECT=BSPADA
BSPADA:TYPE=BOOL
BSPADA:VALUE=FALSE

OBJECT=_______________
_______________:TYPE=INTEGER

OBJECT=IDANGERF
IDANGERF:TYPE=INTEGER
IDANGERF:VALUE=0

OBJECT=IWALL1
IWALL1:TYPE=INTEGER
IWALL1:VALUE=1

OBJECT=IFALLINGSTONE
IFALLINGSTONE:TYPE=INTEGER
IFALLINGSTONE:VALUE=4

OBJECT=IENEMY1
IENEMY1:TYPE=INTEGER
IENEMY1:VALUE=5

OBJECT=ITNTY
ITNTY:TYPE=INTEGER
ITNTY:VALUE=10

OBJECT=IPLAYER
IPLAYER:TYPE=INTEGER
IPLAYER:VALUE=15

OBJECT=IPLAYERG
IPLAYERG:TYPE=INTEGER
IPLAYERG:VALUE=16

OBJECT=ITNTO
ITNTO:TYPE=INTEGER
ITNTO:VALUE=17

OBJECT=ISTONES_OD
ISTONES_OD:TYPE=INTEGER
ISTONES_OD:VALUE=19

OBJECT=ISTONES_DO
ISTONES_DO:TYPE=INTEGER
ISTONES_DO:VALUE=70

OBJECT=IINFO_OD
IINFO_OD:TYPE=INTEGER
IINFO_OD:VALUE=69

OBJECT=IINFO_DO
IINFO_DO:TYPE=INTEGER
IINFO_DO:VALUE=120

OBJECT=IWALL2
IWALL2:TYPE=INTEGER
IWALL2:VALUE=120

OBJECT=IEMPTY
IEMPTY:TYPE=INTEGER
IEMPTY:VALUE=121

OBJECT=IBASE
IBASE:TYPE=INTEGER
IBASE:VALUE=122

OBJECT=IBASEBUG
IBASEBUG:TYPE=INTEGER
IBASEBUG:VALUE=123

OBJECT=ITNTR
ITNTR:TYPE=INTEGER
ITNTR:VALUE=124

OBJECT=IEXIT
IEXIT:TYPE=INTEGER
IEXIT:VALUE=125

OBJECT=ITERMINAL
ITERMINAL:TYPE=INTEGER
ITERMINAL:VALUE=126

OBJECT=IPORT_OD
IPORT_OD:TYPE=INTEGER
IPORT_OD:VALUE=129

OBJECT=IPORT_DO
IPORT_DO:TYPE=INTEGER
IPORT_DO:VALUE=150

OBJECT=_______________
_______________:TYPE=INTEGER

OBJECT=IZNISZCZALNE_OD
IZNISZCZALNE_OD:TYPE=INTEGER
IZNISZCZALNE_OD:VALUE=3

OBJECT=IZNISZCZALNE_DO
IZNISZCZALNE_DO:TYPE=INTEGER
IZNISZCZALNE_DO:VALUE=150

OBJECT=IPRZESOWALNE_OD
IPRZESOWALNE_OD:TYPE=INTEGER
IPRZESOWALNE_OD:VALUE=9

OBJECT=IPRZESOWALNE_DO
IPRZESOWALNE_DO:TYPE=INTEGER
IPRZESOWALNE_DO:VALUE=70

OBJECT=ISPADAZNICH_OD
ISPADAZNICH_OD:TYPE=INTEGER
ISPADAZNICH_OD:VALUE=19

OBJECT=ISPADAZNICH_DO
ISPADAZNICH_DO:TYPE=INTEGER
ISPADAZNICH_DO:VALUE=121

OBJECT=IZJADALNE_OD
IZJADALNE_OD:TYPE=INTEGER
IZJADALNE_OD:VALUE=69

OBJECT=IZJADALNE_DO
IZJADALNE_DO:TYPE=INTEGER
IZJADALNE_DO:VALUE=125

OBJECT=ISPADAJACE_OD
ISPADAJACE_OD:TYPE=INTEGER
ISPADAJACE_OD:VALUE=15

OBJECT=ISPADAJACEDLP_OD
ISPADAJACEDLP_OD:TYPE=INTEGER
ISPADAJACEDLP_OD:VALUE=19

OBJECT=ISPADAJACE_DO
ISPADAJACE_DO:TYPE=INTEGER
ISPADAJACE_DO:VALUE=120

OBJECT=IWYBUCHAJACE_OD
IWYBUCHAJACE_OD:TYPE=INTEGER
IWYBUCHAJACE_OD:VALUE=4

OBJECT=IWYBUCHAJACE_DO
IWYBUCHAJACE_DO:TYPE=INTEGER
IWYBUCHAJACE_DO:VALUE=18

OBJECT=_______________
_______________:TYPE=INTEGER

OBJECT=SBEHYES
SBEHYES:TYPE=STRING
SBEHYES:VALUE=NULL

OBJECT=SBEHNO
SBEHNO:TYPE=STRING
SBEHNO:VALUE=NULL

OBJECT=ANNPLAYER
ANNPLAYER:TYPE=ANIMO
ANNPLAYER:VISIBLE=TRUE
ANNPLAYER:FILENAME=PLAYER.ANN
ANNPLAYER:TOCANVAS=TRUE
ANNPLAYER:PRIORITY=110
ANNPLAYER:FPS=40
ANNPLAYER:PRELOAD=TRUE
ANNPLAYER:RELEASE=TRUE
ANNPLAYER:MONITORCOLLISION=FALSE
ANNPLAYER:MONITORCOLLISIONALPHA=FALSE
ANNPLAYER:ONFRAMECHANGED={IBKGSTARTX^ADD(ISCROLLDELTAX);IBKGSTARTY^ADD(ISCROLLDELTAY);CANVASOBSERVER^MOVEBKG(ISCROLLDELTAX,ISCROLLDELTAY);GOBJ^MOVE([0-ISCROLLDELTAX],[0-ISCROLLDELTAY]);ANNPLAYER^MOVE(IPLAYERMOVEX,IPLAYERMOVEY);ANNPOLACOPY^MOVE(IPLAYERMOVEX,IPLAYERMOVEY);}
ANNPLAYER:ONFRAMECHANGED^F={BEHMOVESTART^RUN();@IF("SPLAYEREVENT!'"F"&&SPLAYEREVENT!'"E"","BFITMP33","");}
ANNPLAYER:ONFINISHED={BEHMOVEFINISH^RUN();BEHMOVESTART^RUN();@IF("SPLAYEREVENT","!_",""E"","BFITMP34","");}

OBJECT=ANNEXPLOSION
ANNEXPLOSION:TYPE=ANIMO
ANNEXPLOSION:VISIBLE=FALSE
ANNEXPLOSION:FILENAME=EXPLO.ANN
ANNEXPLOSION:TOCANVAS=TRUE
ANNEXPLOSION:PRIORITY=150
ANNEXPLOSION:FPS=40
ANNEXPLOSION:PRELOAD=TRUE
ANNEXPLOSION:RELEASE=TRUE
ANNEXPLOSION:MONITORCOLLISION=FALSE
ANNEXPLOSION:MONITORCOLLISIONALPHA=FALSE
ANNEXPLOSION:ONFRAMECHANGED^BUM={S1^SET(THIS^GETNAME());I1^SET(*S1^GETCLONEINDEX());IEXPLOX^SET(ARREXPLOX^GET(I1));IEXPLOY^SET(ARREXPLOY^GET(I1));I2^SET(ARRMAPA^GET(IEXPLOX,IEXPLOY));@IF("I2>IWYBUCHAJACE_OD&&I2<IWYBUCHAJACE_DO","BFITMP35","");}
ANNEXPLOSION:ONFINISHED={S1^SET(THIS^GETNAME());I1^SET(*S1^GETCLONEINDEX());GOBJ^REMOVE(S1);*S1^HIDE();BEHEXPLOSIONAFTER^RUN(ARREXPLOX^GET(I1),ARREXPLOY^GET(I1),I1);}

OBJECT=ANNPOLA
ANNPOLA:TYPE=ANIMO
ANNPOLA:VISIBLE=FALSE
ANNPOLA:FILENAME=POLA.ANN
ANNPOLA:TOCANVAS=FALSE
ANNPOLA:PRIORITY=0
ANNPOLA:FPS=16
ANNPOLA:PRELOAD=TRUE
ANNPOLA:RELEASE=TRUE
ANNPOLA:MONITORCOLLISION=FALSE
ANNPOLA:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNPOLACOPY
ANNPOLACOPY:TYPE=ANIMO
ANNPOLACOPY:VISIBLE=FALSE
ANNPOLACOPY:FILENAME=POLA_COPY.ANN
ANNPOLACOPY:TOCANVAS=TRUE
ANNPOLACOPY:PRIORITY=90
ANNPOLACOPY:FPS=16
ANNPOLACOPY:PRELOAD=TRUE
ANNPOLACOPY:RELEASE=TRUE
ANNPOLACOPY:MONITORCOLLISION=FALSE
ANNPOLACOPY:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNSTONE17
ANNSTONE17:TYPE=ANIMO
ANNSTONE17:VISIBLE=TRUE
ANNSTONE17:FILENAME=STONE_TNTO.ANN
ANNSTONE17:TOCANVAS=TRUE
ANNSTONE17:PRIORITY=90
ANNSTONE17:FPS=40
ANNSTONE17:PRELOAD=TRUE
ANNSTONE17:RELEASE=TRUE
ANNSTONE17:MONITORCOLLISION=FALSE
ANNSTONE17:MONITORCOLLISIONALPHA=FALSE
ANNSTONE17:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(17);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE20
ANNSTONE20:TYPE=ANIMO
ANNSTONE20:VISIBLE=TRUE
ANNSTONE20:FILENAME=STONE20.ANN
ANNSTONE20:TOCANVAS=TRUE
ANNSTONE20:PRIORITY=90
ANNSTONE20:FPS=40
ANNSTONE20:PRELOAD=TRUE
ANNSTONE20:RELEASE=TRUE
ANNSTONE20:MONITORCOLLISION=FALSE
ANNSTONE20:MONITORCOLLISIONALPHA=FALSE
ANNSTONE20:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(20);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE21
ANNSTONE21:TYPE=ANIMO
ANNSTONE21:VISIBLE=TRUE
ANNSTONE21:FILENAME=STONE21.ANN
ANNSTONE21:TOCANVAS=TRUE
ANNSTONE21:PRIORITY=90
ANNSTONE21:FPS=40
ANNSTONE21:PRELOAD=TRUE
ANNSTONE21:RELEASE=TRUE
ANNSTONE21:MONITORCOLLISION=FALSE
ANNSTONE21:MONITORCOLLISIONALPHA=FALSE
ANNSTONE21:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(21);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE22
ANNSTONE22:TYPE=ANIMO
ANNSTONE22:VISIBLE=TRUE
ANNSTONE22:FILENAME=STONE22.ANN
ANNSTONE22:TOCANVAS=TRUE
ANNSTONE22:PRIORITY=90
ANNSTONE22:FPS=40
ANNSTONE22:PRELOAD=TRUE
ANNSTONE22:RELEASE=TRUE
ANNSTONE22:MONITORCOLLISION=FALSE
ANNSTONE22:MONITORCOLLISIONALPHA=FALSE
ANNSTONE22:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(22);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE23
ANNSTONE23:TYPE=ANIMO
ANNSTONE23:VISIBLE=TRUE
ANNSTONE23:FILENAME=STONE23.ANN
ANNSTONE23:TOCANVAS=TRUE
ANNSTONE23:PRIORITY=90
ANNSTONE23:FPS=40
ANNSTONE23:PRELOAD=TRUE
ANNSTONE23:RELEASE=TRUE
ANNSTONE23:MONITORCOLLISION=FALSE
ANNSTONE23:MONITORCOLLISIONALPHA=FALSE
ANNSTONE23:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(23);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE24
ANNSTONE24:TYPE=ANIMO
ANNSTONE24:VISIBLE=TRUE
ANNSTONE24:FILENAME=STONE24.ANN
ANNSTONE24:TOCANVAS=TRUE
ANNSTONE24:PRIORITY=90
ANNSTONE24:FPS=40
ANNSTONE24:PRELOAD=TRUE
ANNSTONE24:RELEASE=TRUE
ANNSTONE24:MONITORCOLLISION=FALSE
ANNSTONE24:MONITORCOLLISIONALPHA=FALSE
ANNSTONE24:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(24);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE25
ANNSTONE25:TYPE=ANIMO
ANNSTONE25:VISIBLE=TRUE
ANNSTONE25:FILENAME=STONE25.ANN
ANNSTONE25:TOCANVAS=TRUE
ANNSTONE25:PRIORITY=90
ANNSTONE25:FPS=40
ANNSTONE25:PRELOAD=TRUE
ANNSTONE25:RELEASE=TRUE
ANNSTONE25:MONITORCOLLISION=FALSE
ANNSTONE25:MONITORCOLLISIONALPHA=FALSE
ANNSTONE25:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(25);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE26
ANNSTONE26:TYPE=ANIMO
ANNSTONE26:VISIBLE=TRUE
ANNSTONE26:FILENAME=STONE26.ANN
ANNSTONE26:TOCANVAS=TRUE
ANNSTONE26:PRIORITY=90
ANNSTONE26:FPS=40
ANNSTONE26:PRELOAD=TRUE
ANNSTONE26:RELEASE=TRUE
ANNSTONE26:MONITORCOLLISION=FALSE
ANNSTONE26:MONITORCOLLISIONALPHA=FALSE
ANNSTONE26:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(26);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE27
ANNSTONE27:TYPE=ANIMO
ANNSTONE27:VISIBLE=TRUE
ANNSTONE27:FILENAME=STONE27.ANN
ANNSTONE27:TOCANVAS=TRUE
ANNSTONE27:PRIORITY=90
ANNSTONE27:FPS=40
ANNSTONE27:PRELOAD=TRUE
ANNSTONE27:RELEASE=TRUE
ANNSTONE27:MONITORCOLLISION=FALSE
ANNSTONE27:MONITORCOLLISIONALPHA=FALSE
ANNSTONE27:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(27);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE28
ANNSTONE28:TYPE=ANIMO
ANNSTONE28:VISIBLE=TRUE
ANNSTONE28:FILENAME=STONE28.ANN
ANNSTONE28:TOCANVAS=TRUE
ANNSTONE28:PRIORITY=90
ANNSTONE28:FPS=40
ANNSTONE28:PRELOAD=TRUE
ANNSTONE28:RELEASE=TRUE
ANNSTONE28:MONITORCOLLISION=FALSE
ANNSTONE28:MONITORCOLLISIONALPHA=FALSE
ANNSTONE28:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(28);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE29
ANNSTONE29:TYPE=ANIMO
ANNSTONE29:VISIBLE=TRUE
ANNSTONE29:FILENAME=STONE29.ANN
ANNSTONE29:TOCANVAS=TRUE
ANNSTONE29:PRIORITY=90
ANNSTONE29:FPS=40
ANNSTONE29:PRELOAD=TRUE
ANNSTONE29:RELEASE=TRUE
ANNSTONE29:MONITORCOLLISION=FALSE
ANNSTONE29:MONITORCOLLISIONALPHA=FALSE
ANNSTONE29:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(29);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE30
ANNSTONE30:TYPE=ANIMO
ANNSTONE30:VISIBLE=TRUE
ANNSTONE30:FILENAME=STONE30.ANN
ANNSTONE30:TOCANVAS=TRUE
ANNSTONE30:PRIORITY=90
ANNSTONE30:FPS=40
ANNSTONE30:PRELOAD=TRUE
ANNSTONE30:RELEASE=TRUE
ANNSTONE30:MONITORCOLLISION=FALSE
ANNSTONE30:MONITORCOLLISIONALPHA=FALSE
ANNSTONE30:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(30);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE31
ANNSTONE31:TYPE=ANIMO
ANNSTONE31:VISIBLE=TRUE
ANNSTONE31:FILENAME=STONE31.ANN
ANNSTONE31:TOCANVAS=TRUE
ANNSTONE31:PRIORITY=90
ANNSTONE31:FPS=40
ANNSTONE31:PRELOAD=TRUE
ANNSTONE31:RELEASE=TRUE
ANNSTONE31:MONITORCOLLISION=FALSE
ANNSTONE31:MONITORCOLLISIONALPHA=FALSE
ANNSTONE31:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(31);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE32
ANNSTONE32:TYPE=ANIMO
ANNSTONE32:VISIBLE=TRUE
ANNSTONE32:FILENAME=STONE32.ANN
ANNSTONE32:TOCANVAS=TRUE
ANNSTONE32:PRIORITY=90
ANNSTONE32:FPS=40
ANNSTONE32:PRELOAD=TRUE
ANNSTONE32:RELEASE=TRUE
ANNSTONE32:MONITORCOLLISION=FALSE
ANNSTONE32:MONITORCOLLISIONALPHA=FALSE
ANNSTONE32:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(32);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE33
ANNSTONE33:TYPE=ANIMO
ANNSTONE33:VISIBLE=TRUE
ANNSTONE33:FILENAME=STONE33.ANN
ANNSTONE33:TOCANVAS=TRUE
ANNSTONE33:PRIORITY=90
ANNSTONE33:FPS=40
ANNSTONE33:PRELOAD=TRUE
ANNSTONE33:RELEASE=TRUE
ANNSTONE33:MONITORCOLLISION=FALSE
ANNSTONE33:MONITORCOLLISIONALPHA=FALSE
ANNSTONE33:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(33);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE34
ANNSTONE34:TYPE=ANIMO
ANNSTONE34:VISIBLE=TRUE
ANNSTONE34:FILENAME=STONE34.ANN
ANNSTONE34:TOCANVAS=TRUE
ANNSTONE34:PRIORITY=90
ANNSTONE34:FPS=40
ANNSTONE34:PRELOAD=TRUE
ANNSTONE34:RELEASE=TRUE
ANNSTONE34:MONITORCOLLISION=FALSE
ANNSTONE34:MONITORCOLLISIONALPHA=FALSE
ANNSTONE34:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(34);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE35
ANNSTONE35:TYPE=ANIMO
ANNSTONE35:VISIBLE=TRUE
ANNSTONE35:FILENAME=STONE35.ANN
ANNSTONE35:TOCANVAS=TRUE
ANNSTONE35:PRIORITY=90
ANNSTONE35:FPS=40
ANNSTONE35:PRELOAD=TRUE
ANNSTONE35:RELEASE=TRUE
ANNSTONE35:MONITORCOLLISION=FALSE
ANNSTONE35:MONITORCOLLISIONALPHA=FALSE
ANNSTONE35:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(35);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE36
ANNSTONE36:TYPE=ANIMO
ANNSTONE36:VISIBLE=TRUE
ANNSTONE36:FILENAME=STONE36.ANN
ANNSTONE36:TOCANVAS=TRUE
ANNSTONE36:PRIORITY=90
ANNSTONE36:FPS=40
ANNSTONE36:PRELOAD=TRUE
ANNSTONE36:RELEASE=TRUE
ANNSTONE36:MONITORCOLLISION=FALSE
ANNSTONE36:MONITORCOLLISIONALPHA=FALSE
ANNSTONE36:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(36);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE37
ANNSTONE37:TYPE=ANIMO
ANNSTONE37:VISIBLE=TRUE
ANNSTONE37:FILENAME=STONE37.ANN
ANNSTONE37:TOCANVAS=TRUE
ANNSTONE37:PRIORITY=90
ANNSTONE37:FPS=40
ANNSTONE37:PRELOAD=TRUE
ANNSTONE37:RELEASE=TRUE
ANNSTONE37:MONITORCOLLISION=FALSE
ANNSTONE37:MONITORCOLLISIONALPHA=FALSE
ANNSTONE37:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(37);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE38
ANNSTONE38:TYPE=ANIMO
ANNSTONE38:VISIBLE=TRUE
ANNSTONE38:FILENAME=STONE38.ANN
ANNSTONE38:TOCANVAS=TRUE
ANNSTONE38:PRIORITY=90
ANNSTONE38:FPS=40
ANNSTONE38:PRELOAD=TRUE
ANNSTONE38:RELEASE=TRUE
ANNSTONE38:MONITORCOLLISION=FALSE
ANNSTONE38:MONITORCOLLISIONALPHA=FALSE
ANNSTONE38:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(38);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE39
ANNSTONE39:TYPE=ANIMO
ANNSTONE39:VISIBLE=TRUE
ANNSTONE39:FILENAME=STONE39.ANN
ANNSTONE39:TOCANVAS=TRUE
ANNSTONE39:PRIORITY=90
ANNSTONE39:FPS=40
ANNSTONE39:PRELOAD=TRUE
ANNSTONE39:RELEASE=TRUE
ANNSTONE39:MONITORCOLLISION=FALSE
ANNSTONE39:MONITORCOLLISIONALPHA=FALSE
ANNSTONE39:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(39);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE40
ANNSTONE40:TYPE=ANIMO
ANNSTONE40:VISIBLE=TRUE
ANNSTONE40:FILENAME=STONE40.ANN
ANNSTONE40:TOCANVAS=TRUE
ANNSTONE40:PRIORITY=90
ANNSTONE40:FPS=40
ANNSTONE40:PRELOAD=TRUE
ANNSTONE40:RELEASE=TRUE
ANNSTONE40:MONITORCOLLISION=FALSE
ANNSTONE40:MONITORCOLLISIONALPHA=FALSE
ANNSTONE40:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(40);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE41
ANNSTONE41:TYPE=ANIMO
ANNSTONE41:VISIBLE=TRUE
ANNSTONE41:FILENAME=STONE41.ANN
ANNSTONE41:TOCANVAS=TRUE
ANNSTONE41:PRIORITY=90
ANNSTONE41:FPS=40
ANNSTONE41:PRELOAD=TRUE
ANNSTONE41:RELEASE=TRUE
ANNSTONE41:MONITORCOLLISION=FALSE
ANNSTONE41:MONITORCOLLISIONALPHA=FALSE
ANNSTONE41:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(41);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE42
ANNSTONE42:TYPE=ANIMO
ANNSTONE42:VISIBLE=TRUE
ANNSTONE42:FILENAME=STONE42.ANN
ANNSTONE42:TOCANVAS=TRUE
ANNSTONE42:PRIORITY=90
ANNSTONE42:FPS=40
ANNSTONE42:PRELOAD=TRUE
ANNSTONE42:RELEASE=TRUE
ANNSTONE42:MONITORCOLLISION=FALSE
ANNSTONE42:MONITORCOLLISIONALPHA=FALSE
ANNSTONE42:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(42);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNSTONE70
ANNSTONE70:TYPE=ANIMO
ANNSTONE70:VISIBLE=TRUE
ANNSTONE70:FILENAME=STONE_INFO70.ANN
ANNSTONE70:TOCANVAS=TRUE
ANNSTONE70:PRIORITY=90
ANNSTONE70:FPS=40
ANNSTONE70:PRELOAD=TRUE
ANNSTONE70:RELEASE=TRUE
ANNSTONE70:MONITORCOLLISION=FALSE
ANNSTONE70:MONITORCOLLISIONALPHA=FALSE
ANNSTONE70:ONFINISHED={SSPADANAME^SET(THIS^GETNAME());S2^SET(*SSPADANAME^GETEVENTNAME());ISPADAID^SET(70);ISPADX^SET(*SSPADANAME^GETCENTERX());ISPADY^SET(*SSPADANAME^GETCENTERY());ISPADX^ADD(IBKGSTARTX);ISPADY^ADD(IBKGSTARTY);ISPADX^DIV(IGRID);ISPADY^DIV(IGRID);*["BEHSPADANIECONTINUE"+S2]^RUN();}

OBJECT=ANNRUNNERTNTPUT
ANNRUNNERTNTPUT:TYPE=ANIMO
ANNRUNNERTNTPUT:VISIBLE=TRUE
ANNRUNNERTNTPUT:FILENAME=RUNNER_TNT_PUT.ANN
ANNRUNNERTNTPUT:TOCANVAS=TRUE
ANNRUNNERTNTPUT:PRIORITY=0
ANNRUNNERTNTPUT:FPS=16
ANNRUNNERTNTPUT:PRELOAD=TRUE
ANNRUNNERTNTPUT:RELEASE=TRUE
ANNRUNNERTNTPUT:MONITORCOLLISION=FALSE
ANNRUNNERTNTPUT:MONITORCOLLISIONALPHA=FALSE
ANNRUNNERTNTPUT:ONFINISHED={ITNTSGATHERED^DEC();ITNTRX^SET(IPLAYERPOSX);ITNTRY^SET(IPLAYERPOSY);I1^SET([IPLAYERPOSX*IGRID]);I2^SET([IPLAYERPOSY*IGRID]);I1^SUB(IBKGSTARTX);I2^SUB(IBKGSTARTY);GOBJ^ADD("ANNTNTR");ANNTNTR^SETPOSITION(I1,I2);ANNTNTR^PLAY("IDLE");ANNRUNNERTNTEXP^PLAY("RUN");}

OBJECT=ANNRUNNERTNTEXP
ANNRUNNERTNTEXP:TYPE=ANIMO
ANNRUNNERTNTEXP:VISIBLE=TRUE
ANNRUNNERTNTEXP:FILENAME=RUNNER_TNT_EXP.ANN
ANNRUNNERTNTEXP:TOCANVAS=TRUE
ANNRUNNERTNTEXP:PRIORITY=0
ANNRUNNERTNTEXP:FPS=16
ANNRUNNERTNTEXP:PRELOAD=TRUE
ANNRUNNERTNTEXP:RELEASE=TRUE
ANNRUNNERTNTEXP:MONITORCOLLISION=FALSE
ANNRUNNERTNTEXP:MONITORCOLLISIONALPHA=FALSE
ANNRUNNERTNTEXP:ONFINISHED={SFX_WYKOP_LONT^STOP(FALSE);GOBJ^REMOVE("ANNTNTR");ANNTNTR^STOP(FALSE);ANNTNTR^HIDE();IEXPLOX^SET(ITNTRX);IEXPLOY^SET(ITNTRY);BEHEXPLOSION^RUN();}

OBJECT=ANNTNTR
ANNTNTR:TYPE=ANIMO
ANNTNTR:VISIBLE=FALSE
ANNTNTR:FILENAME=TNTR.ANN
ANNTNTR:TOCANVAS=TRUE
ANNTNTR:PRIORITY=90
ANNTNTR:FPS=16
ANNTNTR:PRELOAD=TRUE
ANNTNTR:RELEASE=TRUE
ANNTNTR:MONITORCOLLISION=FALSE
ANNTNTR:MONITORCOLLISIONALPHA=FALSE
ANNTNTR:ONFINISHED^IDLE={ANNTNTR^PLAY("PULSUJE");}

OBJECT=ANNPANELBKG
ANNPANELBKG:TYPE=ANIMO
ANNPANELBKG:VISIBLE=TRUE
ANNPANELBKG:FILENAME=PANEL_BKG.ANN
ANNPANELBKG:TOCANVAS=TRUE
ANNPANELBKG:PRIORITY=490
ANNPANELBKG:FPS=16
ANNPANELBKG:PRELOAD=TRUE
ANNPANELBKG:RELEASE=TRUE
ANNPANELBKG:MONITORCOLLISION=FALSE
ANNPANELBKG:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNDYNAMITYLICZNIK
ANNDYNAMITYLICZNIK:TYPE=ANIMO
ANNDYNAMITYLICZNIK:VISIBLE=TRUE
ANNDYNAMITYLICZNIK:FILENAME=PANEL_LICZBY.ANN
ANNDYNAMITYLICZNIK:TOCANVAS=TRUE
ANNDYNAMITYLICZNIK:PRIORITY=500
ANNDYNAMITYLICZNIK:FPS=16
ANNDYNAMITYLICZNIK:PRELOAD=TRUE
ANNDYNAMITYLICZNIK:RELEASE=TRUE
ANNDYNAMITYLICZNIK:MONITORCOLLISION=FALSE
ANNDYNAMITYLICZNIK:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNBTNRESTART
ANNBTNRESTART:TYPE=ANIMO
ANNBTNRESTART:VISIBLE=TRUE
ANNBTNRESTART:FILENAME=B_RESTART.ANN
ANNBTNRESTART:TOCANVAS=TRUE
ANNBTNRESTART:PRIORITY=200
ANNBTNRESTART:FPS=16
ANNBTNRESTART:PRELOAD=TRUE
ANNBTNRESTART:RELEASE=TRUE
ANNBTNRESTART:MONITORCOLLISION=FALSE
ANNBTNRESTART:MONITORCOLLISIONALPHA=FALSE

OBJECT=BTNRESTART
BTNRESTART:TYPE=BUTTON
BTNRESTART:VISIBLE=TRUE
BTNRESTART:ENABLE=TRUE
BTNRESTART:DRAGGABLE=FALSE
BTNRESTART:GFXSTANDARD=ANNBTNRESTART
BTNRESTART:ONCLICKED={PPMENU^OPCJE_DISABLE_BV();BTNRESTART^DISABLEBUTVISIBLE();KEYBOARD^DISABLE();BDUSA^PAUSE();BEHSEQPLAY^RUN("SEQGADA","RESTART",11);SFXMENUCLICK^PLAY();}
BTNRESTART:ONFOCUSON={ANNBTNRESTART^NEXTFRAME();BEHSEQPLAY^RUN("SEQGADA","RESTART_FOCUS",5);SFXMENUON^PLAY();}
BTNRESTART:ONFOCUSOFF={ANNBTNRESTART^PREVFRAME();}

OBJECT=SEQGADA
SEQGADA:TYPE=SEQUENCE
SEQGADA:FILENAME=SEGADA.SEQ
SEQGADA:ONFINISHED={ISEQPRIORITY^SET(-1);}
SEQGADA:ONFINISHED^RESTART={ISEQPRIORITY^SET(100);BDUSA^RESUME();KEYBOARD^ENABLE();PPMENU^OPCJE_ENABLE();BEHGOTOSCENE^RUN();}
SEQGADA:ONFINISHED^KILLED_W_WYBUCHU={ISEQPRIORITY^SET(100);KEYBOARD^ENABLE();PPMENU^OPCJE_ENABLE();BEHGOTOSCENE^RUN();}
SEQGADA:ONFINISHED^KILLED_KAMIENIEM={ISEQPRIORITY^SET(100);KEYBOARD^ENABLE();PPMENU^OPCJE_ENABLE();BEHGOTOSCENE^RUN();}
SEQGADA:ONFINISHED^KONIEC={ISEQPRIORITY^SET(100);BDUSA^RESUME();KEYBOARD^ENABLE();PPMENU^OPCJE_ENABLE();BEHGOTOSCENE^RUN();}
SEQGADA:ONFINISHED^KRETES_KILLED={ISEQPRIORITY^SET(100);KEYBOARD^ENABLE();PPMENU^OPCJE_ENABLE();BEHGOTOSCENE^RUN();}
SEQGADA:ONFINISHED^KRETES_ZLAPANY={ISEQPRIORITY^SET(100);KEYBOARD^ENABLE();PPMENU^OPCJE_ENABLE();BEHGOTOSCENE^RUN();}

OBJECT=GOBJ
GOBJ:TYPE=GROUP

OBJECT=SFX_WYKOP_EXP
SFX_WYKOP_EXP:TYPE=SOUND
SFX_WYKOP_EXP:FILENAME=SFX_WYKOP_EXP.WAV
SFX_WYKOP_EXP:PRELOAD=TRUE
SFX_WYKOP_EXP:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_WYKOP_GLAZ
SFX_WYKOP_GLAZ:TYPE=SOUND
SFX_WYKOP_GLAZ:FILENAME=SFX_WYKOP_GLAZ.WAV
SFX_WYKOP_GLAZ:PRELOAD=TRUE
SFX_WYKOP_GLAZ:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_WYKOP_KOPIE
SFX_WYKOP_KOPIE:TYPE=SOUND
SFX_WYKOP_KOPIE:FILENAME=SFX_WYKOP_KOPIE.WAV
SFX_WYKOP_KOPIE:PRELOAD=TRUE
SFX_WYKOP_KOPIE:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_WYKOP_KROK
SFX_WYKOP_KROK:TYPE=SOUND
SFX_WYKOP_KROK:FILENAME=SFX_WYKOP_KROK.WAV
SFX_WYKOP_KROK:PRELOAD=TRUE
SFX_WYKOP_KROK:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_WYKOP_LONT
SFX_WYKOP_LONT:TYPE=SOUND
SFX_WYKOP_LONT:FILENAME=SFX_WYKOP_LONT.WAV
SFX_WYKOP_LONT:PRELOAD=TRUE
SFX_WYKOP_LONT:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_FORT_WAGON
SFX_FORT_WAGON:TYPE=SOUND
SFX_FORT_WAGON:FILENAME=SFX_FORT_WAGON.WAV
SFX_FORT_WAGON:PRELOAD=TRUE
SFX_FORT_WAGON:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_THING
SFX_THING:TYPE=SOUND
SFX_THING:FILENAME=SFX_THING.WAV
SFX_THING:PRELOAD=TRUE
SFX_THING:FLUSHAFTERPLAYED=FALSE

OBJECT=ARRKEYS
ARRKEYS:TYPE=ARRAY

OBJECT=ARRCLONES
ARRCLONES:TYPE=ARRAY

OBJECT=ARRWYRAZY
ARRWYRAZY:TYPE=ARRAY

OBJECT=ARREXPLOX
ARREXPLOX:TYPE=ARRAY

OBJECT=ARREXPLOY
ARREXPLOY:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=STLEVEL
STLEVEL:TYPE=STRUCT
STLEVEL:FIELDS=S0<STRING>

OBJECT=DBLEVEL
DBLEVEL:TYPE=DATABASE
DBLEVEL:MODEL=STLEVEL

OBJECT=CLSBDENEMYOBJ
CLSBDENEMYOBJ:TYPE=CLASS
CLSBDENEMYOBJ:DEF=CLSBDENEMY.CLASS
CLSBDENEMYOBJ:BASE=

OBJECT=ARRMAPA
ARRMAPA:TYPE=MULTIARRAY
ARRMAPA:DIMENSIONS=2

OBJECT=ARRENEMY
ARRENEMY:TYPE=MULTIARRAY
ARRENEMY:DIMENSIONS=2

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD
KEYBOARD:ONKEYDOWN^UP={@IF(ARRKEYS^GETSIZE(),"<","IKEYBBUFF","BFITMP36","");IKEYSCOUNT^INC();}
KEYBOARD:ONKEYDOWN^DOWN={@IF(ARRKEYS^GETSIZE(),"<","IKEYBBUFF","BFITMP37","");IKEYSCOUNT^INC();}
KEYBOARD:ONKEYDOWN^LEFT={@IF(ARRKEYS^GETSIZE(),"<","IKEYBBUFF","BFITMP38","");IKEYSCOUNT^INC();}
KEYBOARD:ONKEYDOWN^RIGHT={@IF(ARRKEYS^GETSIZE(),"<","IKEYBBUFF","BFITMP39","");IKEYSCOUNT^INC();}
KEYBOARD:ONKEYDOWN^SPACE={@IF("ITNTSGATHERED>0&&ANNRUNNERTNTEXP^ISPLAYING()'FALSE","BFITMP40","");}
KEYBOARD:ONKEYUP^UP={IKEYSCOUNT^DEC();IKEYSCOUNT^CLAMP(0,100);IKEYSONELEFT^SET(IKEYSCOUNT);}
KEYBOARD:ONKEYUP^DOWN={IKEYSCOUNT^DEC();IKEYSCOUNT^CLAMP(0,100);IKEYSONELEFT^SET(IKEYSCOUNT);}
KEYBOARD:ONKEYUP^LEFT={IKEYSCOUNT^DEC();IKEYSCOUNT^CLAMP(0,100);IKEYSONELEFT^SET(IKEYSCOUNT);}
KEYBOARD:ONKEYUP^RIGHT={IKEYSCOUNT^DEC();IKEYSCOUNT^CLAMP(0,100);IKEYSONELEFT^SET(IKEYSCOUNT);}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={ANNKEYBMOUSEHELP^PLAY("LPGD_SP");BEHMUSICSET^RUN("WIEZA");BEHAMBIENTSNDPLAY^RUN("SFX_JOHNES_CAGE");KEYBOARD^SETAUTOREPEAT(FALSE);IBDLEVEL^SET(1);BEHINITLEVEL^RUN(IBDLEVEL);ARRCLONES^REMOVEALL();@LOOP("{ARRCLONES^ADD(0);}",0,150,1);@LOOP("{CANVASOBSERVER^REMOVE(["ANNSTONE"+_I_]);}",0,150,1);ARREXPLOX^REMOVEALL();ARREXPLOY^REMOVEALL();ARREXPLOX^ADD(-1);ARREXPLOY^ADD(-1);ARRKEYS^REMOVEALL();ARRKEYS^ADD("F");SPLAYEREVENT^SET("F");ANNPLAYER^PLAY("F");KEYBOARD^ENABLE();@IF(GSAVE^GET("BDUSA_STATUS"),"_",""NIEODWIEDZONY"","BFITMP41","");}


OBJECT=BEHINITLEVEL
BEHINITLEVEL:TYPE=BEHAVIOUR
BEHINITLEVEL:CODE={ANNPOLA^HIDE();ANNPOLACOPY^HIDE();DBLEVEL^REMOVEALL();DBLEVEL^LOAD(["LEV"+IBDLEVEL+"_"+SGAMEDIFFICULTY+".FLD"]);DBLEVEL^SELECT(0);STLEVEL^SET("DBLEVEL_CURSOR");S1^SET(STLEVEL^GETFIELD(0));ISIZEX^SET(S1^GET(0,3));ISIZEY^SET(S1^GET(4,3));DBLEVEL^NEXT();STLEVEL^SET("DBLEVEL_CURSOR");S1^SET(STLEVEL^GETFIELD(0));IPLAYERPOSX^SET(S1^GET(0,3));IPLAYERPOSY^SET(S1^GET(4,3));DBLEVEL^NEXT();I1^SET(0);@WHILE("I1","<","ISIZEY","{STLEVEL^SET("DBLEVEL_CURSOR");S1^SET(STLEVEL^GETFIELD(0));@LOOP("{I2^SET(S1^GET([_I_*4],3));ARRMAPA^SET(_I_,I1,I2);}",0,ISIZEX,1);DBLEVEL^NEXT();I1^INC();}");ICENTERX^SET(6);ICENTERY^SET(5);ISCROLLMAXX^SET([[ISIZEX*IGRID]-[14*IGRID]]);ISCROLLMAXY^SET([[ISIZEY*IGRID]-[10*IGRID]]);IBKGSTARTX^SET([[IPLAYERPOSX-ICENTERX]*IGRID]);IBKGSTARTY^SET([[IPLAYERPOSY-ICENTERY]*IGRID]);IBKGSTARTX^CLAMP(0,ISCROLLMAXX);IBKGSTARTY^CLAMP(0,ISCROLLMAXY);ISCREENPOSX^SET([[IPLAYERPOSX-ICENTERX]*IGRID]);ISCREENPOSY^SET([[IPLAYERPOSY-ICENTERY]*IGRID]);ISLOWNIKSELECTOR^SET(IBDLEVEL);I1^SET(0);I2^SET(0);@WHILE("I1","<","ISIZEY","{@LOOP("{I3^SET(ARRMAPA^GET(_I_,I1));@IF("I3","_","5","BFITMP42","");@IF("I3>IINFO_OD&&I3<IINFO_DO","BFITMP43","");}",0,ISIZEX,1);I1^INC();}");ANNPLAYER^SETFPS(40);I1^SET([IPLAYERPOSX*IGRID]);I2^SET([IPLAYERPOSY*IGRID]);ANNPLAYER^SETPOSITION(I1,I2);CANVASOBSERVER^MOVEBKG(IBKGSTARTX,IBKGSTARTY);GOBJ^MOVE([0-IBKGSTARTX],[0-IBKGSTARTY]);ANNPLAYER^MOVE([0-IBKGSTARTX],[0-IBKGSTARTY]);IMGMASKCUT^MOVE([0-IBKGSTARTX],[0-IBKGSTARTY]);BEHINITBKG^RUN();}


OBJECT=BEHINITBKG
BEHINITBKG:TYPE=BEHAVIOUR
BEHINITBKG:CODE={I1^SET(0);@WHILE("I1","<","ISIZEX","{@LOOP("{ANNPOLA^SETFRAME("EMPTY",0);CANVASOBSERVER^PASTE("ANNPOLA",[I1*IGRID],[_I_*IGRID]);IPOLESEL^SET(ARRMAPA^GET(I1,_I_));I2^SET(RANDOM^GET(ANNPOLA^GETNOFINEVENT(SPOLE)));ANNPOLA^SETFRAME(SPOLE,I2);CANVASOBSERVER^PASTE("ANNPOLA",[I1*IGRID],[_I_*IGRID]);}",0,ISIZEY,1);I1^INC();}");}


OBJECT=____________________
____________________:TYPE=BEHAVIOUR
____________________:CODE={}


OBJECT=BEHSEQPLAY
BEHSEQPLAY:TYPE=BEHAVIOUR
BEHSEQPLAY:CODE={@STRING("STMPSEQNAME",$1);@STRING("STMPSEQEVENT",$2);@INT("ITMPSEQPRIORITY",$3);@IF("STMPSEQNAME!'SSEQNAME||SSEQEVENT!'STMPSEQEVENT","BFITMP45","");}


OBJECT=BEHSEQPLAYNOINTERRTSPRIOR
BEHSEQPLAYNOINTERRTSPRIOR:TYPE=BEHAVIOUR
BEHSEQPLAYNOINTERRTSPRIOR:CODE={@STRING("STMPSEQNAME",$1);@STRING("STMPSEQEVENT",$2);@INT("ITMPSEQPRIORITY",$3);@IF("STMPSEQNAME!'SSEQNAME||SSEQEVENT!'STMPSEQEVENT","BFITMP47","");}


OBJECT=BEHSEQSTOP
BEHSEQSTOP:TYPE=BEHAVIOUR
BEHSEQSTOP:CODE={@STRING("STMPSEQNAME",$1);@STRING("STMPSEQSIGNAL",$2);@IF("STMPSEQSIGNAL","_","TRUE","BFITMP48","BFITMP49");ISEQPRIORITY^SET(-1);}


OBJECT=BEHPLAYRANDSFX
BEHPLAYRANDSFX:TYPE=BEHAVIOUR
BEHPLAYRANDSFX:CODE={}


OBJECT=____________________
____________________:TYPE=BEHAVIOUR
____________________:CODE={}


OBJECT=BEHPLAYERDEAD
BEHPLAYERDEAD:TYPE=BEHAVIOUR
BEHPLAYERDEAD:CODE={SPLAYERDIR^SET("E");KEYBOARD^DISABLE();BTNRESTART^DISABLEBUTVISIBLE();PPMENU^OPCJE_DISABLE_BV();@IF("BKILLEDBYKONKWISTADOR","_","TRUE","BFITMP100","BFITMP101");}


OBJECT=BEHMOVESTART
BEHMOVESTART:TYPE=BEHAVIOUR
BEHMOVESTART:CODE={@IF(ARRKEYS^GETSIZE(),">","1","BFITMP50","");SPLAYERDIR^SET(ARRKEYS^GET(0));SPLAYEREVENT^SET(SPLAYERDIR);ARRMAPA^SET([IPLAYERPOSX+ILASTDIRX],[IPLAYERPOSY+ILASTDIRY],IPLAYER);}


OBJECT=BEHMOVEFINISH
BEHMOVEFINISH:TYPE=BEHAVIOUR
BEHMOVEFINISH:CODE={ISCREENPOSX^ADD([ILASTDIRX*IGRID]);ISCREENPOSY^ADD([ILASTDIRY*IGRID]);ARRMAPA^SET(IPLAYERPOSX,IPLAYERPOSY,IEMPTY);ISPADX^SET(IPLAYERPOSX);ISPADY^SET(IPLAYERPOSY);SSPADANAME^SET(NULL);SSPADANIESELECTOR^SET(SPLAYEREVENT);IPLAYERLASTPOSX^SET(IPLAYERPOSX);IPLAYERLASTPOSY^SET(IPLAYERPOSY);IPLAYERPOSX^ADD(ILASTDIRX);IPLAYERPOSY^ADD(ILASTDIRY);I1^SET([IPLAYERPOSX*IGRID]);I2^SET([IPLAYERPOSY*IGRID]);ANNPOLA^SETFRAME("EMPTY",0);CANVASOBSERVER^PASTE("ANNPOLA",I1,I2);CANVASOBSERVER^REFRESH();@IF("IPCHANY",">","-1","BFITMP53","");ARRMAPA^SET(IPLAYERPOSX,IPLAYERPOSY,IPLAYER);}


OBJECT=BEHONSTARTMOVE
BEHONSTARTMOVE:TYPE=BEHAVIOUR
BEHONSTARTMOVE:CODE={@IF("SPLAYERDIR!'"E"&&SPLAYERDIR!'"F"","BFITMP56","");}


OBJECT=BEHPLAYERDEAD
BEHPLAYERDEAD:TYPE=BEHAVIOUR
BEHPLAYERDEAD:CODE={SPLAYERDIR^SET("E");KEYBOARD^DISABLE();BTNRESTART^DISABLEBUTVISIBLE();PPMENU^OPCJE_DISABLE_BV();@IF("BKILLEDBYSTONE","_","TRUE","BFITMP57","BFITMP58");}


OBJECT=____________________
____________________:TYPE=BEHAVIOUR
____________________:CODE={}


OBJECT=BEHSPADANIED
BEHSPADANIED:TYPE=BEHAVIOUR
BEHSPADANIED:CODE={I1^SET($1);I2^SET($2);BSPADA^SET(FALSE);I5^SET(ARRMAPA^GET(I1,I2));@IF("I5>ISPADAJACE_OD&&I5<ISPADAJACE_DO","BFITMP61","");}


OBJECT=BEHSPADANIEL
BEHSPADANIEL:TYPE=BEHAVIOUR
BEHSPADANIEL:CODE={I1^SET($1);I2^SET($2);BSPADA^SET(FALSE);I5^SET(ARRMAPA^GET(I1,I2));@IF("I5>ISPADAJACEDLP_OD&&I5<ISPADAJACE_DO","BFITMP65","");}


OBJECT=BEHSPADANIER
BEHSPADANIER:TYPE=BEHAVIOUR
BEHSPADANIER:CODE={I1^SET($1);I2^SET($2);BSPADA^SET(FALSE);I5^SET(ARRMAPA^GET(I1,I2));@IF("I5>ISPADAJACEDLP_OD&&I5<ISPADAJACE_DO","BFITMP69","");}


OBJECT=BEHSPADANIECONTINUED
BEHSPADANIECONTINUED:TYPE=BEHAVIOUR
BEHSPADANIECONTINUED:CODE={ARRMAPA^SET(ISPADX,ISPADY,ISPADAID);SSPADANAMEREM^SET(SSPADANAME);ISPADREMX^SET(ISPADX);ISPADREMY^SET(ISPADY);SSPADANAME^SET(NULL);ISPADX^SET(ISPADX);ISPADY^SET([ISPADY-1]);ARRMAPA^SET(ISPADX,ISPADY,IEMPTY);SSPADANIESELECTOR^SET("D");BSPADA^SET(FALSE);SSPADANAME^SET(SSPADANAMEREM);ISPADX^SET(ISPADX);ISPADY^SET([ISPADY+2]);ICOLLISIONSELECTORSTONE^SET(ARRMAPA^GET(ISPADX,ISPADY));SSPADANIESELECTOR^SET("D");@IF("BSPADA","_","FALSE","BFITMP71","");@IF("BSPADA","_","FALSE","BFITMP74","");SSPADANAME^SET(NULL);}


OBJECT=BEHSPADANIECONTINUEL
BEHSPADANIECONTINUEL:TYPE=BEHAVIOUR
BEHSPADANIECONTINUEL:CODE={ARRMAPA^SET(ISPADX,ISPADY,ISPADAID);SSPADANAMEREM^SET(SSPADANAME);ISPADREMX^SET(ISPADX);ISPADREMY^SET(ISPADY);SSPADANAME^SET(NULL);ISPADX^SET([ISPADX+1]);ISPADY^SET([ISPADY-1]);ARRMAPA^SET(ISPADX,ISPADY,IEMPTY);SSPADANIESELECTOR^SET("D");ISPADX^SET([ISPADX-1]);ISPADY^SET(ISPADY);ARRMAPA^SET(ISPADX,ISPADY,IEMPTY);SSPADANIESELECTOR^SET("D");BSPADA^SET(FALSE);SSPADANAME^SET(SSPADANAMEREM);ISPADX^SET(ISPADX);ISPADY^SET([ISPADY+2]);ICOLLISIONSELECTORSTONE^SET(ARRMAPA^GET(ISPADX,ISPADY));SSPADANIESELECTOR^SET("D");@IF("BSPADA","_","FALSE","BFITMP76","");@IF("BSPADA","_","FALSE","BFITMP77","");SSPADANAME^SET(NULL);}


OBJECT=BEHSPADANIECONTINUER
BEHSPADANIECONTINUER:TYPE=BEHAVIOUR
BEHSPADANIECONTINUER:CODE={ARRMAPA^SET(ISPADX,ISPADY,ISPADAID);SSPADANAMEREM^SET(SSPADANAME);ISPADREMX^SET(ISPADX);ISPADREMY^SET(ISPADY);SSPADANAME^SET(NULL);ISPADX^SET([ISPADX-1]);ISPADY^SET([ISPADY-1]);ARRMAPA^SET(ISPADX,ISPADY,IEMPTY);SSPADANIESELECTOR^SET("D");ISPADX^SET([ISPADX+1]);ISPADY^SET(ISPADY);ARRMAPA^SET(ISPADX,ISPADY,IEMPTY);SSPADANIESELECTOR^SET("D");BSPADA^SET(FALSE);SSPADANAME^SET(SSPADANAMEREM);ISPADX^SET(ISPADX);ISPADY^SET([ISPADY+2]);ICOLLISIONSELECTORSTONE^SET(ARRMAPA^GET(ISPADX,ISPADY));SSPADANIESELECTOR^SET("D");@IF("BSPADA","_","FALSE","BFITMP79","");@IF("BSPADA","_","FALSE","BFITMP80","");SSPADANAME^SET(NULL);}


OBJECT=____________________
____________________:TYPE=BEHAVIOUR
____________________:CODE={}


OBJECT=BEHPUSH
BEHPUSH:TYPE=BEHAVIOUR
BEHPUSH:CODE={I2^SET([IPLAYERPOSX+[2*ILASTDIRX]]);I3^SET([IPLAYERPOSY+[2*ILASTDIRY]]);I1^SET(ARRMAPA^GET(I2,I3));@IF("I1","_","IEMPTY","BFITMP81","BFITMP82");}


OBJECT=BEHWYRAZ
BEHWYRAZ:TYPE=BEHAVIOUR
BEHWYRAZ:CODE={I1^SET($1);I2^SET($2);I1^DEC();B1^SET(TRUE);@WHILE("B1","_","TRUE","{I3^SET(ARRMAPA^GET(I1,I2));@IF("I3>ISTONES_OD&&I3<ISTONES_DO","BFITMP83","BFITMP84");}");I1^INC();ILITERKAFIRST^SET(I1);SWYRAZ^SET("");B1^SET(TRUE);@WHILE("B1","_","TRUE","{ILITERKA^SET(ARRMAPA^GET(I1,I2));@IF("ILITERKA>ISTONES_OD&&ILITERKA<ISTONES_DO","BFITMP85","BFITMP86");}");I1^DEC();B1^SET(FALSE);I5^SET(0);@WHILE("I5","<",ARRWYRAZY^GETSIZE(),"{S1^SET(ARRWYRAZY^GET(I5));I3^SET(SWYRAZ^FIND(S1));@IF("I3",">","-1","BFITMP88","BFITMP89");I5^INC();}");@IF("B1","_","TRUE","BFITMP90","");}


OBJECT=____________________
____________________:TYPE=BEHAVIOUR
____________________:CODE={}


OBJECT=BEHEXPLOSION
BEHEXPLOSION:TYPE=BEHAVIOUR
BEHEXPLOSION:CODE={SFX_WYKOP_EXP^PLAY();BTABLICADESTROYED^SET(FALSE);BEHEXPLOSIONCENTER^RUN(IEXPLOX,IEXPLOY);BEHEXPLOSIONSINGLE^RUN([IEXPLOX-1],[IEXPLOY-1]);BEHEXPLOSIONSINGLE^RUN(IEXPLOX,[IEXPLOY-1]);BEHEXPLOSIONSINGLE^RUN([IEXPLOX+1],[IEXPLOY-1]);BEHEXPLOSIONSINGLE^RUN([IEXPLOX-1],IEXPLOY);BEHEXPLOSIONSINGLE^RUN([IEXPLOX+1],IEXPLOY);BEHEXPLOSIONSINGLE^RUN([IEXPLOX-1],[IEXPLOY+1]);BEHEXPLOSIONSINGLE^RUN(IEXPLOX,[IEXPLOY+1]);BEHEXPLOSIONSINGLE^RUN([IEXPLOX+1],[IEXPLOY+1]);}


OBJECT=BEHEXPLOSIONCENTER
BEHEXPLOSIONCENTER:TYPE=BEHAVIOUR
BEHEXPLOSIONCENTER:CODE={I1^SET($1);I2^SET($2);IEXPLOSELECTOR^SET(ARRMAPA^GET(I1,I2));ARRMAPA^SET(I1,I2,IDANGERF);I3^SET(ARREXPLOX^FIND(-1));@IF("I3","_","-1","BFITMP91","BFITMP92");S1^SET(["ANNEXPLOSION_"+I3]);I1^MUL(IGRID);I2^MUL(IGRID);I1^SUB(IBKGSTARTX);I2^SUB(IBKGSTARTY);*S1^SETPOSITION(I1,I2);*S1^PLAY("E");GOBJ^ADD(S1);}


OBJECT=BEHEXPLOSIONSINGLE
BEHEXPLOSIONSINGLE:TYPE=BEHAVIOUR
BEHEXPLOSIONSINGLE:CODE={I1^SET($1);I2^SET($2);I3^SET(ARRMAPA^GET(I1,I2));@IF("I3",">","IZNISZCZALNE_OD","BFITMP98","");}


OBJECT=BEHEXPLOSIONAFTER
BEHEXPLOSIONAFTER:TYPE=BEHAVIOUR
BEHEXPLOSIONAFTER:CODE={I1^SET($1);I2^SET($2);I3^SET($3);ARRMAPA^SET(I1,I2,IEMPTY);ANNPOLA^SETFRAME("EMPTY",0);CANVASOBSERVER^PASTE("ANNPOLA",[I1*IGRID],[I2*IGRID]);CANVASOBSERVER^REFRESH();ARREXPLOX^CHANGEAT(I3,-1);ISPADX^SET(I1);ISPADY^SET(I2);SSPADANIESELECTOR^SET("D");}


OBJECT=____________________
____________________:TYPE=BEHAVIOUR
____________________:CODE={}


OBJECT=BEHLEVELDONE
BEHLEVELDONE:TYPE=BEHAVIOUR
BEHLEVELDONE:CODE={KEYBOARD^DISABLE();BTNRESTART^DISABLEBUTVISIBLE();PPMENU^OPCJE_DISABLE_BV();BDUSA^PAUSE();@IF("IBDLEVEL","_","1","BFITMP99","");BEHSEQPLAY^RUN("SEQGADA","KONIEC",10);}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={ARRKEYS^ADD("U");}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={ARRKEYS^ADD("D");}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={ARRKEYS^ADD("L");}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={ARRKEYS^ADD("R");}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={@IF(ARRKEYS^GET(I1),"!_",""R"","BFITMP3","");}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={@IF(ARRKEYS^GET(I1),"!_",""L"","BFITMP2","");}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={@IF(KEYBOARD^ISKEYDOWN("RIGHT"),"_","TRUE","BFITMP4","");}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={@IF(ARRKEYS^GET(I1),"!_",""D"","BFITMP1","");}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={@IF(KEYBOARD^ISKEYDOWN("LEFT"),"_","TRUE","BFITMP5","BFITMP6");}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={@IF(ARRKEYS^GET(I1),"!_",""U"","BFITMP0","");}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={@IF(KEYBOARD^ISKEYDOWN("DOWN"),"_","TRUE","BFITMP7","BFITMP8");}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={LOG^PUT("EXIT_FAILED");}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={LOG^PUT("EXIT_SUCCESS");}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={IEXPLOX^SET(ISPADX);IEXPLOY^SET(ISPADY);BEHEXPLOSION^RUN();}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={IPLAYERMOVEY^SET(ISCROLLDELTAY);ISCROLLDELTAY^SET(0);}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={IPLAYERMOVEY^SET(ISCROLLDELTAY);ISCROLLDELTAY^SET(0);}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={IPLAYERMOVEY^SET(ISCROLLDELTAY);ISCROLLDELTAY^SET(0);}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={IPLAYERMOVEY^SET(ISCROLLDELTAY);ISCROLLDELTAY^SET(0);}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={IPLAYERMOVEX^SET(ISCROLLDELTAX);ISCROLLDELTAX^SET(0);}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={IPLAYERMOVEX^SET(ISCROLLDELTAX);ISCROLLDELTAX^SET(0);}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={IPLAYERMOVEX^SET(ISCROLLDELTAX);ISCROLLDELTAX^SET(0);}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={IPLAYERMOVEX^SET(ISCROLLDELTAX);ISCROLLDELTAX^SET(0);}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={BEHSPADANIEL^RUN([ISPADX+1],ISPADY);}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={BEHSPADANIER^RUN([ISPADX-1],[ISPADY-1]);}


OBJECT=BFITMP24
BFITMP24:TYPE=BEHAVIOUR
BFITMP24:CODE={BEHSPADANIEL^RUN([ISPADX+1],[ISPADY-1]);}


OBJECT=BFITMP25
BFITMP25:TYPE=BEHAVIOUR
BFITMP25:CODE={BEHSPADANIED^RUN(ISPADX,[ISPADY-1]);}


OBJECT=BFITMP26
BFITMP26:TYPE=BEHAVIOUR
BFITMP26:CODE={BEHSPADANIEL^RUN([ISPADX+1],[ISPADY-1]);}


OBJECT=BFITMP27
BFITMP27:TYPE=BEHAVIOUR
BFITMP27:CODE={BEHSPADANIED^RUN(ISPADX,[ISPADY-1]);}


OBJECT=BFITMP28
BFITMP28:TYPE=BEHAVIOUR
BFITMP28:CODE={BEHSPADANIER^RUN([ISPADX-1],[ISPADY-1]);}


OBJECT=BFITMP29
BFITMP29:TYPE=BEHAVIOUR
BFITMP29:CODE={BEHSPADANIER^RUN([ISPADX-1],[ISPADY-1]);}


OBJECT=BFITMP30
BFITMP30:TYPE=BEHAVIOUR
BFITMP30:CODE={BEHSPADANIEL^RUN([ISPADX+1],[ISPADY-1]);}


OBJECT=BFITMP31
BFITMP31:TYPE=BEHAVIOUR
BFITMP31:CODE={BEHSPADANIER^RUN([ISPADX-1],ISPADY);}


OBJECT=BFITMP32
BFITMP32:TYPE=BEHAVIOUR
BFITMP32:CODE={BEHSPADANIEL^RUN([ISPADX+1],ISPADY);}


OBJECT=BFITMP33
BFITMP33:TYPE=BEHAVIOUR
BFITMP33:CODE={ANNPLAYER^PLAY(SPLAYEREVENT);}


OBJECT=BFITMP34
BFITMP34:TYPE=BEHAVIOUR
BFITMP34:CODE={ANNPLAYER^PLAY(SPLAYEREVENT);}


OBJECT=BFITMP35
BFITMP35:TYPE=BEHAVIOUR
BFITMP35:CODE={BEHEXPLOSION^RUN();}


OBJECT=BFITMP36
BFITMP36:TYPE=BEHAVIOUR
BFITMP36:CODE={ARRKEYS^ADD("U");}


OBJECT=BFITMP37
BFITMP37:TYPE=BEHAVIOUR
BFITMP37:CODE={ARRKEYS^ADD("D");}


OBJECT=BFITMP38
BFITMP38:TYPE=BEHAVIOUR
BFITMP38:CODE={ARRKEYS^ADD("L");}


OBJECT=BFITMP39
BFITMP39:TYPE=BEHAVIOUR
BFITMP39:CODE={ARRKEYS^ADD("R");}


OBJECT=BFITMP40
BFITMP40:TYPE=BEHAVIOUR
BFITMP40:CODE={ITNTSGATHERED^DEC();ITNTRX^SET(IPLAYERPOSX);ITNTRY^SET(IPLAYERPOSY);I1^SET([IPLAYERPOSX*IGRID]);I2^SET([IPLAYERPOSY*IGRID]);I1^SUB(IBKGSTARTX);I2^SUB(IBKGSTARTY);GOBJ^ADD("ANNTNTR");ANNTNTR^SETPOSITION(I1,I2);ANNTNTR^PLAY("IDLE");ANNRUNNERTNTEXP^PLAY("RUN");BEHSEQPLAY^RUN("SEQGADA","POSTAWIENIE_BOMBY",5);SFX_WYKOP_LONT^PLAY();}


OBJECT=BFITMP41
BFITMP41:TYPE=BEHAVIOUR
BFITMP41:CODE={GSAVE^SET("BDUSA_STATUS","ODWIEDZONY");BEHSEQPLAY^RUN("SEQGADA","WSTEP",7);}


OBJECT=BFITMP42
BFITMP42:TYPE=BEHAVIOUR
BFITMP42:CODE={ARRENEMY^SET(_I_,I1,I2);CLSBDENEMYOBJ^NEW(["BDENEMY"+I2],_I_,I1,I2,1);GOBJ^ADD(["BDENEMY"+I2]);I2^INC();}


OBJECT=BFITMP43
BFITMP43:TYPE=BEHAVIOUR
BFITMP43:CODE={IINFOSTOEAT^INC();}


OBJECT=BFITMP44
BFITMP44:TYPE=BEHAVIOUR
BFITMP44:CODE={SEQGADA^STOP(FALSE);ISEQPRIORITY^SET(ITMPSEQPRIORITY);SSEQNAME^SET(STMPSEQNAME);SSEQEVENT^SET(STMPSEQEVENT);*STMPSEQNAME^PLAY(STMPSEQEVENT);}


OBJECT=BFITMP45
BFITMP45:TYPE=BEHAVIOUR
BFITMP45:CODE={@IF("ITMPSEQPRIORITY",">_","ISEQPRIORITY","BFITMP44","");}


OBJECT=BFITMP46
BFITMP46:TYPE=BEHAVIOUR
BFITMP46:CODE={SEQGADA^STOP(FALSE);ISEQPRIORITY^SET(ITMPSEQPRIORITY);SSEQNAME^SET(STMPSEQNAME);SSEQEVENT^SET(STMPSEQEVENT);*STMPSEQNAME^PLAY(STMPSEQEVENT);}


OBJECT=BFITMP47
BFITMP47:TYPE=BEHAVIOUR
BFITMP47:CODE={@IF("ITMPSEQPRIORITY",">","ISEQPRIORITY","BFITMP46","");}


OBJECT=BFITMP48
BFITMP48:TYPE=BEHAVIOUR
BFITMP48:CODE={*STMPSEQNAME^STOP(TRUE);}


OBJECT=BFITMP49
BFITMP49:TYPE=BEHAVIOUR
BFITMP49:CODE={*STMPSEQNAME^STOP(FALSE);}


OBJECT=BFITMP50
BFITMP50:TYPE=BEHAVIOUR
BFITMP50:CODE={ARRKEYS^REMOVEAT(0);}


OBJECT=BFITMP51
BFITMP51:TYPE=BEHAVIOUR
BFITMP51:CODE={ISPADX^SET([ISPADX+ILASTDIRX]);ISPADY^SET(ISPADY);SSPADANIESELECTOR^SET(SPLAYERDIR);}


OBJECT=BFITMP52
BFITMP52:TYPE=BEHAVIOUR
BFITMP52:CODE={BEHPLAYRANDSFX^RUN();BEHWYRAZ^RUN(ISPADREMX,ISPADREMY);}


OBJECT=BFITMP53
BFITMP53:TYPE=BEHAVIOUR
BFITMP53:CODE={ANNPOLACOPY^HIDE();I1^ADD([ILASTDIRX*IGRID]);I2^ADD([ILASTDIRY*IGRID]);ARRMAPA^SET([IPLAYERPOSX+ILASTDIRX],[IPLAYERPOSY+ILASTDIRY],IPCHANY);CANVASOBSERVER^PASTE("ANNPOLACOPY",I1,I2);IPCHANY^SET(-1);ISPADX^SET([I1 @ IGRID]);ISPADY^SET([[I2 @ IGRID]+1]);ISPADREMX^SET(ISPADX);ISPADREMY^SET([ISPADY-1]);SSPADANIESELECTOR^SET("D");@IF("BSPADA","_","FALSE","BFITMP51","");@IF("BSPADA","_","FALSE","BFITMP52","");}


OBJECT=BFITMP54
BFITMP54:TYPE=BEHAVIOUR
BFITMP54:CODE={SFX_WYKOP_KOPIE^PLAY();}


OBJECT=BFITMP55
BFITMP55:TYPE=BEHAVIOUR
BFITMP55:CODE={SFX_WYKOP_KROK^PLAY();}


OBJECT=BFITMP56
BFITMP56:TYPE=BEHAVIOUR
BFITMP56:CODE={@IF("ICOLLISIONSELECTOR","_","122","BFITMP54","BFITMP55");}


OBJECT=BFITMP57
BFITMP57:TYPE=BEHAVIOUR
BFITMP57:CODE={BEHSEQPLAY^RUN("SEQGADA","KILLED_KAMIENIEM",12);}


OBJECT=BFITMP58
BFITMP58:TYPE=BEHAVIOUR
BFITMP58:CODE={BEHSEQPLAY^RUN("SEQGADA","KILLED_W_WYBUCHU",12);}


OBJECT=BFITMP59
BFITMP59:TYPE=BEHAVIOUR
BFITMP59:CODE={SSPADANAME^SET(["ANNSTONE"+I5]);*SSPADANAME^CLONE(1);I3^SET(ARRCLONES^GET(I5));I3^INC();ARRCLONES^CHANGEAT(I5,I3);SSPADANAME^SET([SSPADANAME+"_"+I3]);}


OBJECT=BFITMP60
BFITMP60:TYPE=BEHAVIOUR
BFITMP60:CODE={BSPADA^SET(TRUE);@IF("SSPADANAME","_","NULL","BFITMP59","");ARRMAPA^SET(I1,I2,IFALLINGSTONE);ARRMAPA^SET(I1,[I2+1],IFALLINGSTONE);I1^MUL(IGRID);I2^MUL(IGRID);ANNPOLA^SETFRAME("EMPTY",0);CANVASOBSERVER^PASTE("ANNPOLA",I1,I2);CANVASOBSERVER^REFRESH();I1^SUB(IBKGSTARTX);I2^SUB(IBKGSTARTY);GOBJ^ADD(SSPADANAME);*SSPADANAME^SETPOSITION(I1,I2);*SSPADANAME^PLAY("D");SSPADANAME^SET(NULL);}


OBJECT=BFITMP61
BFITMP61:TYPE=BEHAVIOUR
BFITMP61:CODE={I3^SET(ARRMAPA^GET(I1,[I2+1]));@IF("I3","_","IEMPTY","BFITMP60","");}


OBJECT=BFITMP62
BFITMP62:TYPE=BEHAVIOUR
BFITMP62:CODE={SSPADANAME^SET(["ANNSTONE"+I5]);*SSPADANAME^CLONE(1);I3^SET(ARRCLONES^GET(I5));I3^INC();ARRCLONES^CHANGEAT(I5,I3);SSPADANAME^SET([SSPADANAME+"_"+I3]);}


OBJECT=BFITMP63
BFITMP63:TYPE=BEHAVIOUR
BFITMP63:CODE={BSPADA^SET(TRUE);@IF("SSPADANAME","_","NULL","BFITMP62","");ARRMAPA^SET(I1,I2,IFALLINGSTONE);ARRMAPA^SET([I1-1],I2,IFALLINGSTONE);ARRMAPA^SET([I1-1],[I2+1],IFALLINGSTONE);I1^MUL(IGRID);I2^MUL(IGRID);ANNPOLA^SETFRAME("EMPTY",0);CANVASOBSERVER^PASTE("ANNPOLA",I1,I2);CANVASOBSERVER^REFRESH();I1^SUB(IBKGSTARTX);I2^SUB(IBKGSTARTY);GOBJ^ADD(SSPADANAME);*SSPADANAME^SETPOSITION(I1,I2);*SSPADANAME^PLAY("L");SSPADANAME^SET(NULL);}


OBJECT=BFITMP64
BFITMP64:TYPE=BEHAVIOUR
BFITMP64:CODE={I3^SET(ARRMAPA^GET([I1-1],I2));I4^SET(ARRMAPA^GET([I1-1],[I2+1]));@IF("I3'IEMPTY&&I4'IEMPTY","BFITMP63","");}


OBJECT=BFITMP65
BFITMP65:TYPE=BEHAVIOUR
BFITMP65:CODE={I3^SET(ARRMAPA^GET(I1,[I2+1]));@IF("I3>ISPADAZNICH_OD&&I3<ISPADAZNICH_DO","BFITMP64","");}


OBJECT=BFITMP66
BFITMP66:TYPE=BEHAVIOUR
BFITMP66:CODE={SSPADANAME^SET(["ANNSTONE"+I5]);*SSPADANAME^CLONE(1);I3^SET(ARRCLONES^GET(I5));I3^INC();ARRCLONES^CHANGEAT(I5,I3);SSPADANAME^SET([SSPADANAME+"_"+I3]);}


OBJECT=BFITMP67
BFITMP67:TYPE=BEHAVIOUR
BFITMP67:CODE={BSPADA^SET(TRUE);@IF("SSPADANAME","_","NULL","BFITMP66","");ARRMAPA^SET(I1,I2,IFALLINGSTONE);ARRMAPA^SET([I1+1],I2,IFALLINGSTONE);ARRMAPA^SET([I1+1],[I2+1],IFALLINGSTONE);I1^MUL(IGRID);I2^MUL(IGRID);ANNPOLA^SETFRAME("EMPTY",0);CANVASOBSERVER^PASTE("ANNPOLA",I1,I2);CANVASOBSERVER^REFRESH();I1^SUB(IBKGSTARTX);I2^SUB(IBKGSTARTY);GOBJ^ADD(SSPADANAME);*SSPADANAME^SETPOSITION(I1,I2);*SSPADANAME^PLAY("R");SSPADANAME^SET(NULL);}


OBJECT=BFITMP68
BFITMP68:TYPE=BEHAVIOUR
BFITMP68:CODE={I3^SET(ARRMAPA^GET([I1+1],I2));I4^SET(ARRMAPA^GET([I1+1],[I2+1]));@IF("I3'IEMPTY&&I4'IEMPTY","BFITMP67","");}


OBJECT=BFITMP69
BFITMP69:TYPE=BEHAVIOUR
BFITMP69:CODE={I3^SET(ARRMAPA^GET(I1,[I2+1]));@IF("I3>ISPADAZNICH_OD&&I3<ISPADAZNICH_DO","BFITMP68","");}


OBJECT=BFITMP70
BFITMP70:TYPE=BEHAVIOUR
BFITMP70:CODE={ISPADX^SET([ISPADX+2]);ISPADY^SET(ISPADY);SSPADANIESELECTOR^SET("R");}


OBJECT=BFITMP71
BFITMP71:TYPE=BEHAVIOUR
BFITMP71:CODE={ISPADX^SET([ISPADX-1]);ISPADY^SET(ISPADY);SSPADANIESELECTOR^SET("L");@IF("BSPADA","_","FALSE","BFITMP70","");}


OBJECT=BFITMP72
BFITMP72:TYPE=BEHAVIOUR
BFITMP72:CODE={IEXPLOX^SET(ISPADREMX);IEXPLOY^SET(ISPADREMY);BEHEXPLOSION^RUN();}


OBJECT=BFITMP73
BFITMP73:TYPE=BEHAVIOUR
BFITMP73:CODE={SFX_WYKOP_GLAZ^PLAY();}


OBJECT=BFITMP74
BFITMP74:TYPE=BEHAVIOUR
BFITMP74:CODE={*SSPADANAME^SETFRAME("D",0);CANVASOBSERVER^PASTE(SSPADANAME,[ISPADREMX*IGRID],[ISPADREMY*IGRID]);CANVASOBSERVER^REFRESH();GOBJ^REMOVE(SSPADANAME);CANVASOBSERVER^REMOVE(SSPADANAME);@IF("ISPADAID","_","17","BFITMP72","BFITMP73");BEHWYRAZ^RUN(ISPADREMX,ISPADREMY);}


OBJECT=BFITMP75
BFITMP75:TYPE=BEHAVIOUR
BFITMP75:CODE={ISPADX^SET([ISPADX+2]);ISPADY^SET(ISPADY);SSPADANIESELECTOR^SET("R");}


OBJECT=BFITMP76
BFITMP76:TYPE=BEHAVIOUR
BFITMP76:CODE={ISPADX^SET([ISPADX-1]);ISPADY^SET(ISPADY);SSPADANIESELECTOR^SET("L");@IF("BSPADA","_","FALSE","BFITMP75","");}


OBJECT=BFITMP77
BFITMP77:TYPE=BEHAVIOUR
BFITMP77:CODE={*SSPADANAME^SETFRAME("D",0);CANVASOBSERVER^PASTE(SSPADANAME,[ISPADREMX*IGRID],[ISPADREMY*IGRID]);CANVASOBSERVER^REFRESH();GOBJ^REMOVE(SSPADANAME);CANVASOBSERVER^REMOVE(SSPADANAME);SFX_WYKOP_GLAZ^PLAY();BEHWYRAZ^RUN(ISPADREMX,ISPADREMY);}


OBJECT=BFITMP78
BFITMP78:TYPE=BEHAVIOUR
BFITMP78:CODE={ISPADX^SET([ISPADX+2]);ISPADY^SET(ISPADY);SSPADANIESELECTOR^SET("R");}


OBJECT=BFITMP79
BFITMP79:TYPE=BEHAVIOUR
BFITMP79:CODE={ISPADX^SET([ISPADX-1]);ISPADY^SET(ISPADY);SSPADANIESELECTOR^SET("L");@IF("BSPADA","_","FALSE","BFITMP78","");}


OBJECT=BFITMP80
BFITMP80:TYPE=BEHAVIOUR
BFITMP80:CODE={*SSPADANAME^SETFRAME("D",0);CANVASOBSERVER^PASTE(SSPADANAME,[ISPADREMX*IGRID],[ISPADREMY*IGRID]);CANVASOBSERVER^REFRESH();GOBJ^REMOVE(SSPADANAME);CANVASOBSERVER^REMOVE(SSPADANAME);SFX_WYKOP_GLAZ^PLAY();BEHWYRAZ^RUN(ISPADREMX,ISPADREMY);}


OBJECT=BFITMP81
BFITMP81:TYPE=BEHAVIOUR
BFITMP81:CODE={I4^SET(ANNPLAYER^GETCENTERX());I5^SET(ANNPLAYER^GETCENTERY());I4^DIV(IGRID);I5^DIV(IGRID);I4^MUL(IGRID);I5^MUL(IGRID);I4^ADD([IGRID*ILASTDIRX]);I5^ADD([IGRID*ILASTDIRY]);IPCHANY^SET(ICOLLISIONSELECTOR);ARRMAPA^SET(I2,I3,IFALLINGSTONE);ANNPOLA^SETFRAME("EMPTY",0);CANVASOBSERVER^PASTE("ANNPOLA",[I4+IBKGSTARTX],[I5+IBKGSTARTY]);CANVASOBSERVER^REFRESH();IPOLESEL^SET(ICOLLISIONSELECTOR);ANNPOLACOPY^SETFRAME(SPOLE,0);ANNPOLACOPY^SHOW();ANNPOLACOPY^SETPOSITION(I4,I5);}


OBJECT=BFITMP82
BFITMP82:TYPE=BEHAVIOUR
BFITMP82:CODE={SPLAYERDIR^SET("F");}


OBJECT=BFITMP83
BFITMP83:TYPE=BEHAVIOUR
BFITMP83:CODE={I1^DEC();}


OBJECT=BFITMP84
BFITMP84:TYPE=BEHAVIOUR
BFITMP84:CODE={B1^SET(FALSE);}


OBJECT=BFITMP85
BFITMP85:TYPE=BEHAVIOUR
BFITMP85:CODE={SWYRAZ^ADD(SLITERKA);I1^INC();}


OBJECT=BFITMP86
BFITMP86:TYPE=BEHAVIOUR
BFITMP86:CODE={B1^SET(FALSE);}


OBJECT=BFITMP87
BFITMP87:TYPE=BEHAVIOUR
BFITMP87:CODE={BEHSEQPLAY^RUN("SEQGADA","ZESPAWANIE_DWOCH",5);SFX_FORT_WAGON^PLAY();}


OBJECT=BFITMP88
BFITMP88:TYPE=BEHAVIOUR
BFITMP88:CODE={I4^SET(S1^LENGTH());ILITERKAFIRST^ADD(I3);@LOOP("{ARRMAPA^SET(_I_,I2,IWALL2);}",ILITERKAFIRST,I4,1);B1^SET(TRUE);I5^SET(ARRWYRAZY^GETSIZE());}


OBJECT=BFITMP89
BFITMP89:TYPE=BEHAVIOUR
BFITMP89:CODE={@IF("SWYRAZ^LENGTH()>1&&S1^FIND(SWYRAZ)>-1","BFITMP87","");}


OBJECT=BFITMP90
BFITMP90:TYPE=BEHAVIOUR
BFITMP90:CODE={BEHLEVELDONE^RUN();SFX_FORT_WAGON^PLAY();}


OBJECT=BFITMP91
BFITMP91:TYPE=BEHAVIOUR
BFITMP91:CODE={I3^SET(ARREXPLOX^GETSIZE());ANNEXPLOSION^CLONE(1);ARREXPLOX^ADD(I1);ARREXPLOY^ADD(I2);}


OBJECT=BFITMP92
BFITMP92:TYPE=BEHAVIOUR
BFITMP92:CODE={ARREXPLOX^CHANGEAT(I3,I1);ARREXPLOY^CHANGEAT(I3,I2);}


OBJECT=BFITMP93
BFITMP93:TYPE=BEHAVIOUR
BFITMP93:CODE={BTABLICADESTROYED^SET(TRUE);}


OBJECT=BFITMP94
BFITMP94:TYPE=BEHAVIOUR
BFITMP94:CODE={}


OBJECT=BFITMP95
BFITMP95:TYPE=BEHAVIOUR
BFITMP95:CODE={ARRMAPA^SET(I1,I2,IDANGERF);@IF("I3>21&&I3<34","BFITMP93","");}


OBJECT=BFITMP96
BFITMP96:TYPE=BEHAVIOUR
BFITMP96:CODE={I3^SET(ARREXPLOX^GETSIZE());ANNEXPLOSION^CLONE(1);ARREXPLOX^ADD(I1);ARREXPLOY^ADD(I2);}


OBJECT=BFITMP97
BFITMP97:TYPE=BEHAVIOUR
BFITMP97:CODE={ARREXPLOX^CHANGEAT(I3,I1);ARREXPLOY^CHANGEAT(I3,I2);}


OBJECT=BFITMP98
BFITMP98:TYPE=BEHAVIOUR
BFITMP98:CODE={@IF("I3>IWYBUCHAJACE_OD&&I3<IWYBUCHAJACE_DO","BFITMP94","BFITMP95");I3^SET(ARREXPLOX^FIND(-1));@IF("I3","_","-1","BFITMP96","BFITMP97");S1^SET(["ANNEXPLOSION_"+I3]);I1^MUL(IGRID);I2^MUL(IGRID);I1^SUB(IBKGSTARTX);I2^SUB(IBKGSTARTY);*S1^SETPOSITION(I1,I2);*S1^PLAY("E");GOBJ^ADD(S1);}


OBJECT=BFITMP99
BFITMP99:TYPE=BEHAVIOUR
BFITMP99:CODE={GSAVE^SET("BDUSA_STATUS","UKONCZONY");GSAVE^SET("SCENE_CODE","ADZ2");GSAVE^SET("SCENE_NAME","ARCADE");GSAVE^SET("ARCADE_SCENE_NAME","DZIKI_ZACHOD");GSAVE^SET("DZIKI_LEVEL",2);GSAVE^SET("DZIKI_PLANSZA_NO",3);GSAVE^SET("DZIKI_PLANSZA4_FIRST_TIME",TRUE);GSAVE^SET("DZIKI_PLANSZA3_NORNIK_CLICK",0);}

OBJECT=BFITMP100
BFITMP100:TYPE=BEHAVIOUR
BFITMP100:CODE={BEHSEQPLAY^RUN("SEQGADA","KRETES_ZLAPANY",11);}


OBJECT=BFITMP101
BFITMP101:TYPE=BEHAVIOUR
BFITMP101:CODE={BEHSEQPLAY^RUN("SEQGADA","KRETES_KILLED",10);}
