OBJECT=B1
B1:TYPE=BOOL

OBJECT=D1
D1:TYPE=DOUBLE

OBJECT=D2
D2:TYPE=DOUBLE

OBJECT=I1
I1:TYPE=INTEGER

OBJECT=I2
I2:TYPE=INTEGER

OBJECT=I3
I3:TYPE=INTEGER

OBJECT=I4
I4:TYPE=INTEGER

OBJECT=I5
I5:TYPE=INTEGER

OBJECT=I6
I6:TYPE=INTEGER

OBJECT=S1
S1:TYPE=STRING

OBJECT=S2
S2:TYPE=STRING

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=ILEVEL
ILEVEL:TYPE=INTEGER

OBJECT=SLEVELSEL
SLEVELSEL:TYPE=STRING
SLEVELSEL:ONBRUTALCHANGED^1CHEAT={ILEVEL^SET(1);CANVASOBSERVER^SETBACKGROUND("1_BKG.IMG");IMGPLAN^LOAD("1_0PLAN.IMG");ANNBELKA^LOAD("1_BELKA.ANN");IBKGSIZEPXX^SET(1200);IBKGSIZEPXY^SET(1000);IPLANSIZEPXX^SET(2100);IPLANSIZEPXY^SET(1425);I1PLANSIZEPXX^SET(1728);I1PLANSIZEPXY^SET(1425);IKRETPOSX^SET(300);IKRETPOSY^SET(1425);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);ANNBELKA^HIDE();ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("1_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("1_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^SETPRIORITY(20);ANNTELEPORT1^SETPRIORITY(35);ANNTELEPORT2^SETPRIORITY(20);ANNTELEPORT3^SETPRIORITY(20);ANNTELEPORT4^SETPRIORITY(20);ANNTELEPORT5^SETPRIORITY(20);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^1EASY={ILEVEL^SET(1);CANVASOBSERVER^SETBACKGROUND("1_BKG.IMG");IMGPLAN^LOAD("1_0PLAN.IMG");ANNBELKA^LOAD("1_BELKA.ANN");IBKGSIZEPXX^SET(1200);IBKGSIZEPXY^SET(1000);IPLANSIZEPXX^SET(2100);IPLANSIZEPXY^SET(1425);I1PLANSIZEPXX^SET(1728);I1PLANSIZEPXY^SET(1425);IKRETPOSX^SET(300);IKRETPOSY^SET(1425);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);IRZEDOWBELEK^SET(5);ARRBELKISPEED^REMOVEALL();ARRBELKISTART^REMOVEALL();ARRBELKIGESTOSC^REMOVEALL();ARRBELKIMOVEDSOFAR^REMOVEALL();ARRBELKISPEED^ADD(1,2,1,2,1);ARRBELKISTART^ADD(4,3,2,0,-1);ARRBELKIGESTOSC^ADD(350,375,400,375,325);ARRBELKIMOVEDSOFAR^ADD(0,0,0,0,0);I6^SET(0);I4^SET(1);I3^SET(10);I5^SET(1);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(1);I4^ADD(I3);I3^SET(10);I5^SET(3);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(2);I4^ADD(I3);I3^SET(10);I5^SET(5);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(3);I4^ADD(I3);I3^SET(10);I5^SET(9);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(4);I4^ADD(I3);I3^SET(10);I5^SET(13);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");ANNBELKA^HIDE();CLSEIFELENEMYOBJ^NEW("ENEMY0","1_ENEMY0.ANN",2,5,16,4,0,2,18);CLSEIFELENEMYOBJ^NEW("ENEMY2","1_ENEMY0.ANN",1,17,2,9,0,8,6);CLSEIFELENEMYOBJ^NEW("ENEMY3","1_ENEMY0.ANN",1,21,6,5,0,8,6);CLSEIFELENEMYOBJ^NEW("ENEMY5","1_ENEMY0.ANN",1,15,14,6,0,25,16);GENEMIES^ADD("ENEMY0");GENEMIES^ADD("ENEMY2");GENEMIES^ADD("ENEMY3");GENEMIES^ADD("ENEMY5");GBKG^ADD("ENEMY0");GBKG^ADD("ENEMY2");GBKG^ADD("ENEMY3");GBKG^ADD("ENEMY5");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^2","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^6","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^14","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^16","BEHCOLLENEMIES");ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("1_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("1_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^SETPRIORITY(20);ANNTELEPORT1^SETPRIORITY(35);ANNTELEPORT2^SETPRIORITY(20);ANNTELEPORT3^SETPRIORITY(20);ANNTELEPORT4^SETPRIORITY(20);ANNTELEPORT5^SETPRIORITY(20);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^1NORMAL={ILEVEL^SET(1);CANVASOBSERVER^SETBACKGROUND("1_BKG.IMG");IMGPLAN^LOAD("1_0PLAN.IMG");ANNBELKA^LOAD("1_BELKA.ANN");IBKGSIZEPXX^SET(1200);IBKGSIZEPXY^SET(1000);IPLANSIZEPXX^SET(2100);IPLANSIZEPXY^SET(1425);I1PLANSIZEPXX^SET(1728);I1PLANSIZEPXY^SET(1425);IKRETPOSX^SET(300);IKRETPOSY^SET(1425);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);IRZEDOWBELEK^SET(5);ARRBELKISPEED^REMOVEALL();ARRBELKISTART^REMOVEALL();ARRBELKIGESTOSC^REMOVEALL();ARRBELKIMOVEDSOFAR^REMOVEALL();ARRBELKISPEED^ADD(3,3,2,2,1);ARRBELKISTART^ADD(4,3,2,0,-1);ARRBELKIGESTOSC^ADD(225,300,225,300,225);ARRBELKIMOVEDSOFAR^ADD(0,0,0,0,0);I6^SET(0);I4^SET(1);I3^SET(10);I5^SET(1);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(1);I4^ADD(I3);I3^SET(10);I5^SET(3);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(2);I4^ADD(I3);I3^SET(10);I5^SET(5);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(3);I4^ADD(I3);I3^SET(10);I5^SET(9);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(4);I4^ADD(I3);I3^SET(10);I5^SET(13);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");ANNBELKA^HIDE();CLSEIFELENEMYOBJ^NEW("ENEMY0","1_ENEMY0.ANN",1,5,16,4,0,2,18);CLSEIFELENEMYOBJ^NEW("ENEMY1","1_ENEMY0.ANN",2,2,10,4,0,22,10);CLSEIFELENEMYOBJ^NEW("ENEMY2","1_ENEMY0.ANN",3,17,2,9,0,8,6);CLSEIFELENEMYOBJ^NEW("ENEMY3","1_ENEMY0.ANN",1,21,6,5,0,8,6);CLSEIFELENEMYOBJ^NEW("ENEMY4","1_ENEMY0.ANN",2,19,12,4,0,25,16);CLSEIFELENEMYOBJ^NEW("ENEMY5","1_ENEMY0.ANN",3,15,14,6,0,25,16);GENEMIES^ADD("ENEMY0","ENEMY1","ENEMY2","ENEMY3","ENEMY4","ENEMY5");GBKG^ADD("ENEMY0","ENEMY1","ENEMY2","ENEMY3","ENEMY4","ENEMY5");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^2","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^6","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^10","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^12","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^14","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^16","BEHCOLLENEMIES");ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("1_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("1_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^SETPRIORITY(20);ANNTELEPORT1^SETPRIORITY(35);ANNTELEPORT2^SETPRIORITY(20);ANNTELEPORT3^SETPRIORITY(20);ANNTELEPORT4^SETPRIORITY(20);ANNTELEPORT5^SETPRIORITY(20);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^2CHEAT={ILEVEL^SET(2);CANVASOBSERVER^SETBACKGROUND("2_BKG.IMG");IMGPLAN^LOAD("2_0PLAN.IMG");ANNBELKA^LOAD("1_BELKA.ANN");IBKGSIZEPXX^SET(1100);IBKGSIZEPXY^SET(1000);IPLANSIZEPXX^SET(1875);IPLANSIZEPXY^SET(1650);I1PLANSIZEPXX^SET(1650);I1PLANSIZEPXY^SET(1650);IKRETPOSX^SET(1200);IKRETPOSY^SET(1650);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);ANNBELKA^HIDE();ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("2_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("2_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^LOAD("2_TELE0.ANN");ANNTELEPORT1^LOAD("2_TELE1.ANN");ANNTELEPORT2^LOAD("2_TELE2.ANN");ANNTELEPORT3^LOAD("2_TELE3.ANN");ANNTELEPORT4^LOAD("2_TELE4.ANN");ANNTELEPORT5^LOAD("2_TELE5.ANN");ANNTELEPORT0^SETPRIORITY(20);ANNTELEPORT1^SETPRIORITY(20);ANNTELEPORT2^SETPRIORITY(20);ANNTELEPORT3^SETPRIORITY(35);ANNTELEPORT4^SETPRIORITY(35);ANNTELEPORT5^SETPRIORITY(35);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");GBKG^ADD("ANNTELEPORT2","ANNTELEPORT3","ANNTELEPORT4","ANNTELEPORT5");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^2EASY={ILEVEL^SET(2);CANVASOBSERVER^SETBACKGROUND("2_BKG.IMG");IMGPLAN^LOAD("2_0PLAN.IMG");ANNBELKA^LOAD("1_BELKA.ANN");IBKGSIZEPXX^SET(1100);IBKGSIZEPXY^SET(1000);IPLANSIZEPXX^SET(1875);IPLANSIZEPXY^SET(1650);I1PLANSIZEPXX^SET(1650);I1PLANSIZEPXY^SET(1650);IKRETPOSX^SET(1200);IKRETPOSY^SET(1650);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);IRZEDOWBELEK^SET(5);ARRBELKISPEED^REMOVEALL();ARRBELKISTART^REMOVEALL();ARRBELKIGESTOSC^REMOVEALL();ARRBELKIMOVEDSOFAR^REMOVEALL();ARRBELKISPEED^ADD(1,-1,2,-1,1);ARRBELKISTART^ADD(2,[5+14],3,[2+21],1);ARRBELKIGESTOSC^ADD(350,-210,375,-225,275);ARRBELKIMOVEDSOFAR^ADD(0,0,0,0,0);I6^SET(0);I4^SET(1);I3^SET(3);I5^SET(4);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(1);I4^ADD(I3);I3^SET(5);I5^SET(8);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(2);I4^ADD(I3);I3^SET(4);I5^SET(12);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(3);I4^ADD(I3);I3^SET(7);I5^SET(16);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(4);I4^ADD(I3);I3^SET(6);I5^SET(18);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");ANNBELKA^HIDE();CLSEIFELENEMYOBJ^NEW("ENEMY3","1_ENEMY0.ANN",1,13,5,4,0,17,9);CLSEIFELENEMYOBJ^NEW("ENEMY4","1_ENEMY0.ANN",1,11,7,3,0,17,9);CLSEIFELENEMYOBJ^NEW("ENEMY8","1_ENEMY0.ANN",1,16,11,3,0,21,9);CLSEIFELENEMYOBJ^NEW("ENEMY10","1_ENEMY0.ANN",1,6,13,5,0,9,17);CLSEIFELENEMYOBJ^NEW("ENEMY14","1_ENEMY0.ANN",3,8,21,6,0,16,21);GENEMIES^ADD("ENEMY3");GENEMIES^ADD("ENEMY4");GENEMIES^ADD("ENEMY8");GENEMIES^ADD("ENEMY10");GENEMIES^ADD("ENEMY14");GBKG^ADD("ENEMY3");GBKG^ADD("ENEMY4");GBKG^ADD("ENEMY8");GBKG^ADD("ENEMY10");GBKG^ADD("ENEMY14");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^5","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^7","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^11","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^13","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^17","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^21","BEHCOLLENEMIES");ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("2_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("2_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^LOAD("2_TELE0.ANN");ANNTELEPORT1^LOAD("2_TELE1.ANN");ANNTELEPORT2^LOAD("2_TELE2.ANN");ANNTELEPORT3^LOAD("2_TELE3.ANN");ANNTELEPORT4^LOAD("2_TELE4.ANN");ANNTELEPORT5^LOAD("2_TELE5.ANN");ANNTELEPORT0^SETPRIORITY(20);ANNTELEPORT1^SETPRIORITY(20);ANNTELEPORT2^SETPRIORITY(20);ANNTELEPORT3^SETPRIORITY(35);ANNTELEPORT4^SETPRIORITY(35);ANNTELEPORT5^SETPRIORITY(35);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");GBKG^ADD("ANNTELEPORT2","ANNTELEPORT3","ANNTELEPORT4","ANNTELEPORT5");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^2NORMAL={ILEVEL^SET(2);CANVASOBSERVER^SETBACKGROUND("2_BKG.IMG");IMGPLAN^LOAD("2_0PLAN.IMG");ANNBELKA^LOAD("1_BELKA.ANN");IBKGSIZEPXX^SET(1100);IBKGSIZEPXY^SET(1000);IPLANSIZEPXX^SET(1875);IPLANSIZEPXY^SET(1650);I1PLANSIZEPXX^SET(1650);I1PLANSIZEPXY^SET(1650);IKRETPOSX^SET(1200);IKRETPOSY^SET(1650);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);IRZEDOWBELEK^SET(5);ARRBELKISPEED^REMOVEALL();ARRBELKISTART^REMOVEALL();ARRBELKIGESTOSC^REMOVEALL();ARRBELKIMOVEDSOFAR^REMOVEALL();ARRBELKISPEED^ADD(1,-2,2,-1,1);ARRBELKISTART^ADD(2,[5+14],3,[2+21],1);ARRBELKIGESTOSC^ADD(350,-210,375,-225,275);ARRBELKIMOVEDSOFAR^ADD(0,0,0,0,0);I6^SET(0);I4^SET(1);I3^SET(3);I5^SET(4);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(1);I4^ADD(I3);I3^SET(5);I5^SET(8);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(2);I4^ADD(I3);I3^SET(4);I5^SET(12);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(3);I4^ADD(I3);I3^SET(7);I5^SET(16);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");I6^SET(4);I4^ADD(I3);I3^SET(6);I5^SET(18);ANNBELKA^CLONE(I3);GBKG^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^ADDCLONES("ANNBELKA",I4,[I4+I3-1]);*["GBELKI"+I6]^SETMARKERPOS(0);I1^SET([75*ARRBELKISTART^GET(I6)]);I2^SET(ARRBELKIGESTOSC^GET(I6));@LOOP("{*["ANNBELKA_"+[I4+_I_]]^SETPOSITION([I1+[_I_*I2]],[I5*75]);}",0,I3,1);ICOLLBELKASEL^ADDBEHAVIOUR(["ONBRUTALCHANGED^"+I5],"BEHCOLLBELKI");ANNBELKA^HIDE();CLSEIFELENEMYOBJ^NEW("ENEMY0","1_ENEMY0.ANN",2,3,3,5,0,5,11);CLSEIFELENEMYOBJ^NEW("ENEMY1","1_ENEMY0.ANN",1,18,3,4,0,6,7);CLSEIFELENEMYOBJ^NEW("ENEMY2","1_ENEMY0.ANN",1,6,5,4,0,6,7);CLSEIFELENEMYOBJ^NEW("ENEMY3","1_ENEMY0.ANN",2,13,5,4,0,17,9);CLSEIFELENEMYOBJ^NEW("ENEMY4","1_ENEMY0.ANN",1,11,7,3,0,17,9);CLSEIFELENEMYOBJ^NEW("ENEMY6","1_ENEMY0.ANN",1,7,9,3,0,6,7);CLSEIFELENEMYOBJ^NEW("ENEMY8","1_ENEMY0.ANN",2,16,11,3,0,21,9);CLSEIFELENEMYOBJ^NEW("ENEMY9","1_ENEMY0.ANN",1,20,11,3,0,21,9);CLSEIFELENEMYOBJ^NEW("ENEMY10","1_ENEMY0.ANN",2,6,13,5,0,9,17);CLSEIFELENEMYOBJ^NEW("ENEMY11","1_ENEMY0.ANN",1,3,15,4,0,9,17);CLSEIFELENEMYOBJ^NEW("ENEMY13","1_ENEMY0.ANN",1,7,19,4,0,16,21);CLSEIFELENEMYOBJ^NEW("ENEMY14","1_ENEMY0.ANN",3,8,21,6,0,16,21);GENEMIES^ADD("ENEMY0");GENEMIES^ADD("ENEMY1");GENEMIES^ADD("ENEMY2");GENEMIES^ADD("ENEMY3");GENEMIES^ADD("ENEMY4");GENEMIES^ADD("ENEMY6");GENEMIES^ADD("ENEMY8");GENEMIES^ADD("ENEMY9");GENEMIES^ADD("ENEMY10");GENEMIES^ADD("ENEMY11");GENEMIES^ADD("ENEMY13");GENEMIES^ADD("ENEMY14");GBKG^ADD("ENEMY0");GBKG^ADD("ENEMY1");GBKG^ADD("ENEMY2");GBKG^ADD("ENEMY3");GBKG^ADD("ENEMY4");GBKG^ADD("ENEMY6");GBKG^ADD("ENEMY8");GBKG^ADD("ENEMY9");GBKG^ADD("ENEMY10");GBKG^ADD("ENEMY11");GBKG^ADD("ENEMY13");GBKG^ADD("ENEMY14");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^3","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^5","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^7","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^9","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^11","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^13","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^15","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^17","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^19","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^21","BEHCOLLENEMIES");ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("2_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("2_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^LOAD("2_TELE0.ANN");ANNTELEPORT1^LOAD("2_TELE1.ANN");ANNTELEPORT2^LOAD("2_TELE2.ANN");ANNTELEPORT3^LOAD("2_TELE3.ANN");ANNTELEPORT4^LOAD("2_TELE4.ANN");ANNTELEPORT5^LOAD("2_TELE5.ANN");ANNTELEPORT0^SETPRIORITY(20);ANNTELEPORT1^SETPRIORITY(20);ANNTELEPORT2^SETPRIORITY(20);ANNTELEPORT3^SETPRIORITY(35);ANNTELEPORT4^SETPRIORITY(35);ANNTELEPORT5^SETPRIORITY(35);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");GBKG^ADD("ANNTELEPORT2","ANNTELEPORT3","ANNTELEPORT4","ANNTELEPORT5");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^3CHEAT={ILEVEL^SET(3);CANVASOBSERVER^SETBACKGROUND("3_BKG.IMG");IMGPLAN^LOAD("_PUSTY.IMG");ANNBELKA^LOAD("1_BELKA.ANN");ANNKRET^LOAD("3_REX.ANN");ANNKRET^SETFPS(32);ANNNEMO^PLAY("IDLE");GBKG^ADD("ANNNEMO");IBKGSIZEPXX^SET(2400);IBKGSIZEPXY^SET(1800);IPLANSIZEPXX^SET(2400);IPLANSIZEPXY^SET(1800);I1PLANSIZEPXX^SET(2400);I1PLANSIZEPXY^SET(1800);IKRETPOSX^SET(260);IKRETPOSY^SET(900);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);ANNBELKA^HIDE();ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("3_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("3_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^LOAD("3_TELE0.ANN");ANNTELEPORT1^LOAD("3_TELE1.ANN");ANNTELEPORT0^SETPRIORITY(20);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");GBKG^ADD("ANNTELEPORT2","ANNTELEPORT3","ANNTELEPORT4","ANNTELEPORT5");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^3EASY={ILEVEL^SET(3);CANVASOBSERVER^SETBACKGROUND("3_BKG.IMG");IMGPLAN^LOAD("_PUSTY.IMG");ANNBELKA^LOAD("1_BELKA.ANN");ANNKRET^LOAD("3_REX.ANN");ANNKRET^SETFPS(32);ANNNEMO^PLAY("IDLE");GBKG^ADD("ANNNEMO");IBKGSIZEPXX^SET(2400);IBKGSIZEPXY^SET(1800);IPLANSIZEPXX^SET(2400);IPLANSIZEPXY^SET(1800);I1PLANSIZEPXX^SET(2400);I1PLANSIZEPXY^SET(1800);IKRETPOSX^SET(260);IKRETPOSY^SET(900);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);ANNBELKA^HIDE();IILOSCFLAM^SET(9);ANNFLAME^CLONE([IILOSCFLAM-1]);GFLAMES^ADDCLONES("ANNFLAME",0,[IILOSCFLAM-1]);GBKG^ADDCLONES("ANNFLAME",0,[IILOSCFLAM-1]);ARRFLAMESX^REMOVEALL();ARRFLAMESY^REMOVEALL();ARRFLAMESDIR^REMOVEALL();ARRFLAMESDELAY^REMOVEALL();ARRFLAMESX^ADD(6,16,15,13,27,27,22,19,20);ARRFLAMESY^ADD(20,18,20,6,8,10,16,18,20);ARRFLAMESDIR^ADD("R","R","R","L","L","L","L","L","L");ARRFLAMESDELAY^ADD(100,125,175,150,140,250,200,180,220);@LOOP("{S1^SET(["ANNFLAME_"+_I_]);@IF(ARRFLAMESDIR^GET(_I_),"_",""R"","BFITMP0","BFITMP1");}",0,IILOSCFLAM,1);CLSEIFELENEMYOBJ^NEW("ENEMY0","3_ENEMY0.ANN",3,19,5,4,0,14,17);CLSEIFELENEMYOBJ^NEW("ENEMY2","3_ENEMY0.ANN",2,16,13,4,0,8,3);CLSEIFELENEMYOBJ^NEW("ENEMY4","3_ENEMY0.ANN",2,16,17,6,0,16,21);CLSEIFELENEMYOBJ^NEW("ENEMY6","3_ENEMY0.ANN",2,6,23,8,0,10,17);CLSEIFELENEMYOBJ^NEW("ENEMY7","3_ENEMY0.ANN",4,15,23,8,0,16,21);GENEMIES^ADD("ENEMY0");GENEMIES^ADD("ENEMY2");GENEMIES^ADD("ENEMY4");GENEMIES^ADD("ENEMY6");GENEMIES^ADD("ENEMY7");GBKG^ADD("ENEMY0");GBKG^ADD("ENEMY2");GBKG^ADD("ENEMY4");GBKG^ADD("ENEMY6");GBKG^ADD("ENEMY7");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^5","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^13","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^17","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^23","BEHCOLLENEMIES");ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("3_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("3_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^LOAD("3_TELE0.ANN");ANNTELEPORT1^LOAD("3_TELE1.ANN");ANNTELEPORT0^SETPRIORITY(20);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");GBKG^ADD("ANNTELEPORT2","ANNTELEPORT3","ANNTELEPORT4","ANNTELEPORT5");BEHMOVEALLTOKRET^RUN();}
SLEVELSEL:ONBRUTALCHANGED^3NORMAL={ILEVEL^SET(3);CANVASOBSERVER^SETBACKGROUND("3_BKG.IMG");IMGPLAN^LOAD("_PUSTY.IMG");ANNBELKA^LOAD("1_BELKA.ANN");ANNKRET^LOAD("3_REX.ANN");ANNKRET^SETFPS(32);ANNNEMO^PLAY("IDLE");GBKG^ADD("ANNNEMO");IBKGSIZEPXX^SET(2400);IBKGSIZEPXY^SET(1800);IPLANSIZEPXX^SET(2400);IPLANSIZEPXY^SET(1800);I1PLANSIZEPXX^SET(2400);I1PLANSIZEPXY^SET(1800);IKRETPOSX^SET(260);IKRETPOSY^SET(900);DFACTORX^SET([IBKGSIZEPXX-800]);DFACTORX^DIV([IPLANSIZEPXX-800]);DFACTORY^SET([IBKGSIZEPXY-600]);DFACTORY^DIV([IPLANSIZEPXY-600]);DFACTOR1PLANX^SET([I1PLANSIZEPXX-800]);DFACTOR1PLANX^DIV([IPLANSIZEPXX-800]);DFACTOR1PLANY^SET([I1PLANSIZEPXY-600]);DFACTOR1PLANY^DIV([IPLANSIZEPXY-600]);IMAPASIZEX^SET([IPLANSIZEPXX@75]);IMAPASIZEY^SET([IPLANSIZEPXY@75]);IKRETPOSMAPAX^SET([IKRETPOSX@75]);IKRETPOSMAPAY^SET([[IKRETPOSY@75]-1]);ANNBELKA^HIDE();IILOSCFLAM^SET(9);ANNFLAME^CLONE([IILOSCFLAM-1]);GFLAMES^ADDCLONES("ANNFLAME",0,[IILOSCFLAM-1]);GBKG^ADDCLONES("ANNFLAME",0,[IILOSCFLAM-1]);ARRFLAMESX^REMOVEALL();ARRFLAMESY^REMOVEALL();ARRFLAMESDIR^REMOVEALL();ARRFLAMESDELAY^REMOVEALL();ARRFLAMESX^ADD(6,16,15,13,27,27,22,19,20);ARRFLAMESY^ADD(20,18,20,6,8,10,16,18,20);ARRFLAMESDIR^ADD("R","R","R","L","L","L","L","L","L");ARRFLAMESDELAY^ADD(100,125,175,150,140,250,200,180,220);@LOOP("{S1^SET(["ANNFLAME_"+_I_]);@IF(ARRFLAMESDIR^GET(_I_),"_",""R"","BFITMP2","BFITMP3");}",0,IILOSCFLAM,1);CLSEIFELENEMYOBJ^NEW("ENEMY0","3_ENEMY0.ANN",3,19,5,4,0,14,17);CLSEIFELENEMYOBJ^NEW("ENEMY1","3_ENEMY0.ANN",2,6,11,4,0,4,15);CLSEIFELENEMYOBJ^NEW("ENEMY2","3_ENEMY0.ANN",2,16,13,4,0,8,3);CLSEIFELENEMYOBJ^NEW("ENEMY3","3_ENEMY0.ANN",3,7,15,5,0,4,15);CLSEIFELENEMYOBJ^NEW("ENEMY4","3_ENEMY0.ANN",2,16,17,6,0,16,21);CLSEIFELENEMYOBJ^NEW("ENEMY5","3_ENEMY0.ANN",3,3,19,5,0,10,17);CLSEIFELENEMYOBJ^NEW("ENEMY6","3_ENEMY0.ANN",2,6,23,8,0,10,17);CLSEIFELENEMYOBJ^NEW("ENEMY7","3_ENEMY0.ANN",4,15,23,8,0,16,21);GENEMIES^ADD("ENEMY0");GENEMIES^ADD("ENEMY1");GENEMIES^ADD("ENEMY2");GENEMIES^ADD("ENEMY3");GENEMIES^ADD("ENEMY4");GENEMIES^ADD("ENEMY5");GENEMIES^ADD("ENEMY6");GENEMIES^ADD("ENEMY7");GBKG^ADD("ENEMY0");GBKG^ADD("ENEMY1");GBKG^ADD("ENEMY2");GBKG^ADD("ENEMY3");GBKG^ADD("ENEMY4");GBKG^ADD("ENEMY5");GBKG^ADD("ENEMY6");GBKG^ADD("ENEMY7");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^5","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^11","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^13","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^15","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^17","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^19","BEHCOLLENEMIES");ICOLLENEMYSEL^ADDBEHAVIOUR("ONBRUTALCHANGED^23","BEHCOLLENEMIES");ANNKRET^SETFRAME("R_IDLE",0);ANNKRET^SETPOSITION(IKRETPOSX,IKRETPOSY);ANNPLANNAK^LOAD("3_0PLAN_NAK.ANN");I1^SET(ANNPLANNAK^GETNOFINEVENT("IDLE"));ANNPLANNAK^CLONE([I1-1]);@LOOP("{*["ANNPLANNAK_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);GBKG^ADDCLONES("ANNPLANNAK",0,[I1-1]);ANN1PLAN^LOAD("3_1PLAN.ANN");I1^SET(ANN1PLAN^GETNOFINEVENT("IDLE"));ANN1PLAN^CLONE([I1-1]);@LOOP("{*["ANN1PLAN_"+_I_]^SETFRAME("IDLE",_I_);}",0,I1,1);G1PLAN^ADDCLONES("ANN1PLAN",0,[I1-1]);ANNTELEPORT0^LOAD("3_TELE0.ANN");ANNTELEPORT1^LOAD("3_TELE1.ANN");ANNTELEPORT0^SETPRIORITY(20);GBKG^ADD("IMGPLAN","ANNTELEPORT0","ANNTELEPORT1");GBKG^ADD("ANNTELEPORT2","ANNTELEPORT3","ANNTELEPORT4","ANNTELEPORT5");BEHMOVEALLTOKRET^RUN();}

OBJECT=SZWIESZANIEWYJATKI
SZWIESZANIEWYJATKI:TYPE=STRING
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^1_13_6={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^1_15_6={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_11_1={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_12_1={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_13_1={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_17_1={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_18_1={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_19_1={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_7_3={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_24_3={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_25_3={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_8_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_11_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_18_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_19_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_20_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_21_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_22_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_23_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_26_5={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_2_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_3_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_5_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_6_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_9_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_16_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_17_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_24_7={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_10_9={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_15_9={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_20_9={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_3_11={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_11_11={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_14_11={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_21_11={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_23_11={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_25_11={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_2_13={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_5_13={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_12_13={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_13_13={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_22_13={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_4_15={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_8_15={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_9_15={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_25_15={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_12_17={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_14_17={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_28_17={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_29_17={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_2_19={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_3_19={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_4_19={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_5_19={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_13_19={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_26_19={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_27_19={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_14_21={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_23_21={B1^SET(FALSE);}
SZWIESZANIEWYJATKI:ONBRUTALCHANGED^3_24_21={B1^SET(FALSE);}

OBJECT=ISEQPRIORITY
ISEQPRIORITY:TYPE=INTEGER
ISEQPRIORITY:VALUE=-1
ISEQPRIORITY:ONCHANGED^-1={SSEQNAME^SET(NULL);SSEQEVENT^SET(NULL);}

OBJECT=SSEQNAME
SSEQNAME:TYPE=STRING

OBJECT=SSEQEVENT
SSEQEVENT:TYPE=STRING

OBJECT=ITIMER
ITIMER:TYPE=INTEGER
ITIMER:VALUE=0
ITIMER:ONCHANGED^500={ITIMER^SET(0);@IF("BWLAZI","_","FALSE","BFITMP4","BFITMP5");}

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=IILOSCFLAM
IILOSCFLAM:TYPE=INTEGER
IILOSCFLAM:VALUE=0

OBJECT=IFLAMETIMER
IFLAMETIMER:TYPE=INTEGER
IFLAMETIMER:VALUE=0

OBJECT=IRZEDOWBELEK
IRZEDOWBELEK:TYPE=INTEGER
IRZEDOWBELEK:VALUE=0

OBJECT=ICOLLBELKASEL
ICOLLBELKASEL:TYPE=INTEGER
ICOLLBELKASEL:VALUE=-1

OBJECT=SCOLLBELKASEL
SCOLLBELKASEL:TYPE=STRING
SCOLLBELKASEL:VALUE=NULL
SCOLLBELKASEL:ONCHANGED^NULL={I1^SET(I1);}
SCOLLBELKASEL:ONCHANGED={BLOCKKRET^SET(TRUE);BWLAZI^SET(FALSE);SDIRX^SET(NULL);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);ANNKRET^PLAY("SPADA");BEHSEQPLAY^RUN("SEQKRET","SPADA",5);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+300]);IKRETPOSMAPAY^SUB(1000);}

OBJECT=ICOLLENEMYSEL
ICOLLENEMYSEL:TYPE=INTEGER
ICOLLENEMYSEL:VALUE=-1

OBJECT=SCOLLENEMYSEL
SCOLLENEMYSEL:TYPE=STRING
SCOLLENEMYSEL:VALUE=NULL
SCOLLENEMYSEL:ONCHANGED^NULL={I1^SET(I1);}
SCOLLENEMYSEL:ONCHANGED={BLOCKKRET^SET(TRUE);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);@IF("ILEVEL","<","3","BFITMP6","BFITMP7");}

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=IKRETPOSX
IKRETPOSX:TYPE=INTEGER
IKRETPOSX:VALUE=0
IKRETPOSX:ONCHANGED={IKRETPOSMAPAX^SET([IKRETPOSX@75]);}

OBJECT=IKRETPOSY
IKRETPOSY:TYPE=INTEGER
IKRETPOSY:VALUE=0

OBJECT=IKRETPOSMAPAX
IKRETPOSMAPAX:TYPE=INTEGER
IKRETPOSMAPAX:VALUE=0

OBJECT=IKRETPOSMAPAY
IKRETPOSMAPAY:TYPE=INTEGER
IKRETPOSMAPAY:VALUE=0

OBJECT=IKRETMOVEONMAPAX
IKRETMOVEONMAPAX:TYPE=INTEGER
IKRETMOVEONMAPAX:VALUE=0

OBJECT=IKRETMOVEX
IKRETMOVEX:TYPE=INTEGER
IKRETMOVEX:VALUE=0

OBJECT=IKRETMOVEY
IKRETMOVEY:TYPE=INTEGER
IKRETMOVEY:VALUE=0

OBJECT=IKRETSPEED
IKRETSPEED:TYPE=INTEGER
IKRETSPEED:VALUE=5

OBJECT=IKRETWIDTH
IKRETWIDTH:TYPE=INTEGER
IKRETWIDTH:VALUE=25

OBJECT=SDIRX
SDIRX:TYPE=STRING
SDIRX:VALUE=NULL
SDIRX:ONBRUTALCHANGED^L={IKRETMOVEX^SET([0-IKRETSPEED]);ANNKRET^PLAY("L");@IF("ILEVEL","<","3","BFITMP10","BFITMP11");}
SDIRX:ONBRUTALCHANGED^R={IKRETMOVEX^SET(IKRETSPEED);ANNKRET^PLAY("R");@IF("ILEVEL","<","3","BFITMP14","BFITMP15");}
SDIRX:ONBRUTALCHANGED={IKRETMOVEX^SET(0);ANNKRET^STOP(FALSE);ANNKRET^SETFRAME([SDIRXREM+"_IDLE"],0);SFX_WALK_KRET_PARYZ^STOP(FALSE);SFX_WALK_REX_NAUTILUS^STOP(FALSE);}

OBJECT=SDIRXREM
SDIRXREM:TYPE=STRING
SDIRXREM:VALUE=R
SDIRXREM:ONBRUTALCHANGED={SWLAZI^SET(SDIRXREM);}

OBJECT=BWLAZI
BWLAZI:TYPE=BOOL
BWLAZI:VALUE=FALSE

OBJECT=SWLAZI
SWLAZI:TYPE=STRING
SWLAZI:VALUE=R
SWLAZI:ONBRUTALCHANGED^LU={@IF("ILEVEL","<","3","BFITMP16","");}
SWLAZI:ONBRUTALCHANGED^RU={@IF("ILEVEL","<","3","BFITMP17","");}
SWLAZI:ONBRUTALCHANGED^LD={@IF("ILEVEL","<","3","BFITMP18","");}
SWLAZI:ONBRUTALCHANGED^RD={@IF("ILEVEL","<","3","BFITMP19","");}

OBJECT=IKRETMOVEON
IKRETMOVEON:TYPE=INTEGER
IKRETMOVEON:ONBRUTALCHANGED^0={IKRETMOVEX^SET(0);SKRETMOVEON^SET("");SDIRX^SET(NULL);}

OBJECT=SKRETMOVEON
SKRETMOVEON:TYPE=STRING
SKRETMOVEON:ONCHANGED={IKRETMOVEON^SET(ARRMAPA^GET(IKRETMOVEONMAPAX,IKRETPOSMAPAY));}
SKRETMOVEON:ONCHANGED^1_18_0={BLOCKKRET^SET(TRUE);ANNRUNNERGAME^STOP(FALSE);GSAVE^SET("SCENE_NAME","EIFELTOWER");GSAVE^SET("EIFEL_LEVEL",2);BEHSEQPLAY^RUN("SEQKRET","FINAL1",10);}
SKRETMOVEON:ONCHANGED^2_12_1={BLOCKKRET^SET(TRUE);ANNRUNNERGAME^STOP(FALSE);GSAVE^SET("EIFEL_STATUS","UKONCZONY");GSAVE^SET("SCENE_CODE","CWEK");GSAVE^SET("SCENE_NAME","CUTSCENKI");GSAVE^SET("CS_SCENE_NAME","03_WE_KRET");BEHGOTOSCENE^RUN();}
SKRETMOVEON:ONCHANGED^3_20_9={BLOCKKRET^SET(TRUE);ANNKRET^STOP(FALSE);ANNRUNNERGAME^STOP(FALSE);GSAVE^SET("NAUTILUS_STATUS","UKONCZONY");GSAVE^SET("SCENE_CODE","CNEM");GSAVE^SET("SCENE_NAME","CUTSCENKI");GSAVE^SET("CS_SCENE_NAME","04_NEMO");BEHGOTOSCENE^RUN();}

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=IBKGPOSX
IBKGPOSX:TYPE=INTEGER
IBKGPOSX:VALUE=0

OBJECT=IBKGPOSY
IBKGPOSY:TYPE=INTEGER
IBKGPOSY:VALUE=0

OBJECT=IBKGPOSLASTX
IBKGPOSLASTX:TYPE=INTEGER
IBKGPOSLASTX:VALUE=0

OBJECT=IBKGPOSLASTY
IBKGPOSLASTY:TYPE=INTEGER
IBKGPOSLASTY:VALUE=0

OBJECT=IBKGMOVEX
IBKGMOVEX:TYPE=INTEGER
IBKGMOVEX:VALUE=0

OBJECT=IBKGMOVEY
IBKGMOVEY:TYPE=INTEGER
IBKGMOVEY:VALUE=0

OBJECT=IBKGSIZEPXX
IBKGSIZEPXX:TYPE=INTEGER
IBKGSIZEPXX:VALUE=0

OBJECT=IBKGSIZEPXY
IBKGSIZEPXY:TYPE=INTEGER
IBKGSIZEPXY:VALUE=0

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=DFACTORX
DFACTORX:TYPE=DOUBLE

OBJECT=DFACTORY
DFACTORY:TYPE=DOUBLE

OBJECT=DFACTOR1PLANX
DFACTOR1PLANX:TYPE=DOUBLE

OBJECT=DFACTOR1PLANY
DFACTOR1PLANY:TYPE=DOUBLE

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=IPLANPOSX
IPLANPOSX:TYPE=INTEGER
IPLANPOSX:VALUE=0

OBJECT=IPLANPOSY
IPLANPOSY:TYPE=INTEGER
IPLANPOSY:VALUE=0

OBJECT=IPLANMOVEX
IPLANMOVEX:TYPE=INTEGER
IPLANMOVEX:VALUE=0

OBJECT=IPLANMOVEY
IPLANMOVEY:TYPE=INTEGER
IPLANMOVEY:VALUE=0

OBJECT=IPLANSIZEPXX
IPLANSIZEPXX:TYPE=INTEGER
IPLANSIZEPXX:VALUE=0

OBJECT=IPLANSIZEPXY
IPLANSIZEPXY:TYPE=INTEGER
IPLANSIZEPXY:VALUE=0

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=I1PLANPOSX
I1PLANPOSX:TYPE=INTEGER
I1PLANPOSX:VALUE=0

OBJECT=I1PLANPOSY
I1PLANPOSY:TYPE=INTEGER
I1PLANPOSY:VALUE=0

OBJECT=I1PLANPOSLASTX
I1PLANPOSLASTX:TYPE=INTEGER
I1PLANPOSLASTX:VALUE=0

OBJECT=I1PLANPOSLASTY
I1PLANPOSLASTY:TYPE=INTEGER
I1PLANPOSLASTY:VALUE=0

OBJECT=I1PLANMOVEX
I1PLANMOVEX:TYPE=INTEGER
I1PLANMOVEX:VALUE=0

OBJECT=I1PLANMOVEY
I1PLANMOVEY:TYPE=INTEGER
I1PLANMOVEY:VALUE=0

OBJECT=I1PLANSIZEPXX
I1PLANSIZEPXX:TYPE=INTEGER
I1PLANSIZEPXX:VALUE=0

OBJECT=I1PLANSIZEPXY
I1PLANSIZEPXY:TYPE=INTEGER
I1PLANSIZEPXY:VALUE=0

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=IMAPASIZEX
IMAPASIZEX:TYPE=INTEGER
IMAPASIZEX:VALUE=0

OBJECT=IMAPASIZEY
IMAPASIZEY:TYPE=INTEGER
IMAPASIZEY:VALUE=0

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=ITELE0POSX
ITELE0POSX:TYPE=INTEGER
ITELE0POSX:VALUE=0

OBJECT=ITELE0POSY
ITELE0POSY:TYPE=INTEGER
ITELE0POSY:VALUE=0

OBJECT=ITELE1POSX
ITELE1POSX:TYPE=INTEGER
ITELE1POSX:VALUE=0

OBJECT=ITELE1POSY
ITELE1POSY:TYPE=INTEGER
ITELE1POSY:VALUE=0

OBJECT=ITELE2POSX
ITELE2POSX:TYPE=INTEGER
ITELE2POSX:VALUE=0

OBJECT=ITELE2POSY
ITELE2POSY:TYPE=INTEGER
ITELE2POSY:VALUE=0

OBJECT=ITELE3POSX
ITELE3POSX:TYPE=INTEGER
ITELE3POSX:VALUE=0

OBJECT=ITELE3POSY
ITELE3POSY:TYPE=INTEGER
ITELE3POSY:VALUE=0

OBJECT=ITELE4POSX
ITELE4POSX:TYPE=INTEGER
ITELE4POSX:VALUE=0

OBJECT=ITELE4POSY
ITELE4POSY:TYPE=INTEGER
ITELE4POSY:VALUE=0

OBJECT=ITELE5POSX
ITELE5POSX:TYPE=INTEGER
ITELE5POSX:VALUE=0

OBJECT=ITELE5POSY
ITELE5POSY:TYPE=INTEGER
ITELE5POSY:VALUE=0

OBJECT=BCANGETTELE0
BCANGETTELE0:TYPE=BOOL
BCANGETTELE0:VALUE=TRUE

OBJECT=BCANGETTELE1
BCANGETTELE1:TYPE=BOOL
BCANGETTELE1:VALUE=TRUE

OBJECT=BCANGETTELE2
BCANGETTELE2:TYPE=BOOL
BCANGETTELE2:VALUE=TRUE

OBJECT=BCANGETTELE3
BCANGETTELE3:TYPE=BOOL
BCANGETTELE3:VALUE=TRUE

OBJECT=BCANGETTELE4
BCANGETTELE4:TYPE=BOOL
BCANGETTELE4:VALUE=TRUE

OBJECT=BCANGETTELE5
BCANGETTELE5:TYPE=BOOL
BCANGETTELE5:VALUE=TRUE

OBJECT=BCANOFFTELE0
BCANOFFTELE0:TYPE=BOOL
BCANOFFTELE0:VALUE=FALSE

OBJECT=BCANOFFTELE1
BCANOFFTELE1:TYPE=BOOL
BCANOFFTELE1:VALUE=FALSE

OBJECT=BCANOFFTELE2
BCANOFFTELE2:TYPE=BOOL
BCANOFFTELE2:VALUE=FALSE

OBJECT=BCANOFFTELE3
BCANOFFTELE3:TYPE=BOOL
BCANOFFTELE3:VALUE=FALSE

OBJECT=BCANOFFTELE4
BCANOFFTELE4:TYPE=BOOL
BCANOFFTELE4:VALUE=FALSE

OBJECT=BCANOFFTELE5
BCANOFFTELE5:TYPE=BOOL
BCANOFFTELE5:VALUE=FALSE

OBJECT=BONTELE0
BONTELE0:TYPE=BOOL
BONTELE0:VALUE=FALSE

OBJECT=BONTELE1
BONTELE1:TYPE=BOOL
BONTELE1:VALUE=FALSE

OBJECT=BONTELE2
BONTELE2:TYPE=BOOL
BONTELE2:VALUE=FALSE

OBJECT=BONTELE3
BONTELE3:TYPE=BOOL
BONTELE3:VALUE=FALSE

OBJECT=BONTELE4
BONTELE4:TYPE=BOOL
BONTELE4:VALUE=FALSE

OBJECT=BONTELE5
BONTELE5:TYPE=BOOL
BONTELE5:VALUE=FALSE

OBJECT=STELEACTIONSEL
STELEACTIONSEL:TYPE=STRING
STELEACTIONSEL:ONBRUTALCHANGED^LG1_0={@IF("BCANGETTELE0'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP22","BFITMP23");}
STELEACTIONSEL:ONBRUTALCHANGED^RG1_0={@IF("BCANGETTELE0'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP26","BFITMP27");}
STELEACTIONSEL:ONBRUTALCHANGED^LD1_0={@IF("BLOCKKRET'TRUE&&BONTELE0'TRUE","BFITMP28","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD1_0={@IF("BLOCKKRET'TRUE&&BONTELE0'TRUE","BFITMP29","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG1_1={@IF("BCANGETTELE1'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP32","BFITMP33");}
STELEACTIONSEL:ONBRUTALCHANGED^RG1_1={@IF("BCANGETTELE1'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP36","BFITMP37");}
STELEACTIONSEL:ONBRUTALCHANGED^LD1_1={@IF("BLOCKKRET'TRUE&&BONTELE1'TRUE","BFITMP38","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD1_1={@IF("BLOCKKRET'TRUE&&BONTELE1'TRUE","BFITMP39","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG2_0={@IF("BCANGETTELE0'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP42","BFITMP43");}
STELEACTIONSEL:ONBRUTALCHANGED^RG2_0={@IF("BCANGETTELE0'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP46","BFITMP47");}
STELEACTIONSEL:ONBRUTALCHANGED^LD2_0={@IF("BLOCKKRET'TRUE&&BONTELE0'TRUE","BFITMP48","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD2_0={@IF("BLOCKKRET'TRUE&&BONTELE0'TRUE","BFITMP49","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG2_1={@IF("BCANGETTELE1'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP52","BFITMP53");}
STELEACTIONSEL:ONBRUTALCHANGED^RG2_1={@IF("BCANGETTELE1'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP56","BFITMP57");}
STELEACTIONSEL:ONBRUTALCHANGED^LD2_1={@IF("BLOCKKRET'TRUE&&BONTELE1'TRUE","BFITMP58","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD2_1={@IF("BLOCKKRET'TRUE&&BONTELE1'TRUE","BFITMP59","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG2_2={@IF("BCANGETTELE2'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP62","BFITMP63");}
STELEACTIONSEL:ONBRUTALCHANGED^RG2_2={@IF("BCANGETTELE2'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP66","BFITMP67");}
STELEACTIONSEL:ONBRUTALCHANGED^LD2_2={@IF("BLOCKKRET'TRUE&&BONTELE2'TRUE","BFITMP68","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD2_2={@IF("BLOCKKRET'TRUE&&BONTELE2'TRUE","BFITMP69","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG2_3={@IF("BCANGETTELE3'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP72","BFITMP73");}
STELEACTIONSEL:ONBRUTALCHANGED^RG2_3={@IF("BCANGETTELE3'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP76","BFITMP77");}
STELEACTIONSEL:ONBRUTALCHANGED^LD2_3={@IF("BLOCKKRET'TRUE&&BONTELE3'TRUE","BFITMP78","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD2_3={@IF("BLOCKKRET'TRUE&&BONTELE3'TRUE","BFITMP79","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG2_4={@IF("BCANGETTELE4'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP82","BFITMP83");}
STELEACTIONSEL:ONBRUTALCHANGED^RG2_4={@IF("BCANGETTELE4'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP86","BFITMP87");}
STELEACTIONSEL:ONBRUTALCHANGED^LD2_4={@IF("BLOCKKRET'TRUE&&BONTELE4'TRUE","BFITMP88","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD2_4={@IF("BLOCKKRET'TRUE&&BONTELE4'TRUE","BFITMP89","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG2_5={@IF("BCANGETTELE5'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP92","BFITMP93");}
STELEACTIONSEL:ONBRUTALCHANGED^RG2_5={@IF("BCANGETTELE5'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP96","BFITMP97");}
STELEACTIONSEL:ONBRUTALCHANGED^LD2_5={@IF("BLOCKKRET'TRUE&&BONTELE5'TRUE","BFITMP98","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD2_5={@IF("BLOCKKRET'TRUE&&BONTELE5'TRUE","BFITMP99","");}
STELEACTIONSEL:ONBRUTALCHANGED^LG3_0={@IF("BCANGETTELE0'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP102","BFITMP103");}
STELEACTIONSEL:ONBRUTALCHANGED^RG3_0={@IF("BCANGETTELE0'TRUE&&ANNKRET^ISPLAYING()'FALSE","BFITMP106","BFITMP107");}
STELEACTIONSEL:ONBRUTALCHANGED^LD3_0={@IF("BLOCKKRET'TRUE&&BONTELE0'TRUE","BFITMP108","");}
STELEACTIONSEL:ONBRUTALCHANGED^RD3_0={@IF("BLOCKKRET'TRUE&&BONTELE0'TRUE","BFITMP109","");}

OBJECT=SKRETTELEIS
SKRETTELEIS:TYPE=STRING
SKRETTELEIS:ONBRUTALCHANGED^3_25_3={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_2_17={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_2_19={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_6_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_8_19={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_12_13={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_7_3={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_15_13={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_14_21={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_23_15={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_14_11={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_3_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_11_5={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_14_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_12_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_16_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_18_5={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_13_5={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_13_1={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_23_5={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_24_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_11_21={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_9_21={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_5_5={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_6_17={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_29_15={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_29_17={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_29_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_29_11={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_20_13={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_15_1={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_15_5={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_13_9={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_15_9={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_12_17={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_17_1={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_19_1={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_17_7={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_11_1={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_13_19={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_25_11={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^3_22_13={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED^NULL={I1^SET(I1);}
SKRETTELEIS:ONBRUTALCHANGED={SKRETTELEIS^SET(NULL);}

OBJECT=SKRETTELESEL
SKRETTELESEL:TYPE=STRING
SKRETTELESEL:ONBRUTALCHANGED^3_25_3={IKRETPOSMAPAX^SET(11);IKRETPOSMAPAY^SET(21);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_2_17={IKRETPOSMAPAX^SET(9);IKRETPOSMAPAY^SET(21);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_2_19={IKRETPOSMAPAX^SET(5);IKRETPOSMAPAY^SET(5);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_6_7={IKRETPOSMAPAX^SET(6);IKRETPOSMAPAY^SET(17);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_8_19={IKRETPOSMAPAX^SET(29);IKRETPOSMAPAY^SET(15);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_12_13={IKRETPOSMAPAX^SET(29);IKRETPOSMAPAY^SET(17);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_7_3={IKRETPOSMAPAX^SET(29);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_15_13={IKRETPOSMAPAX^SET(29);IKRETPOSMAPAY^SET(11);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_14_21={IKRETPOSMAPAX^SET(20);IKRETPOSMAPAY^SET(13);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_23_15={IKRETPOSMAPAX^SET(15);IKRETPOSMAPAY^SET(1);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_14_11={IKRETPOSMAPAX^SET(15);IKRETPOSMAPAY^SET(5);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_3_7={IKRETPOSMAPAX^SET(13);IKRETPOSMAPAY^SET(9);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_11_5={IKRETPOSMAPAX^SET(15);IKRETPOSMAPAY^SET(9);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_14_7={IKRETPOSMAPAX^SET(12);IKRETPOSMAPAY^SET(17);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_12_7={IKRETPOSMAPAX^SET(17);IKRETPOSMAPAY^SET(1);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_16_7={IKRETPOSMAPAX^SET(19);IKRETPOSMAPAY^SET(1);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_18_5={IKRETPOSMAPAX^SET(17);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_13_5={IKRETPOSMAPAX^SET(11);IKRETPOSMAPAY^SET(1);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_13_1={IKRETPOSMAPAX^SET(13);IKRETPOSMAPAY^SET(19);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_23_5={IKRETPOSMAPAX^SET(25);IKRETPOSMAPAY^SET(11);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_24_7={IKRETPOSMAPAX^SET(22);IKRETPOSMAPAY^SET(13);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_11_21={IKRETPOSMAPAX^SET(25);IKRETPOSMAPAY^SET(3);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_9_21={IKRETPOSMAPAX^SET(2);IKRETPOSMAPAY^SET(17);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_5_5={IKRETPOSMAPAX^SET(2);IKRETPOSMAPAY^SET(19);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_6_17={IKRETPOSMAPAX^SET(6);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_29_15={IKRETPOSMAPAX^SET(8);IKRETPOSMAPAY^SET(19);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_29_17={IKRETPOSMAPAX^SET(12);IKRETPOSMAPAY^SET(13);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_29_7={IKRETPOSMAPAX^SET(7);IKRETPOSMAPAY^SET(3);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_29_11={IKRETPOSMAPAX^SET(15);IKRETPOSMAPAY^SET(13);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_20_13={IKRETPOSMAPAX^SET(14);IKRETPOSMAPAY^SET(21);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_15_1={IKRETPOSMAPAX^SET(23);IKRETPOSMAPAY^SET(15);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_15_5={IKRETPOSMAPAX^SET(14);IKRETPOSMAPAY^SET(11);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_13_9={IKRETPOSMAPAX^SET(3);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_15_9={IKRETPOSMAPAX^SET(11);IKRETPOSMAPAY^SET(5);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_12_17={IKRETPOSMAPAX^SET(14);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_17_1={IKRETPOSMAPAX^SET(12);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_19_1={IKRETPOSMAPAX^SET(16);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_17_7={IKRETPOSMAPAX^SET(18);IKRETPOSMAPAY^SET(5);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_11_1={IKRETPOSMAPAX^SET(13);IKRETPOSMAPAY^SET(5);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_13_19={IKRETPOSMAPAX^SET(13);IKRETPOSMAPAY^SET(1);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_25_11={IKRETPOSMAPAX^SET(23);IKRETPOSMAPAY^SET(5);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}
SKRETTELESEL:ONBRUTALCHANGED^3_22_13={IKRETPOSMAPAX^SET(24);IKRETPOSMAPAY^SET(7);IKRETPOSX^SET([[IKRETPOSMAPAX*75]+IKRETWIDTH]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);}

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=BLOCKKRET
BLOCKKRET:TYPE=BOOL
BLOCKKRET:VALUE=FALSE

OBJECT=ANNKRET
ANNKRET:TYPE=ANIMO
ANNKRET:VISIBLE=TRUE
ANNKRET:FILENAME=1_KRET.ANN
ANNKRET:TOCANVAS=TRUE
ANNKRET:PRIORITY=25
ANNKRET:FPS=32
ANNKRET:PRELOAD=TRUE
ANNKRET:RELEASE=TRUE
ANNKRET:MONITORCOLLISION=FALSE
ANNKRET:MONITORCOLLISIONALPHA=FALSE
ANNKRET:ONSTARTED^SPADA={BEHSFXPLAY^RUN("SFX_BUDOWA_SPADA");}
ANNKRET:ONFINISHED^LUU={IKRETPOSY^SUB(150);ANNKRET^MOVE(0,-150);SDIRXREM^SET("R");ANNKRET^PLAY("R_IDLE");BWLAZI^SET(FALSE);SKRETMOVEON^SET([""+ILEVEL+"_"+IKRETPOSMAPAX+"_"+IKRETPOSMAPAY]);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^RUU={IKRETPOSY^SUB(150);ANNKRET^MOVE(0,-150);SDIRXREM^SET("L");ANNKRET^PLAY("L_IDLE");BWLAZI^SET(FALSE);SKRETMOVEON^SET([""+ILEVEL+"_"+IKRETPOSMAPAX+"_"+IKRETPOSMAPAY]);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^LDD={IKRETPOSY^ADD(150);ANNKRET^MOVE(0,150);SDIRXREM^SET("R");ANNKRET^PLAY("R_IDLE");BWLAZI^SET(FALSE);SKRETMOVEON^SET([""+ILEVEL+"_"+IKRETPOSMAPAX+"_"+IKRETPOSMAPAY]);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^RDD={IKRETPOSY^ADD(150);ANNKRET^MOVE(0,150);SDIRXREM^SET("L");ANNKRET^PLAY("L_IDLE");BWLAZI^SET(FALSE);SKRETMOVEON^SET([""+ILEVEL+"_"+IKRETPOSMAPAX+"_"+IKRETPOSMAPAY]);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^LUD={SDIRXREM^SET("L");ANNKRET^PLAY("L_IDLE");BWLAZI^SET(FALSE);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^RUD={SDIRXREM^SET("R");ANNKRET^PLAY("R_IDLE");BWLAZI^SET(FALSE);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^LDU={SDIRXREM^SET("L");ANNKRET^PLAY("L_IDLE");BWLAZI^SET(FALSE);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^RDU={SDIRXREM^SET("R");ANNKRET^PLAY("R_IDLE");BWLAZI^SET(FALSE);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^SPADA={IKRETPOSMAPAY^ADD(2);I1^SET(ARRMAPA^GET([IKRETPOSX@75],[IKRETPOSMAPAY+1001]));@IF("I1","_","1","BFITMP110","BFITMP111");}
ANNKRET:ONFINISHED^SPADA_DALEJ={IKRETPOSMAPAY^ADD(2);I1^SET(ARRMAPA^GET([IKRETPOSX@75],[IKRETPOSMAPAY+1001]));@IF("I1","_","1","BFITMP112","BFITMP113");}
ANNKRET:ONSTARTED^LU={BEHSEQPLAY^RUN("SEQKRET","U",5);}
ANNKRET:ONSTARTED^RU={BEHSEQPLAY^RUN("SEQKRET","U",5);}
ANNKRET:ONSTARTED^LUU={BEHSEQPLAY^RUN("SEQKRET","UU",5);}
ANNKRET:ONSTARTED^RUU={BEHSEQPLAY^RUN("SEQKRET","UU",5);}
ANNKRET:ONSTARTED^LDU={BEHSEQPLAY^RUN("SEQKRET","UU",5);}
ANNKRET:ONSTARTED^RDU={BEHSEQPLAY^RUN("SEQKRET","UU",5);}
ANNKRET:ONSTARTED^LD={BEHSEQPLAY^RUN("SEQKRET","D",5);}
ANNKRET:ONSTARTED^RD={BEHSEQPLAY^RUN("SEQKRET","D",5);}
ANNKRET:ONSTARTED^LDD={BEHSEQPLAY^RUN("SEQKRET","DD",5);}
ANNKRET:ONSTARTED^RDD={BEHSEQPLAY^RUN("SEQKRET","DD",5);}
ANNKRET:ONSTARTED^LUD={BEHSEQPLAY^RUN("SEQKRET","DD",5);}
ANNKRET:ONSTARTED^RUD={BEHSEQPLAY^RUN("SEQKRET","DD",5);}
ANNKRET:ONFRAMECHANGED^L={@IF("ISEQPRIORITY","_","-1","BFITMP115","");}
ANNKRET:ONFRAMECHANGED^R={@IF("ISEQPRIORITY","_","-1","BFITMP117","");}
ANNKRET:ONFINISHED^WCHODZI={SKRETTELESEL^SET([""+ILEVEL+"_"+IKRETPOSMAPAX+"_"+IKRETPOSMAPAY]);}
ANNKRET:ONFINISHED^WYCHODZI={SFX_WALK_REX_NAUTILUS_RURA^STOP(FALSE);BLOCKKRET^SET(FALSE);ANNKRET^PLAY([SDIRXREM+"_IDLE"]);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^WLOT={BEHENEMYODSYLA^RUN();ANNKRET^PLAY("WYLOT");}
ANNKRET:ONFINISHED^WYLOT={BLOCKKRET^SET(FALSE);ANNKRET^PLAY([SDIRXREM+"_IDLE"]);BEHCHECKKEYBOARD^RUN();}

OBJECT=ANNRUNNERGAME
ANNRUNNERGAME:TYPE=ANIMO
ANNRUNNERGAME:VISIBLE=TRUE
ANNRUNNERGAME:FILENAME=RUNNER_GAME.ANN
ANNRUNNERGAME:TOCANVAS=TRUE
ANNRUNNERGAME:PRIORITY=0
ANNRUNNERGAME:FPS=32
ANNRUNNERGAME:PRELOAD=TRUE
ANNRUNNERGAME:RELEASE=TRUE
ANNRUNNERGAME:MONITORCOLLISION=FALSE
ANNRUNNERGAME:MONITORCOLLISIONALPHA=FALSE
ANNRUNNERGAME:ONFRAMECHANGED={@IF("SDIRX","_",""L"","BFITMP118","");@IF("SDIRX","_",""R"","BFITMP119","");IKRETPOSX^ADD(IKRETMOVEX);BEHELAPSEGFX^RUN();ITIMER^INC();}

OBJECT=ANNMINIMAPA
ANNMINIMAPA:TYPE=ANIMO
ANNMINIMAPA:VISIBLE=FALSE
ANNMINIMAPA:FILENAME=1_MINIMAPA.ANN
ANNMINIMAPA:TOCANVAS=TRUE
ANNMINIMAPA:PRIORITY=13
ANNMINIMAPA:FPS=16
ANNMINIMAPA:PRELOAD=TRUE
ANNMINIMAPA:RELEASE=TRUE
ANNMINIMAPA:MONITORCOLLISION=FALSE
ANNMINIMAPA:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNBELKA
ANNBELKA:TYPE=ANIMO
ANNBELKA:VISIBLE=TRUE
ANNBELKA:FILENAME=1_BELKA.ANN
ANNBELKA:TOCANVAS=TRUE
ANNBELKA:PRIORITY=10
ANNBELKA:FPS=16
ANNBELKA:PRELOAD=TRUE
ANNBELKA:RELEASE=TRUE
ANNBELKA:MONITORCOLLISION=FALSE
ANNBELKA:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNFLAME
ANNFLAME:TYPE=ANIMO
ANNFLAME:VISIBLE=TRUE
ANNFLAME:FILENAME=3_FLAME.ANN
ANNFLAME:TOCANVAS=TRUE
ANNFLAME:PRIORITY=110
ANNFLAME:FPS=16
ANNFLAME:PRELOAD=TRUE
ANNFLAME:RELEASE=TRUE
ANNFLAME:MONITORCOLLISION=FALSE
ANNFLAME:MONITORCOLLISIONALPHA=FALSE
ANNFLAME:ONFRAMECHANGED^BUM={I1^SET(THIS^GETCLONEINDEX());@IF("IKRETPOSMAPAY","_",ARRFLAMESY^GET(I1),"BFITMP121","");}

OBJECT=ANNPLANNAK
ANNPLANNAK:TYPE=ANIMO
ANNPLANNAK:VISIBLE=TRUE
ANNPLANNAK:FILENAME=1_0PLAN_NAK.ANN
ANNPLANNAK:TOCANVAS=TRUE
ANNPLANNAK:PRIORITY=15
ANNPLANNAK:FPS=16
ANNPLANNAK:PRELOAD=TRUE
ANNPLANNAK:RELEASE=TRUE
ANNPLANNAK:MONITORCOLLISION=FALSE
ANNPLANNAK:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANN1PLAN
ANN1PLAN:TYPE=ANIMO
ANN1PLAN:VISIBLE=TRUE
ANN1PLAN:FILENAME=1_1PLAN.ANN
ANN1PLAN:TOCANVAS=TRUE
ANN1PLAN:PRIORITY=100
ANN1PLAN:FPS=16
ANN1PLAN:PRELOAD=TRUE
ANN1PLAN:RELEASE=TRUE
ANN1PLAN:MONITORCOLLISION=FALSE
ANN1PLAN:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNTELEPORT0
ANNTELEPORT0:TYPE=ANIMO
ANNTELEPORT0:VISIBLE=TRUE
ANNTELEPORT0:FILENAME=1_TELE0.ANN
ANNTELEPORT0:TOCANVAS=TRUE
ANNTELEPORT0:PRIORITY=20
ANNTELEPORT0:FPS=16
ANNTELEPORT0:PRELOAD=TRUE
ANNTELEPORT0:RELEASE=TRUE
ANNTELEPORT0:MONITORCOLLISION=FALSE
ANNTELEPORT0:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT0:ONFRAMECHANGED^LEFT_GET={STELEACTIONSEL^SET(["LG"+ILEVEL+"_0"]);}
ANNTELEPORT0:ONFRAMECHANGED^RIGHT_GET={STELEACTIONSEL^SET(["RG"+ILEVEL+"_0"]);}
ANNTELEPORT0:ONFRAMECHANGED^LEFT_DROP={STELEACTIONSEL^SET(["LD"+ILEVEL+"_0"]);}
ANNTELEPORT0:ONFRAMECHANGED^RIGHT_DROP={STELEACTIONSEL^SET(["RD"+ILEVEL+"_0"]);}

OBJECT=ANNTELEPORT1
ANNTELEPORT1:TYPE=ANIMO
ANNTELEPORT1:VISIBLE=TRUE
ANNTELEPORT1:FILENAME=1_TELE1.ANN
ANNTELEPORT1:TOCANVAS=TRUE
ANNTELEPORT1:PRIORITY=20
ANNTELEPORT1:FPS=16
ANNTELEPORT1:PRELOAD=TRUE
ANNTELEPORT1:RELEASE=TRUE
ANNTELEPORT1:MONITORCOLLISION=FALSE
ANNTELEPORT1:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT1:ONFRAMECHANGED^LEFT_GET={STELEACTIONSEL^SET(["LG"+ILEVEL+"_1"]);}
ANNTELEPORT1:ONFRAMECHANGED^RIGHT_GET={STELEACTIONSEL^SET(["RG"+ILEVEL+"_1"]);}
ANNTELEPORT1:ONFRAMECHANGED^LEFT_DROP={STELEACTIONSEL^SET(["LD"+ILEVEL+"_1"]);}
ANNTELEPORT1:ONFRAMECHANGED^RIGHT_DROP={STELEACTIONSEL^SET(["RD"+ILEVEL+"_1"]);}

OBJECT=ANNTELEPORT2
ANNTELEPORT2:TYPE=ANIMO
ANNTELEPORT2:VISIBLE=TRUE
ANNTELEPORT2:FILENAME=1_TELE2.ANN
ANNTELEPORT2:TOCANVAS=TRUE
ANNTELEPORT2:PRIORITY=20
ANNTELEPORT2:FPS=16
ANNTELEPORT2:PRELOAD=TRUE
ANNTELEPORT2:RELEASE=TRUE
ANNTELEPORT2:MONITORCOLLISION=FALSE
ANNTELEPORT2:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT2:ONFRAMECHANGED^LEFT_GET={STELEACTIONSEL^SET(["LG"+ILEVEL+"_2"]);}
ANNTELEPORT2:ONFRAMECHANGED^RIGHT_GET={STELEACTIONSEL^SET(["RG"+ILEVEL+"_2"]);}
ANNTELEPORT2:ONFRAMECHANGED^LEFT_DROP={STELEACTIONSEL^SET(["LD"+ILEVEL+"_2"]);}
ANNTELEPORT2:ONFRAMECHANGED^RIGHT_DROP={STELEACTIONSEL^SET(["RD"+ILEVEL+"_2"]);}

OBJECT=ANNTELEPORT3
ANNTELEPORT3:TYPE=ANIMO
ANNTELEPORT3:VISIBLE=TRUE
ANNTELEPORT3:FILENAME=1_TELE3.ANN
ANNTELEPORT3:TOCANVAS=TRUE
ANNTELEPORT3:PRIORITY=20
ANNTELEPORT3:FPS=16
ANNTELEPORT3:PRELOAD=TRUE
ANNTELEPORT3:RELEASE=TRUE
ANNTELEPORT3:MONITORCOLLISION=FALSE
ANNTELEPORT3:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT3:ONFRAMECHANGED^LEFT_GET={STELEACTIONSEL^SET(["LG"+ILEVEL+"_3"]);}
ANNTELEPORT3:ONFRAMECHANGED^RIGHT_GET={STELEACTIONSEL^SET(["RG"+ILEVEL+"_3"]);}
ANNTELEPORT3:ONFRAMECHANGED^LEFT_DROP={STELEACTIONSEL^SET(["LD"+ILEVEL+"_3"]);}
ANNTELEPORT3:ONFRAMECHANGED^RIGHT_DROP={STELEACTIONSEL^SET(["RD"+ILEVEL+"_3"]);}

OBJECT=ANNTELEPORT4
ANNTELEPORT4:TYPE=ANIMO
ANNTELEPORT4:VISIBLE=TRUE
ANNTELEPORT4:FILENAME=1_TELE4.ANN
ANNTELEPORT4:TOCANVAS=TRUE
ANNTELEPORT4:PRIORITY=20
ANNTELEPORT4:FPS=16
ANNTELEPORT4:PRELOAD=TRUE
ANNTELEPORT4:RELEASE=TRUE
ANNTELEPORT4:MONITORCOLLISION=FALSE
ANNTELEPORT4:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT4:ONFRAMECHANGED^LEFT_GET={STELEACTIONSEL^SET(["LG"+ILEVEL+"_4"]);}
ANNTELEPORT4:ONFRAMECHANGED^RIGHT_GET={STELEACTIONSEL^SET(["RG"+ILEVEL+"_4"]);}
ANNTELEPORT4:ONFRAMECHANGED^LEFT_DROP={STELEACTIONSEL^SET(["LD"+ILEVEL+"_4"]);}
ANNTELEPORT4:ONFRAMECHANGED^RIGHT_DROP={STELEACTIONSEL^SET(["RD"+ILEVEL+"_4"]);}

OBJECT=ANNTELEPORT5
ANNTELEPORT5:TYPE=ANIMO
ANNTELEPORT5:VISIBLE=TRUE
ANNTELEPORT5:FILENAME=1_TELE5.ANN
ANNTELEPORT5:TOCANVAS=TRUE
ANNTELEPORT5:PRIORITY=20
ANNTELEPORT5:FPS=16
ANNTELEPORT5:PRELOAD=TRUE
ANNTELEPORT5:RELEASE=TRUE
ANNTELEPORT5:MONITORCOLLISION=FALSE
ANNTELEPORT5:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT5:ONFRAMECHANGED^LEFT_GET={STELEACTIONSEL^SET(["LG"+ILEVEL+"_5"]);}
ANNTELEPORT5:ONFRAMECHANGED^RIGHT_GET={STELEACTIONSEL^SET(["RG"+ILEVEL+"_5"]);}
ANNTELEPORT5:ONFRAMECHANGED^LEFT_DROP={STELEACTIONSEL^SET(["LD"+ILEVEL+"_5"]);}
ANNTELEPORT5:ONFRAMECHANGED^RIGHT_DROP={STELEACTIONSEL^SET(["RD"+ILEVEL+"_5"]);}

OBJECT=ANNNEMO
ANNNEMO:TYPE=ANIMO
ANNNEMO:VISIBLE=FALSE
ANNNEMO:FILENAME=3_NEMO.ANN
ANNNEMO:TOCANVAS=TRUE
ANNNEMO:PRIORITY=110
ANNNEMO:FPS=16
ANNNEMO:PRELOAD=TRUE
ANNNEMO:RELEASE=TRUE
ANNNEMO:MONITORCOLLISION=FALSE
ANNNEMO:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGPLAN
IMGPLAN:TYPE=IMAGE
IMGPLAN:VISIBLE=TRUE
IMGPLAN:FILENAME=1_0PLAN.IMG
IMGPLAN:TOCANVAS=TRUE
IMGPLAN:PRIORITY=0
IMGPLAN:PRELOAD=TRUE
IMGPLAN:RELEASE=TRUE
IMGPLAN:MONITORCOLLISION=FALSE
IMGPLAN:MONITORCOLLISIONALPHA=FALSE

OBJECT=SEQKRET
SEQKRET:TYPE=SEQUENCE
SEQKRET:FILENAME=SEKRET.SEQ
SEQKRET:ONFINISHED^STRAZNIK1={ISEQPRIORITY^SET(-1);*SCOLLENEMYSEL^OPIER();BEHSEQPLAY^RUN("SEQKRET","STRAZNIK2",7);}
SEQKRET:ONFINISHED^STRAZNIK2={ISEQPRIORITY^SET(-1);BEHENEMYODSYLA^RUN();}
SEQKRET:ONFINISHED^FINAL1={BEHGOTOSCENE^RUN();}
SEQKRET:ONFINISHED={ISEQPRIORITY^SET(-1);}

OBJECT=SEQREX
SEQREX:TYPE=SEQUENCE
SEQREX:FILENAME=SEREX.SEQ
SEQREX:ONFINISHED={ISEQPRIORITY^SET(-1);}

OBJECT=GBKG
GBKG:TYPE=GROUP

OBJECT=G1PLAN
G1PLAN:TYPE=GROUP

OBJECT=GENEMIES
GENEMIES:TYPE=GROUP

OBJECT=GBELKI0
GBELKI0:TYPE=GROUP

OBJECT=GBELKI1
GBELKI1:TYPE=GROUP

OBJECT=GBELKI2
GBELKI2:TYPE=GROUP

OBJECT=GBELKI3
GBELKI3:TYPE=GROUP

OBJECT=GBELKI4
GBELKI4:TYPE=GROUP

OBJECT=GFLAMES
GFLAMES:TYPE=GROUP

OBJECT=BACH0
BACH0:TYPE=SOUND
BACH0:FILENAME=BACH0.WAV
BACH0:PRELOAD=TRUE
BACH0:FLUSHAFTERPLAYED=FALSE
BACH0:ONFINISHED={BACH1^PLAY();ANNKRET^PLAY("WYCHODZI");}

OBJECT=BACH1
BACH1:TYPE=SOUND
BACH1:FILENAME=BACH1.WAV
BACH1:PRELOAD=TRUE
BACH1:FLUSHAFTERPLAYED=FALSE
BACH1:ONFINISHED={BEHMUSICPLAY^RUN();ANNNEMO^PLAY("IDLE");}

OBJECT=BACH3
BACH3:TYPE=SOUND
BACH3:FILENAME=BACH3.WAV
BACH3:PRELOAD=TRUE
BACH3:FLUSHAFTERPLAYED=FALSE
BACH3:ONFINISHED={BEHMUSICPLAY^RUN();}

OBJECT=SFX_BUDOWA_WINDA
SFX_BUDOWA_WINDA:TYPE=SOUND
SFX_BUDOWA_WINDA:FILENAME=SFX_BUDOWA_WINDA.WAV
SFX_BUDOWA_WINDA:PRELOAD=TRUE
SFX_BUDOWA_WINDA:FLUSHAFTERPLAYED=FALSE
SFX_BUDOWA_WINDA:ONFINISHED={SFX_BUDOWA_WINDA^PLAY();}

OBJECT=SFX_BUDOWA_DZWIG
SFX_BUDOWA_DZWIG:TYPE=SOUND
SFX_BUDOWA_DZWIG:FILENAME=SFX_BUDOWA_DZWIG.WAV
SFX_BUDOWA_DZWIG:PRELOAD=TRUE
SFX_BUDOWA_DZWIG:FLUSHAFTERPLAYED=FALSE
SFX_BUDOWA_DZWIG:ONFINISHED={SFX_BUDOWA_DZWIG^PLAY();}

OBJECT=SFX_NEMO_WINDASTART
SFX_NEMO_WINDASTART:TYPE=SOUND
SFX_NEMO_WINDASTART:FILENAME=SFX_NEMO_WINDASTART.WAV
SFX_NEMO_WINDASTART:PRELOAD=TRUE
SFX_NEMO_WINDASTART:FLUSHAFTERPLAYED=FALSE
SFX_NEMO_WINDASTART:ONFINISHED={SFX_NEMO_WINDALOOP^PLAY();}

OBJECT=SFX_NEMO_WINDALOOP
SFX_NEMO_WINDALOOP:TYPE=SOUND
SFX_NEMO_WINDALOOP:FILENAME=SFX_NEMO_WINDALOOP.WAV
SFX_NEMO_WINDALOOP:PRELOAD=TRUE
SFX_NEMO_WINDALOOP:FLUSHAFTERPLAYED=FALSE
SFX_NEMO_WINDALOOP:ONFINISHED={SFX_NEMO_WINDALOOP^PLAY();}

OBJECT=SFX_NEMO_WINDASTOP
SFX_NEMO_WINDASTOP:TYPE=SOUND
SFX_NEMO_WINDASTOP:FILENAME=SFX_NEMO_WINDASTOP.WAV
SFX_NEMO_WINDASTOP:PRELOAD=TRUE
SFX_NEMO_WINDASTOP:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_WALK_KRET_PARYZ
SFX_WALK_KRET_PARYZ:TYPE=SOUND
SFX_WALK_KRET_PARYZ:FILENAME=SFX_WALK_KRET_PARYZ.WAV
SFX_WALK_KRET_PARYZ:PRELOAD=TRUE
SFX_WALK_KRET_PARYZ:FLUSHAFTERPLAYED=FALSE
SFX_WALK_KRET_PARYZ:ONFINISHED={SFX_WALK_KRET_PARYZ^PLAY();}

OBJECT=SFX_WALK_REX_NAUTILUS_RURA
SFX_WALK_REX_NAUTILUS_RURA:TYPE=SOUND
SFX_WALK_REX_NAUTILUS_RURA:FILENAME=SFX_WALK_REX_NAUTILUS_RURA.WAV
SFX_WALK_REX_NAUTILUS_RURA:PRELOAD=TRUE
SFX_WALK_REX_NAUTILUS_RURA:FLUSHAFTERPLAYED=FALSE
SFX_WALK_REX_NAUTILUS_RURA:ONFINISHED={SFX_WALK_REX_NAUTILUS_RURA^PLAY();}

OBJECT=SFX_WALK_REX_NAUTILUS
SFX_WALK_REX_NAUTILUS:TYPE=SOUND
SFX_WALK_REX_NAUTILUS:FILENAME=SFX_WALK_REX_NAUTILUS.WAV
SFX_WALK_REX_NAUTILUS:PRELOAD=TRUE
SFX_WALK_REX_NAUTILUS:FLUSHAFTERPLAYED=FALSE
SFX_WALK_REX_NAUTILUS:ONFINISHED={SFX_WALK_REX_NAUTILUS^PLAY();}

OBJECT=ARRPATH
ARRPATH:TYPE=ARRAY

OBJECT=ARRBELKISPEED
ARRBELKISPEED:TYPE=ARRAY

OBJECT=ARRBELKISTART
ARRBELKISTART:TYPE=ARRAY

OBJECT=ARRBELKIGESTOSC
ARRBELKIGESTOSC:TYPE=ARRAY

OBJECT=ARRBELKIMOVEDSOFAR
ARRBELKIMOVEDSOFAR:TYPE=ARRAY

OBJECT=ARRFLAMESX
ARRFLAMESX:TYPE=ARRAY

OBJECT=ARRFLAMESY
ARRFLAMESY:TYPE=ARRAY

OBJECT=ARRFLAMESDELAY
ARRFLAMESDELAY:TYPE=ARRAY

OBJECT=ARRFLAMESDIR
ARRFLAMESDIR:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=0

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=CLSEIFELENEMYOBJ
CLSEIFELENEMYOBJ:TYPE=CLASS
CLSEIFELENEMYOBJ:DEF=CLSEIFELENEMY.CLASS
CLSEIFELENEMYOBJ:BASE=

OBJECT=ARRMAPA
ARRMAPA:TYPE=MULTIARRAY
ARRMAPA:DIMENSIONS=2

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD
KEYBOARD:ONKEYDOWN^UP={@IF("BLOCKKRET","_","FALSE","BFITMP129","");}
KEYBOARD:ONKEYDOWN^DOWN={@IF("BLOCKKRET","_","FALSE","BFITMP135","");}
KEYBOARD:ONKEYDOWN^LEFT={@IF("BWLAZI'FALSE&&BLOCKKRET'FALSE","BFITMP136","");}
KEYBOARD:ONKEYDOWN^RIGHT={@IF("BWLAZI'FALSE&&BLOCKKRET'FALSE","BFITMP137","");}
KEYBOARD:ONKEYUP^LEFT={@IF("BWLAZI'FALSE&&BLOCKKRET'FALSE","BFITMP140","");}
KEYBOARD:ONKEYUP^RIGHT={@IF("BWLAZI'FALSE&&BLOCKKRET'FALSE","BFITMP143","");}
KEYBOARD:ONKEYDOWN^SPACE={@IF("BLOCKKRET'FALSE&&ANNKRET^ISPLAYING()'FALSE","BFITMP146","");}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={S1^SET(GSAVE^GET("EIFEL_LEVEL"));SLEVELSEL^SET([S1+SGAMEDIFFICULTY]);@IF("ILEVEL","_","3","BFITMP147","BFITMP148");BEHINITMAPA^RUN();ANNRUNNERGAME^PLAY("RUN");@IF("ILEVEL","<","3","BFITMP151","BFITMP152");BEHSEQPLAY^RUN("SEQKRET",["WSTEP"+ILEVEL],6);}


OBJECT=BEHINITMAPA
BEHINITMAPA:TYPE=BEHAVIOUR
BEHINITMAPA:CODE={@INT("ITMPX",0);@INT("ITMPY",0);@INT("ITMP0",0);@STRING("STMP0","");ARRPATH^REMOVEALL();ARRPATH^LOAD(["MAPA"+ILEVEL+".ARR"]);@IF(ARRPATH^GETSIZE(),">","0","BFITMP155","BFITMP156");}


OBJECT=BEHMOVEALLTOKRET
BEHMOVEALLTOKRET:TYPE=BEHAVIOUR
BEHMOVEALLTOKRET:CODE={@INT("ICENTERX",[400-IPLANPOSX]);@INT("ICENTERY",[300-IPLANPOSY]);@INT("IDELTAX",[ICENTERX-IKRETPOSX]);@INT("IDELTAY",[ICENTERY-IKRETPOSY]);@IF([IPLANPOSX+IDELTAX],">","0","BFITMP157","");@IF([IPLANPOSX+IDELTAX],"<",[800-IPLANSIZEPXX],"BFITMP158","");@IF([IPLANPOSY+IDELTAY],">","0","BFITMP159","");@IF([IPLANPOSY+IDELTAY],"<",[600-IPLANSIZEPXY],"BFITMP160","");@IF("IDELTAX!'0||IDELTAY!'0","BFITMP161","");}


OBJECT=BEHELAPSEGFX
BEHELAPSEGFX:TYPE=BEHAVIOUR
BEHELAPSEGFX:CODE={@INT("ICENTERX",[400-IPLANPOSX]);@INT("ICENTERY",[300-IPLANPOSY]);@INT("IDELTAX",[ICENTERX-IKRETPOSX]);@INT("IDELTAY",[ICENTERY-IKRETPOSY]);@IF("IDELTAX","!_","0","BFITMP164","");@IF("IDELTAY","!_","0","BFITMP167","");@IF("IDELTAX!'0||IDELTAY!'0","BFITMP168","");ANNKRET^MOVE([IDELTAX+IKRETMOVEX],IDELTAY);GENEMIES^NEXTSTEP();@LOOP("{S1^SET(["GBELKI"+_I_]);I1^SET(ARRBELKISPEED^GET(_I_));*S1^MOVE(I1,0);I2^SET(ARRBELKIMOVEDSOFAR^GET(_I_));I2^ADD(I1);I3^SET(ARRBELKIGESTOSC^GET(_I_));@IF("I3>0&&I2>'I3","BFITMP169","");@IF("I3<0&&I2<'I3","BFITMP170","");ARRBELKIMOVEDSOFAR^CHANGEAT(_I_,I2);}",0,IRZEDOWBELEK,1);@IF("BWLAZI","_","FALSE","BFITMP171","");ICOLLBELKASEL^SET(IKRETPOSMAPAY);ANNTELEPORT0^NEXTFRAME();@IF("BONTELE0","_","TRUE","BFITMP173","");ANNTELEPORT1^NEXTFRAME();@IF("BONTELE1","_","TRUE","BFITMP175","");ANNTELEPORT2^NEXTFRAME();@IF("BONTELE2","_","TRUE","BFITMP177","");ANNTELEPORT3^NEXTFRAME();@IF("BONTELE3","_","TRUE","BFITMP179","");ANNTELEPORT4^NEXTFRAME();@IF("BONTELE4","_","TRUE","BFITMP181","");ANNTELEPORT5^NEXTFRAME();@IF("BONTELE5","_","TRUE","BFITMP183","");@IF("IILOSCFLAM",">","0","BFITMP185","");}


OBJECT=_____
_____:TYPE=BEHAVIOUR
_____:CODE={}


OBJECT=BEHCHECKKEYBOARD
BEHCHECKKEYBOARD:TYPE=BEHAVIOUR
BEHCHECKKEYBOARD:CODE={@IF("BLOCKKRET","_","FALSE","BFITMP188","");}


OBJECT=BEHCOLLBELKI
BEHCOLLBELKI:TYPE=BEHAVIOUR
BEHCOLLBELKI:CODE={I1^SET([IKRETPOSX+IPLANPOSX-IKRETWIDTH]);I2^SET([[IKRETPOSMAPAY*75]+IPLANPOSY+35]);S1^SET(CANVASOBSERVER^GETGRAPHICSAT(I1,I2,TRUE,10,10,TRUE));@IF("S1","_","NULL","BFITMP189","");SCOLLBELKASEL^SET(S1);}


OBJECT=BEHCOLLENEMIES
BEHCOLLENEMIES:TYPE=BEHAVIOUR
BEHCOLLENEMIES:CODE={@IF("ILEVEL","<","3","BFITMP191","BFITMP192");}


OBJECT=BEHENEMYODSYLA
BEHENEMYODSYLA:TYPE=BEHAVIOUR
BEHENEMYODSYLA:CODE={IKRETPOSMAPAX^SET(*SCOLLENEMYSEL^GETODSX());IKRETPOSMAPAY^SET(*SCOLLENEMYSEL^GETODSY());IKRETPOSX^SET([[IKRETPOSMAPAX*75]+37]);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+75]);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[IKRETPOSY+IPLANPOSY]);*SCOLLENEMYSEL^GO();@IF("ILEVEL","<","3","BFITMP193","");BEHSEQPLAY^RUN("SEQKRET","PRZENIESIENIE",5);}


OBJECT=_____
_____:TYPE=BEHAVIOUR
_____:CODE={}


OBJECT=BEHKRETSPADA
BEHKRETSPADA:TYPE=BEHAVIOUR
BEHKRETSPADA:CODE={BLOCKKRET^SET(TRUE);BWLAZI^SET(FALSE);SDIRX^SET(NULL);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);ANNKRET^PLAY("SPADA");BEHSEQPLAY^RUN("SEQKRET","SPADA",5);IKRETPOSY^SET([[IKRETPOSMAPAY*75]+300]);IKRETPOSMAPAY^SUB(1000);}


OBJECT=_______________
_______________:TYPE=BEHAVIOUR
_______________:CODE={}


OBJECT=BEHSEQPLAY
BEHSEQPLAY:TYPE=BEHAVIOUR
BEHSEQPLAY:CODE={@STRING("STMPSEQNAME",$1);@STRING("STMPSEQEVENT",$2);@INT("ITMPSEQPRIORITY",$3);@IF("ILEVEL","_","3","BFITMP194","");@IF("STMPSEQNAME!'SSEQNAME||SSEQEVENT!'STMPSEQEVENT","BFITMP196","");}


OBJECT=BEHSEQSTOP
BEHSEQSTOP:TYPE=BEHAVIOUR
BEHSEQSTOP:CODE={@STRING("STMPSEQNAME",$1);@STRING("STMPSEQSIGNAL",$2);@IF("STMPSEQSIGNAL","_","TRUE","BFITMP197","BFITMP198");ISEQPRIORITY^SET(-1);}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={*S1^SETPOSITION([ARRFLAMESX^GET(_I_)*75],[ARRFLAMESY^GET(_I_)*75]);}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={*S1^SETPOSITION([ARRFLAMESX^GET(_I_)*75],[ARRFLAMESY^GET(_I_)*75]);}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={*S1^SETPOSITION([ARRFLAMESX^GET(_I_)*75],[ARRFLAMESY^GET(_I_)*75]);}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={*S1^SETPOSITION([ARRFLAMESX^GET(_I_)*75],[ARRFLAMESY^GET(_I_)*75]);}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={BEHSEQPLAY^RUN("SEQKRET","IDLE",0);}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={BEHSEQPLAY^RUN("SEQKRET","WISI",1);}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={*SCOLLENEMYSEL^STOP();BEHSEQPLAY^RUN("SEQKRET","STRAZNIK1",7);}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={*SCOLLENEMYSEL^OPIER();ANNKRET^PLAY("WLOT");BEHSEQPLAY^RUN("SEQKRET","STRAZNIK",5);BEHMUSICSTOP^RUN();BACH1^STOP(FALSE);BACH3^STOP(FALSE);BACH3^PLAY();BEHSFXPLAY^RUN("SFX_NEMO_TELEP");}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={SFX_WALK_KRET_PARYZ^PLAY();}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={SFX_WALK_REX_NAUTILUS^PLAY();}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={@IF(SFX_WALK_KRET_PARYZ^ISPLAYING(),"_","FALSE","BFITMP8","");}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={@IF(SFX_WALK_REX_NAUTILUS^ISPLAYING(),"_","FALSE","BFITMP9","");}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={SFX_WALK_KRET_PARYZ^PLAY();}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={SFX_WALK_REX_NAUTILUS^PLAY();}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={@IF(SFX_WALK_KRET_PARYZ^ISPLAYING(),"_","FALSE","BFITMP12","");}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={@IF(SFX_WALK_REX_NAUTILUS^ISPLAYING(),"_","FALSE","BFITMP13","");}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={BEHSFXPLAY^RUN("SFX_BUDOWA_DRABINA");}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={BEHSFXPLAY^RUN("SFX_BUDOWA_DRABINA");}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={BEHSFXPLAY^RUN("SFX_BUDOWA_DRABINA");}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={BEHSFXPLAY^RUN("SFX_BUDOWA_DRABINA");}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={BLOCKKRET^SET(TRUE);BONTELE0^SET(TRUE);BCANGETTELE0^SET(FALSE);BCANOFFTELE0^SET(FALSE);ITELE0POSX^SET([ANNTELEPORT0^GETPOSITIONX()-IPLANPOSX]);ITELE0POSY^SET([ANNTELEPORT0^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT0^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={@IF("IKRETPOSX>840&&IKRETPOSX<875","BFITMP20","");}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'8","BFITMP21","");}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={BCANGETTELE0^SET(TRUE);}


OBJECT=BFITMP24
BFITMP24:TYPE=BEHAVIOUR
BFITMP24:CODE={BLOCKKRET^SET(TRUE);BONTELE0^SET(TRUE);BCANGETTELE0^SET(FALSE);BCANOFFTELE0^SET(FALSE);ITELE0POSX^SET([ANNTELEPORT0^GETPOSITIONX()-IPLANPOSX]);ITELE0POSY^SET([ANNTELEPORT0^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT0^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP25
BFITMP25:TYPE=BEHAVIOUR
BFITMP25:CODE={@IF("IKRETPOSX>1220&&IKRETPOSX<1255","BFITMP24","");}


OBJECT=BFITMP26
BFITMP26:TYPE=BEHAVIOUR
BFITMP26:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'8","BFITMP25","");}


OBJECT=BFITMP27
BFITMP27:TYPE=BEHAVIOUR
BFITMP27:CODE={BCANGETTELE0^SET(TRUE);}


OBJECT=BFITMP28
BFITMP28:TYPE=BEHAVIOUR
BFITMP28:CODE={BCANOFFTELE0^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT0^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP29
BFITMP29:TYPE=BEHAVIOUR
BFITMP29:CODE={BCANOFFTELE0^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT0^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP30
BFITMP30:TYPE=BEHAVIOUR
BFITMP30:CODE={BLOCKKRET^SET(TRUE);BONTELE1^SET(TRUE);BCANGETTELE1^SET(FALSE);BCANOFFTELE1^SET(FALSE);ITELE1POSX^SET([ANNTELEPORT1^GETPOSITIONX()-IPLANPOSX]);ITELE1POSY^SET([ANNTELEPORT1^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);ANNKRET^SETPRIORITY(40);ANNKRET^SETFRAME([SDIRXREM+"_WISI"],0);BEHSEQPLAY^RUN("SEQKRET","HAK",5);SFX_BUDOWA_DZWIG^PLAY();}


OBJECT=BFITMP31
BFITMP31:TYPE=BEHAVIOUR
BFITMP31:CODE={@IF("IKRETPOSX>1145&&IKRETPOSX<1175","BFITMP30","");}


OBJECT=BFITMP32
BFITMP32:TYPE=BEHAVIOUR
BFITMP32:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'6","BFITMP31","");}


OBJECT=BFITMP33
BFITMP33:TYPE=BEHAVIOUR
BFITMP33:CODE={BCANGETTELE1^SET(TRUE);}


OBJECT=BFITMP34
BFITMP34:TYPE=BEHAVIOUR
BFITMP34:CODE={BLOCKKRET^SET(TRUE);BONTELE1^SET(TRUE);BCANGETTELE1^SET(FALSE);BCANOFFTELE1^SET(FALSE);ITELE1POSX^SET([ANNTELEPORT1^GETPOSITIONX()-IPLANPOSX]);ITELE1POSY^SET([ANNTELEPORT1^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);ANNKRET^SETPRIORITY(40);ANNKRET^SETFRAME([SDIRXREM+"_WISI"],0);BEHSEQPLAY^RUN("SEQKRET","HAK",5);SFX_BUDOWA_DZWIG^PLAY();}


OBJECT=BFITMP35
BFITMP35:TYPE=BEHAVIOUR
BFITMP35:CODE={@IF("IKRETPOSX>1895&&IKRETPOSX<1925","BFITMP34","");}


OBJECT=BFITMP36
BFITMP36:TYPE=BEHAVIOUR
BFITMP36:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'10","BFITMP35","");}


OBJECT=BFITMP37
BFITMP37:TYPE=BEHAVIOUR
BFITMP37:CODE={BCANGETTELE1^SET(TRUE);}


OBJECT=BFITMP38
BFITMP38:TYPE=BEHAVIOUR
BFITMP38:CODE={IKRETPOSMAPAY^ADD(996);BCANOFFTELE1^SET(TRUE);BLOCKKRET^SET(FALSE);ANNKRET^SETPRIORITY(25);ANNKRET^SETFRAME([SDIRXREM+"_IDLE"],0);SFX_BUDOWA_DZWIG^STOP(FALSE);}


OBJECT=BFITMP39
BFITMP39:TYPE=BEHAVIOUR
BFITMP39:CODE={IKRETPOSMAPAY^ADD(1004);BCANOFFTELE1^SET(TRUE);BLOCKKRET^SET(FALSE);ANNKRET^SETPRIORITY(25);ANNKRET^SETFRAME([SDIRXREM+"_IDLE"],0);SFX_BUDOWA_DZWIG^STOP(FALSE);}


OBJECT=BFITMP40
BFITMP40:TYPE=BEHAVIOUR
BFITMP40:CODE={BLOCKKRET^SET(TRUE);BONTELE0^SET(TRUE);BCANGETTELE0^SET(FALSE);BCANOFFTELE0^SET(FALSE);ITELE0POSX^SET([ANNTELEPORT0^GETPOSITIONX()-IPLANPOSX]);ITELE0POSY^SET([ANNTELEPORT0^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT0^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP41
BFITMP41:TYPE=BEHAVIOUR
BFITMP41:CODE={@IF("IKRETPOSX>390&&IKRETPOSX<425","BFITMP40","");}


OBJECT=BFITMP42
BFITMP42:TYPE=BEHAVIOUR
BFITMP42:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'11","BFITMP41","");}


OBJECT=BFITMP43
BFITMP43:TYPE=BEHAVIOUR
BFITMP43:CODE={BCANGETTELE0^SET(TRUE);}


OBJECT=BFITMP44
BFITMP44:TYPE=BEHAVIOUR
BFITMP44:CODE={BLOCKKRET^SET(TRUE);BONTELE0^SET(TRUE);BCANGETTELE0^SET(FALSE);BCANOFFTELE0^SET(FALSE);ITELE0POSX^SET([ANNTELEPORT0^GETPOSITIONX()-IPLANPOSX]);ITELE0POSY^SET([ANNTELEPORT0^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT0^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP45
BFITMP45:TYPE=BEHAVIOUR
BFITMP45:CODE={@IF("IKRETPOSX>845&&IKRETPOSX<880","BFITMP44","");}


OBJECT=BFITMP46
BFITMP46:TYPE=BEHAVIOUR
BFITMP46:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'11","BFITMP45","");}


OBJECT=BFITMP47
BFITMP47:TYPE=BEHAVIOUR
BFITMP47:CODE={BCANGETTELE0^SET(TRUE);}


OBJECT=BFITMP48
BFITMP48:TYPE=BEHAVIOUR
BFITMP48:CODE={BCANOFFTELE0^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT0^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP49
BFITMP49:TYPE=BEHAVIOUR
BFITMP49:CODE={BCANOFFTELE0^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT0^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP50
BFITMP50:TYPE=BEHAVIOUR
BFITMP50:CODE={BLOCKKRET^SET(TRUE);BONTELE1^SET(TRUE);BCANGETTELE1^SET(FALSE);BCANOFFTELE1^SET(FALSE);ITELE1POSX^SET([ANNTELEPORT1^GETPOSITIONX()-IPLANPOSX]);ITELE1POSY^SET([ANNTELEPORT1^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT1^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP51
BFITMP51:TYPE=BEHAVIOUR
BFITMP51:CODE={@IF("IKRETPOSX>765&&IKRETPOSX<800","BFITMP50","");}


OBJECT=BFITMP52
BFITMP52:TYPE=BEHAVIOUR
BFITMP52:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'9","BFITMP51","");}


OBJECT=BFITMP53
BFITMP53:TYPE=BEHAVIOUR
BFITMP53:CODE={BCANGETTELE1^SET(TRUE);}


OBJECT=BFITMP54
BFITMP54:TYPE=BEHAVIOUR
BFITMP54:CODE={BLOCKKRET^SET(TRUE);BONTELE1^SET(TRUE);BCANGETTELE1^SET(FALSE);BCANOFFTELE1^SET(FALSE);ITELE1POSX^SET([ANNTELEPORT1^GETPOSITIONX()-IPLANPOSX]);ITELE1POSY^SET([ANNTELEPORT1^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT1^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP55
BFITMP55:TYPE=BEHAVIOUR
BFITMP55:CODE={@IF("IKRETPOSX>1070&&IKRETPOSX<1105","BFITMP54","");}


OBJECT=BFITMP56
BFITMP56:TYPE=BEHAVIOUR
BFITMP56:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'9","BFITMP55","");}


OBJECT=BFITMP57
BFITMP57:TYPE=BEHAVIOUR
BFITMP57:CODE={BCANGETTELE1^SET(TRUE);}


OBJECT=BFITMP58
BFITMP58:TYPE=BEHAVIOUR
BFITMP58:CODE={BCANOFFTELE1^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT1^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP59
BFITMP59:TYPE=BEHAVIOUR
BFITMP59:CODE={BCANOFFTELE1^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT1^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP60
BFITMP60:TYPE=BEHAVIOUR
BFITMP60:CODE={BLOCKKRET^SET(TRUE);BONTELE2^SET(TRUE);BCANGETTELE2^SET(FALSE);BCANOFFTELE2^SET(FALSE);ITELE2POSX^SET([ANNTELEPORT2^GETPOSITIONX()-IPLANPOSX]);ITELE2POSY^SET([ANNTELEPORT2^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT2^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP61
BFITMP61:TYPE=BEHAVIOUR
BFITMP61:CODE={@IF("IKRETPOSX>840&&IKRETPOSX<875","BFITMP60","");}


OBJECT=BFITMP62
BFITMP62:TYPE=BEHAVIOUR
BFITMP62:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'15","BFITMP61","");}


OBJECT=BFITMP63
BFITMP63:TYPE=BEHAVIOUR
BFITMP63:CODE={BCANGETTELE2^SET(TRUE);}


OBJECT=BFITMP64
BFITMP64:TYPE=BEHAVIOUR
BFITMP64:CODE={BLOCKKRET^SET(TRUE);BONTELE2^SET(TRUE);BCANGETTELE2^SET(FALSE);BCANOFFTELE2^SET(FALSE);ITELE2POSX^SET([ANNTELEPORT2^GETPOSITIONX()-IPLANPOSX]);ITELE2POSY^SET([ANNTELEPORT2^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);ANNTELEPORT2^SETPRIORITY(35);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP65
BFITMP65:TYPE=BEHAVIOUR
BFITMP65:CODE={@IF("IKRETPOSX>1070&&IKRETPOSX<1105","BFITMP64","");}


OBJECT=BFITMP66
BFITMP66:TYPE=BEHAVIOUR
BFITMP66:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'15","BFITMP65","");}


OBJECT=BFITMP67
BFITMP67:TYPE=BEHAVIOUR
BFITMP67:CODE={BCANGETTELE2^SET(TRUE);}


OBJECT=BFITMP68
BFITMP68:TYPE=BEHAVIOUR
BFITMP68:CODE={BCANOFFTELE2^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT2^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP69
BFITMP69:TYPE=BEHAVIOUR
BFITMP69:CODE={BCANOFFTELE2^SET(TRUE);BLOCKKRET^SET(FALSE);ANNTELEPORT2^SETPRIORITY(20);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP70
BFITMP70:TYPE=BEHAVIOUR
BFITMP70:CODE={BLOCKKRET^SET(TRUE);BONTELE3^SET(TRUE);BCANGETTELE3^SET(FALSE);BCANOFFTELE3^SET(FALSE);ITELE3POSX^SET([ANNTELEPORT3^GETPOSITIONX()-IPLANPOSX]);ITELE3POSY^SET([ANNTELEPORT3^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP71
BFITMP71:TYPE=BEHAVIOUR
BFITMP71:CODE={@IF("IKRETPOSX>1670&&IKRETPOSX<1700","BFITMP70","");}


OBJECT=BFITMP72
BFITMP72:TYPE=BEHAVIOUR
BFITMP72:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'9","BFITMP71","");}


OBJECT=BFITMP73
BFITMP73:TYPE=BEHAVIOUR
BFITMP73:CODE={BCANGETTELE3^SET(TRUE);}


OBJECT=BFITMP74
BFITMP74:TYPE=BEHAVIOUR
BFITMP74:CODE={BLOCKKRET^SET(TRUE);BONTELE3^SET(TRUE);BCANGETTELE3^SET(FALSE);BCANOFFTELE3^SET(FALSE);ITELE3POSX^SET([ANNTELEPORT3^GETPOSITIONX()-IPLANPOSX]);ITELE3POSY^SET([ANNTELEPORT3^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP75
BFITMP75:TYPE=BEHAVIOUR
BFITMP75:CODE={@IF("IKRETPOSX>1670&&IKRETPOSX<1700","BFITMP74","");}


OBJECT=BFITMP76
BFITMP76:TYPE=BEHAVIOUR
BFITMP76:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'3","BFITMP75","");}


OBJECT=BFITMP77
BFITMP77:TYPE=BEHAVIOUR
BFITMP77:CODE={BCANGETTELE3^SET(TRUE);}


OBJECT=BFITMP78
BFITMP78:TYPE=BEHAVIOUR
BFITMP78:CODE={IKRETPOSMAPAY^ADD(1006);BCANOFFTELE3^SET(TRUE);BLOCKKRET^SET(FALSE);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP79
BFITMP79:TYPE=BEHAVIOUR
BFITMP79:CODE={IKRETPOSMAPAY^ADD(994);BCANOFFTELE3^SET(TRUE);BLOCKKRET^SET(FALSE);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP80
BFITMP80:TYPE=BEHAVIOUR
BFITMP80:CODE={BLOCKKRET^SET(TRUE);BONTELE4^SET(TRUE);BCANGETTELE4^SET(FALSE);BCANOFFTELE4^SET(FALSE);ITELE4POSX^SET([ANNTELEPORT4^GETPOSITIONX()-IPLANPOSX]);ITELE4POSY^SET([ANNTELEPORT4^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP81
BFITMP81:TYPE=BEHAVIOUR
BFITMP81:CODE={@IF("IKRETPOSX>170&&IKRETPOSX<200","BFITMP80","");}


OBJECT=BFITMP82
BFITMP82:TYPE=BEHAVIOUR
BFITMP82:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'9","BFITMP81","");}


OBJECT=BFITMP83
BFITMP83:TYPE=BEHAVIOUR
BFITMP83:CODE={BCANGETTELE4^SET(TRUE);}


OBJECT=BFITMP84
BFITMP84:TYPE=BEHAVIOUR
BFITMP84:CODE={BLOCKKRET^SET(TRUE);BONTELE4^SET(TRUE);BCANGETTELE4^SET(FALSE);BCANOFFTELE4^SET(FALSE);ITELE4POSX^SET([ANNTELEPORT4^GETPOSITIONX()-IPLANPOSX]);ITELE4POSY^SET([ANNTELEPORT4^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_BUDOWA_WINDA^PLAY();}


OBJECT=BFITMP85
BFITMP85:TYPE=BEHAVIOUR
BFITMP85:CODE={@IF("IKRETPOSX>170&&IKRETPOSX<200","BFITMP84","");}


OBJECT=BFITMP86
BFITMP86:TYPE=BEHAVIOUR
BFITMP86:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'3","BFITMP85","");}


OBJECT=BFITMP87
BFITMP87:TYPE=BEHAVIOUR
BFITMP87:CODE={BCANGETTELE4^SET(TRUE);}


OBJECT=BFITMP88
BFITMP88:TYPE=BEHAVIOUR
BFITMP88:CODE={IKRETPOSMAPAY^ADD(1006);BCANOFFTELE4^SET(TRUE);BLOCKKRET^SET(FALSE);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP89
BFITMP89:TYPE=BEHAVIOUR
BFITMP89:CODE={IKRETPOSMAPAY^ADD(994);BCANOFFTELE4^SET(TRUE);BLOCKKRET^SET(FALSE);SFX_BUDOWA_WINDA^STOP(FALSE);}


OBJECT=BFITMP90
BFITMP90:TYPE=BEHAVIOUR
BFITMP90:CODE={BLOCKKRET^SET(TRUE);BONTELE5^SET(TRUE);BCANGETTELE5^SET(FALSE);BCANOFFTELE5^SET(FALSE);ITELE5POSX^SET([ANNTELEPORT5^GETPOSITIONX()-IPLANPOSX]);ITELE5POSY^SET([ANNTELEPORT5^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);ANNKRET^SETPRIORITY(40);ANNKRET^SETFRAME([SDIRXREM+"_WISI"],0);BEHSEQPLAY^RUN("SEQKRET","HAK",5);SFX_BUDOWA_DZWIG^PLAY();}


OBJECT=BFITMP91
BFITMP91:TYPE=BEHAVIOUR
BFITMP91:CODE={@IF("IKRETPOSX>1145&&IKRETPOSX<1175","BFITMP90","");}


OBJECT=BFITMP92
BFITMP92:TYPE=BEHAVIOUR
BFITMP92:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'9","BFITMP91","");}


OBJECT=BFITMP93
BFITMP93:TYPE=BEHAVIOUR
BFITMP93:CODE={BCANGETTELE5^SET(TRUE);}


OBJECT=BFITMP94
BFITMP94:TYPE=BEHAVIOUR
BFITMP94:CODE={BLOCKKRET^SET(TRUE);BONTELE5^SET(TRUE);BCANGETTELE5^SET(FALSE);BCANOFFTELE5^SET(FALSE);ITELE5POSX^SET([ANNTELEPORT5^GETPOSITIONX()-IPLANPOSX]);ITELE5POSY^SET([ANNTELEPORT5^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);ANNKRET^SETPRIORITY(40);ANNKRET^SETFRAME([SDIRXREM+"_WISI"],0);BEHSEQPLAY^RUN("SEQKRET","HAK",5);SFX_BUDOWA_DZWIG^PLAY();}


OBJECT=BFITMP95
BFITMP95:TYPE=BEHAVIOUR
BFITMP95:CODE={@IF("IKRETPOSX>1295&&IKRETPOSX<1325","BFITMP94","");}


OBJECT=BFITMP96
BFITMP96:TYPE=BEHAVIOUR
BFITMP96:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'1","BFITMP95","");}


OBJECT=BFITMP97
BFITMP97:TYPE=BEHAVIOUR
BFITMP97:CODE={BCANGETTELE5^SET(TRUE);}


OBJECT=BFITMP98
BFITMP98:TYPE=BEHAVIOUR
BFITMP98:CODE={IKRETPOSMAPAY^ADD(1008);BCANOFFTELE5^SET(TRUE);BLOCKKRET^SET(FALSE);ANNKRET^SETPRIORITY(25);ANNKRET^SETFRAME([SDIRXREM+"_IDLE"],0);SFX_BUDOWA_DZWIG^STOP(FALSE);}


OBJECT=BFITMP99
BFITMP99:TYPE=BEHAVIOUR
BFITMP99:CODE={IKRETPOSMAPAY^ADD(992);BCANOFFTELE5^SET(TRUE);BLOCKKRET^SET(FALSE);ANNKRET^SETPRIORITY(25);ANNKRET^SETFRAME([SDIRXREM+"_IDLE"],0);SFX_BUDOWA_DZWIG^STOP(FALSE);}


OBJECT=BFITMP100
BFITMP100:TYPE=BEHAVIOUR
BFITMP100:CODE={BLOCKKRET^SET(TRUE);BONTELE0^SET(TRUE);BCANGETTELE0^SET(FALSE);BCANOFFTELE0^SET(FALSE);ITELE0POSX^SET([ANNTELEPORT0^GETPOSITIONX()-IPLANPOSX]);ITELE0POSY^SET([ANNTELEPORT0^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_NEMO_WINDASTART^PLAY();}


OBJECT=BFITMP101
BFITMP101:TYPE=BEHAVIOUR
BFITMP101:CODE={@IF("IKRETPOSX>1970&&IKRETPOSX<2000","BFITMP100","");}


OBJECT=BFITMP102
BFITMP102:TYPE=BEHAVIOUR
BFITMP102:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'19","BFITMP101","");}


OBJECT=BFITMP103
BFITMP103:TYPE=BEHAVIOUR
BFITMP103:CODE={BCANGETTELE0^SET(TRUE);}


OBJECT=BFITMP104
BFITMP104:TYPE=BEHAVIOUR
BFITMP104:CODE={BLOCKKRET^SET(TRUE);BONTELE0^SET(TRUE);BCANGETTELE0^SET(FALSE);BCANOFFTELE0^SET(FALSE);ITELE0POSX^SET([ANNTELEPORT0^GETPOSITIONX()-IPLANPOSX]);ITELE0POSY^SET([ANNTELEPORT0^GETPOSITIONY()-IPLANPOSY]);SDIRX^SET(NULL);IKRETPOSMAPAY^SUB(1000);BEHSEQPLAY^RUN("SEQKRET","WINDA",5);SFX_NEMO_WINDASTART^PLAY();}


OBJECT=BFITMP105
BFITMP105:TYPE=BEHAVIOUR
BFITMP105:CODE={@IF("IKRETPOSX>1970&&IKRETPOSX<2000","BFITMP104","");}


OBJECT=BFITMP106
BFITMP106:TYPE=BEHAVIOUR
BFITMP106:CODE={@IF("BLOCKKRET'FALSE&&IKRETPOSMAPAY'5","BFITMP105","");}


OBJECT=BFITMP107
BFITMP107:TYPE=BEHAVIOUR
BFITMP107:CODE={BCANGETTELE0^SET(TRUE);}


OBJECT=BFITMP108
BFITMP108:TYPE=BEHAVIOUR
BFITMP108:CODE={IKRETPOSMAPAY^ADD(1014);BCANOFFTELE0^SET(TRUE);BLOCKKRET^SET(FALSE);SFX_NEMO_WINDASTART^STOP(FALSE);SFX_NEMO_WINDALOOP^STOP(FALSE);SFX_NEMO_WINDASTOP^PLAY();}


OBJECT=BFITMP109
BFITMP109:TYPE=BEHAVIOUR
BFITMP109:CODE={IKRETPOSMAPAY^ADD(986);BCANOFFTELE0^SET(TRUE);BLOCKKRET^SET(FALSE);SFX_NEMO_WINDASTART^STOP(FALSE);SFX_NEMO_WINDALOOP^STOP(FALSE);SFX_NEMO_WINDASTOP^PLAY();}


OBJECT=BFITMP110
BFITMP110:TYPE=BEHAVIOUR
BFITMP110:CODE={IKRETPOSMAPAY^ADD(1001);IKRETPOSY^SET([[IKRETPOSMAPAY+1]*75]);SDIRXREM^SET(SDIRXREM);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);ANNKRET^PLAY([SDIRXREM+"_IDLE"]);BLOCKKRET^SET(FALSE);SCOLLBELKASEL^SET(NULL);BEHCHECKKEYBOARD^RUN();BEHSEQPLAY^RUN("SEQKRET","SPADL",5);}


OBJECT=BFITMP111
BFITMP111:TYPE=BEHAVIOUR
BFITMP111:CODE={ANNKRET^MOVE(0,150);ANNKRET^PLAY("SPADA_DALEJ");IKRETPOSY^ADD(150);BEHSEQPLAY^RUN("SEQKRET","SPADA_DALEJ",5);}


OBJECT=BFITMP112
BFITMP112:TYPE=BEHAVIOUR
BFITMP112:CODE={IKRETPOSMAPAY^ADD(1001);IKRETPOSY^SET([[IKRETPOSMAPAY+1]*75]);SDIRXREM^SET(SDIRXREM);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);ANNKRET^PLAY([SDIRXREM+"_IDLE"]);BLOCKKRET^SET(FALSE);SCOLLBELKASEL^SET(NULL);BEHCHECKKEYBOARD^RUN();BEHSEQPLAY^RUN("SEQKRET","SPADL",5);}


OBJECT=BFITMP113
BFITMP113:TYPE=BEHAVIOUR
BFITMP113:CODE={ANNKRET^MOVE(0,150);ANNKRET^PLAY("SPADA_DALEJ");IKRETPOSY^ADD(150);}


OBJECT=BFITMP114
BFITMP114:TYPE=BEHAVIOUR
BFITMP114:CODE={BEHSEQPLAY^RUN("SEQKRET","IDE",4);}


OBJECT=BFITMP115
BFITMP115:TYPE=BEHAVIOUR
BFITMP115:CODE={@IF(RANDOM^GET(1000),"<","10","BFITMP114","");}


OBJECT=BFITMP116
BFITMP116:TYPE=BEHAVIOUR
BFITMP116:CODE={BEHSEQPLAY^RUN("SEQKRET","IDE",4);}


OBJECT=BFITMP117
BFITMP117:TYPE=BEHAVIOUR
BFITMP117:CODE={@IF(RANDOM^GET(1000),"<","10","BFITMP116","");}


OBJECT=BFITMP118
BFITMP118:TYPE=BEHAVIOUR
BFITMP118:CODE={IKRETMOVEONMAPAX^SET([IKRETPOSX+IKRETMOVEX-IKRETWIDTH]);IKRETMOVEONMAPAX^DIV(75);SKRETMOVEON^SET([""+ILEVEL+"_"+IKRETMOVEONMAPAX+"_"+IKRETPOSMAPAY]);}


OBJECT=BFITMP119
BFITMP119:TYPE=BEHAVIOUR
BFITMP119:CODE={IKRETMOVEONMAPAX^SET([IKRETPOSX+IKRETMOVEX+IKRETWIDTH]);IKRETMOVEONMAPAX^DIV(75);SKRETMOVEON^SET([""+ILEVEL+"_"+IKRETMOVEONMAPAX+"_"+IKRETPOSMAPAY]);}


OBJECT=BFITMP120
BFITMP120:TYPE=BEHAVIOUR
BFITMP120:CODE={BEHKRETSPADA^RUN();}


OBJECT=BFITMP121
BFITMP121:TYPE=BEHAVIOUR
BFITMP121:CODE={I2^SET(ARRFLAMESX^GET(I1));@IF("IKRETPOSMAPAX>'I2&&IKRETPOSMAPAX<'[I2+2]","BFITMP120","");}


OBJECT=BFITMP122
BFITMP122:TYPE=BEHAVIOUR
BFITMP122:CODE={B1^SET(FALSE);}


OBJECT=BFITMP123
BFITMP123:TYPE=BEHAVIOUR
BFITMP123:CODE={B1^SET(FALSE);}


OBJECT=BFITMP124
BFITMP124:TYPE=BEHAVIOUR
BFITMP124:CODE={I1^SET([[IKRETPOSX-IKRETWIDTH]@ 75]);@IF(ARRMAPA^GET(I1,[IKRETPOSMAPAY-2]),"_","0","BFITMP122","");I1^SET([[IKRETPOSX+IKRETWIDTH]@ 75]);@IF(ARRMAPA^GET(I1,[IKRETPOSMAPAY-2]),"_","0","BFITMP123","");}


OBJECT=BFITMP125
BFITMP125:TYPE=BEHAVIOUR
BFITMP125:CODE={B1^SET(FALSE);}


OBJECT=BFITMP126
BFITMP126:TYPE=BEHAVIOUR
BFITMP126:CODE={@IF("IKRETPOSMAPAY",">","1","BFITMP124","BFITMP125");}


OBJECT=BFITMP127
BFITMP127:TYPE=BEHAVIOUR
BFITMP127:CODE={SDIRX^SET(NULL);BWLAZI^SET(TRUE);SWLAZI^ADD("U");IKRETPOSMAPAY^SUB(1);ANNKRET^PLAY(SWLAZI);}


OBJECT=BFITMP128
BFITMP128:TYPE=BEHAVIOUR
BFITMP128:CODE={B1^SET(TRUE);@IF(SWLAZI^LENGTH(),"_","1","BFITMP126","");@IF("B1","_","TRUE","BFITMP127","");}


OBJECT=BFITMP129
BFITMP129:TYPE=BEHAVIOUR
BFITMP129:CODE={@IF("ANNKRET^ISPLAYING()'FALSE&&IKRETPOSMAPAY>0","BFITMP128","");}


OBJECT=BFITMP130
BFITMP130:TYPE=BEHAVIOUR
BFITMP130:CODE={B1^SET(FALSE);}


OBJECT=BFITMP131
BFITMP131:TYPE=BEHAVIOUR
BFITMP131:CODE={B1^SET(FALSE);}


OBJECT=BFITMP132
BFITMP132:TYPE=BEHAVIOUR
BFITMP132:CODE={I1^SET([[IKRETPOSX-IKRETWIDTH]@ 75]);@IF(ARRMAPA^GET(I1,[IKRETPOSMAPAY+1]),"_","0","BFITMP130","");I1^SET([[IKRETPOSX+IKRETWIDTH]@ 75]);@IF(ARRMAPA^GET(I1,[IKRETPOSMAPAY+1]),"_","0","BFITMP131","");}


OBJECT=BFITMP133
BFITMP133:TYPE=BEHAVIOUR
BFITMP133:CODE={SDIRX^SET(NULL);BWLAZI^SET(TRUE);SWLAZI^ADD("D");IKRETPOSMAPAY^ADD(1);ANNKRET^PLAY(SWLAZI);}


OBJECT=BFITMP134
BFITMP134:TYPE=BEHAVIOUR
BFITMP134:CODE={B1^SET(TRUE);@IF(SWLAZI^LENGTH(),"_","2","BFITMP132","");SZWIESZANIEWYJATKI^SET([""+ILEVEL+"_"+IKRETPOSMAPAX+"_"+IKRETPOSMAPAY]);@IF("B1","_","TRUE","BFITMP133","");}


OBJECT=BFITMP135
BFITMP135:TYPE=BEHAVIOUR
BFITMP135:CODE={@IF("ANNKRET^ISPLAYING()'FALSE&&IKRETPOSMAPAY<[IMAPASIZEY-1]","BFITMP134","");}


OBJECT=BFITMP136
BFITMP136:TYPE=BEHAVIOUR
BFITMP136:CODE={SDIRX^SET("L");SDIRXREM^SET("L");}


OBJECT=BFITMP137
BFITMP137:TYPE=BEHAVIOUR
BFITMP137:CODE={SDIRX^SET("R");SDIRXREM^SET("R");}


OBJECT=BFITMP138
BFITMP138:TYPE=BEHAVIOUR
BFITMP138:CODE={SDIRX^SET("R");SDIRXREM^SET("R");}


OBJECT=BFITMP139
BFITMP139:TYPE=BEHAVIOUR
BFITMP139:CODE={SDIRX^SET(NULL);}


OBJECT=BFITMP140
BFITMP140:TYPE=BEHAVIOUR
BFITMP140:CODE={@IF(KEYBOARD^ISKEYDOWN("RIGHT"),"_","TRUE","BFITMP138","BFITMP139");}


OBJECT=BFITMP141
BFITMP141:TYPE=BEHAVIOUR
BFITMP141:CODE={SDIRX^SET("L");SDIRXREM^SET("L");}


OBJECT=BFITMP142
BFITMP142:TYPE=BEHAVIOUR
BFITMP142:CODE={SDIRX^SET(NULL);}


OBJECT=BFITMP143
BFITMP143:TYPE=BEHAVIOUR
BFITMP143:CODE={@IF(KEYBOARD^ISKEYDOWN("LEFT"),"_","TRUE","BFITMP141","BFITMP142");}


OBJECT=BFITMP144
BFITMP144:TYPE=BEHAVIOUR
BFITMP144:CODE={BLOCKKRET^SET(TRUE);ANNKRET^PLAY("WCHODZI");ANNNEMO^PLAY("OSTRO");BEHMUSICSTOP^RUN();BACH1^STOP(FALSE);BACH3^STOP(FALSE);BACH0^PLAY();SFX_WALK_REX_NAUTILUS_RURA^PLAY();}


OBJECT=BFITMP145
BFITMP145:TYPE=BEHAVIOUR
BFITMP145:CODE={SKRETTELEIS^SET([""+ILEVEL+"_"+IKRETPOSMAPAX+"_"+IKRETPOSMAPAY]);@IF("SKRETTELEIS","!_","NULL","BFITMP144","");}


OBJECT=BFITMP146
BFITMP146:TYPE=BEHAVIOUR
BFITMP146:CODE={I1^SET([[IKRETPOSX]%75]);@IF("I1>20&&I1<50","BFITMP145","");}


OBJECT=BFITMP147
BFITMP147:TYPE=BEHAVIOUR
BFITMP147:CODE={ANNKEYBMOUSEHELP^PLAY("LPGD_SP");BEHMUSICSET^RUN("NAUTILUS");BEHAMBIENTSNDPLAY^RUN("SFX_BGR_NEMO");}


OBJECT=BFITMP148
BFITMP148:TYPE=BEHAVIOUR
BFITMP148:CODE={ANNKEYBMOUSEHELP^PLAY("LPGD");BEHMUSICSET^RUN("WIEZA");BEHAMBIENTSNDPLAY^RUN("SFX_BGR_BUDOWA");}


OBJECT=BFITMP149
BFITMP149:TYPE=BEHAVIOUR
BFITMP149:CODE={GSAVE^SET("EIFEL_STATUS","ODWIEDZONY");}


OBJECT=BFITMP150
BFITMP150:TYPE=BEHAVIOUR
BFITMP150:CODE={GSAVE^SET("NAUTILUS_STATUS","ODWIEDZONY");}


OBJECT=BFITMP151
BFITMP151:TYPE=BEHAVIOUR
BFITMP151:CODE={@IF(GSAVE^GET("EIFEL_STATUS"),"_",""NIEODWIEDZONY"","BFITMP149","");}


OBJECT=BFITMP152
BFITMP152:TYPE=BEHAVIOUR
BFITMP152:CODE={@IF(GSAVE^GET("NAUTILUS_STATUS"),"_",""NIEODWIEDZONY"","BFITMP150","");}


OBJECT=BFITMP153
BFITMP153:TYPE=BEHAVIOUR
BFITMP153:CODE={ARRMAPA^SET(ITMPX,ITMPY,0);ARRPATH^ADD(0);}


OBJECT=BFITMP154
BFITMP154:TYPE=BEHAVIOUR
BFITMP154:CODE={ARRMAPA^SET(ITMPX,ITMPY,1);ARRPATH^ADD(1);}


OBJECT=BFITMP155
BFITMP155:TYPE=BEHAVIOUR
BFITMP155:CODE={ITMPY^SET(0);@WHILE("ITMPY","<","IMAPASIZEY","{@LOOP("{ITMPX^SET(_I_);ITMP0^SET([[ITMPY*IMAPASIZEX]+ITMPX]);ARRMAPA^SET(ITMPX,ITMPY,ARRPATH^GET(ITMP0));}",0,IMAPASIZEX,1);ITMPY^INC();}");}


OBJECT=BFITMP156
BFITMP156:TYPE=BEHAVIOUR
BFITMP156:CODE={ANNMINIMAPA^LOAD([""+ILEVEL+"_MINIMAPA.ANN"]);ITMPY^SET(0);@WHILE("ITMPY","<","IMAPASIZEY","{@LOOP("{ITMPX^SET(_I_);STMP0^SET(CANVASOBSERVER^GETGRAPHICSAT(ITMPX,ITMPY,FALSE,13,13,FALSE));@IF("STMP0","_","NULL","BFITMP153","BFITMP154");}",0,IMAPASIZEX,1);ITMPY^INC();}");ANNMINIMAPA^HIDE();ARRPATH^SAVE(["MAPA"+ILEVEL+".ARR"]);}


OBJECT=BFITMP157
BFITMP157:TYPE=BEHAVIOUR
BFITMP157:CODE={IDELTAX^SET([0-IPLANPOSX]);}


OBJECT=BFITMP158
BFITMP158:TYPE=BEHAVIOUR
BFITMP158:CODE={IDELTAX^SET([[800-IPLANSIZEPXX]-IPLANPOSX]);}


OBJECT=BFITMP159
BFITMP159:TYPE=BEHAVIOUR
BFITMP159:CODE={IDELTAY^SET([0-IPLANPOSY]);}


OBJECT=BFITMP160
BFITMP160:TYPE=BEHAVIOUR
BFITMP160:CODE={IDELTAY^SET([[600-IPLANSIZEPXY]-IPLANPOSY]);}


OBJECT=BFITMP161
BFITMP161:TYPE=BEHAVIOUR
BFITMP161:CODE={IPLANPOSX^ADD(IDELTAX);IPLANPOSY^ADD(IDELTAY);I1PLANPOSX^ADD(IDELTAX);I1PLANPOSY^ADD(IDELTAY);D1^SET(IPLANPOSX);D2^SET(IPLANPOSY);IBKGPOSX^SET([D1*DFACTORX]);IBKGPOSY^SET([D2*DFACTORY]);IBKGMOVEX^SET([IBKGPOSLASTX-IBKGPOSX]);IBKGMOVEY^SET([IBKGPOSLASTY-IBKGPOSY]);IBKGPOSLASTX^SET(IBKGPOSX);IBKGPOSLASTY^SET(IBKGPOSY);I1PLANPOSX^SET([D1*DFACTOR1PLANX]);I1PLANPOSY^SET([D2*DFACTOR1PLANY]);I1PLANMOVEX^SET([I1PLANPOSX-I1PLANPOSLASTX]);I1PLANMOVEY^SET([I1PLANPOSY-I1PLANPOSLASTY]);I1PLANPOSLASTX^SET(I1PLANPOSX);I1PLANPOSLASTY^SET(I1PLANPOSY);CANVASOBSERVER^MOVEBKG(IBKGMOVEX,IBKGMOVEY);GBKG^MOVE(IDELTAX,IDELTAY);G1PLAN^MOVE(I1PLANMOVEX,I1PLANMOVEY);ANNKRET^MOVE(IDELTAX,IDELTAY);}


OBJECT=BFITMP162
BFITMP162:TYPE=BEHAVIOUR
BFITMP162:CODE={IDELTAX^SET([0-IPLANPOSX]);}


OBJECT=BFITMP163
BFITMP163:TYPE=BEHAVIOUR
BFITMP163:CODE={IDELTAX^SET([[800-IPLANSIZEPXX]-IPLANPOSX]);}


OBJECT=BFITMP164
BFITMP164:TYPE=BEHAVIOUR
BFITMP164:CODE={IDELTAX^CLAMP(-20,20);@IF([IPLANPOSX+IDELTAX],">","0","BFITMP162","");@IF([IPLANPOSX+IDELTAX],"<",[800-IPLANSIZEPXX],"BFITMP163","");}


OBJECT=BFITMP165
BFITMP165:TYPE=BEHAVIOUR
BFITMP165:CODE={IDELTAY^SET([0-IPLANPOSY]);}


OBJECT=BFITMP166
BFITMP166:TYPE=BEHAVIOUR
BFITMP166:CODE={IDELTAY^SET([[600-IPLANSIZEPXY]-IPLANPOSY]);}


OBJECT=BFITMP167
BFITMP167:TYPE=BEHAVIOUR
BFITMP167:CODE={IDELTAY^CLAMP(-20,20);@IF([IPLANPOSY+IDELTAY],">","0","BFITMP165","");@IF([IPLANPOSY+IDELTAY],"<",[600-IPLANSIZEPXY],"BFITMP166","");}


OBJECT=BFITMP168
BFITMP168:TYPE=BEHAVIOUR
BFITMP168:CODE={IPLANPOSX^ADD(IDELTAX);IPLANPOSY^ADD(IDELTAY);I1PLANPOSX^ADD(IDELTAX);I1PLANPOSY^ADD(IDELTAY);D1^SET(IPLANPOSX);D2^SET(IPLANPOSY);IBKGPOSX^SET([D1*DFACTORX]);IBKGPOSY^SET([D2*DFACTORY]);IBKGMOVEX^SET([IBKGPOSLASTX-IBKGPOSX]);IBKGMOVEY^SET([IBKGPOSLASTY-IBKGPOSY]);IBKGPOSLASTX^SET(IBKGPOSX);IBKGPOSLASTY^SET(IBKGPOSY);I1PLANPOSX^SET([D1*DFACTOR1PLANX]);I1PLANPOSY^SET([D2*DFACTOR1PLANY]);I1PLANMOVEX^SET([I1PLANPOSX-I1PLANPOSLASTX]);I1PLANMOVEY^SET([I1PLANPOSY-I1PLANPOSLASTY]);I1PLANPOSLASTX^SET(I1PLANPOSX);I1PLANPOSLASTY^SET(I1PLANPOSY);CANVASOBSERVER^MOVEBKG(IBKGMOVEX,IBKGMOVEY);GBKG^MOVE(IDELTAX,IDELTAY);G1PLAN^MOVE(I1PLANMOVEX,I1PLANMOVEY);}


OBJECT=BFITMP169
BFITMP169:TYPE=BEHAVIOUR
BFITMP169:CODE={I2^SUB(I3);S2^SET(*S1^PREV());I4^SET(*S1^GETSIZE());*S2^MOVE([0-[I4*I3]],0);}


OBJECT=BFITMP170
BFITMP170:TYPE=BEHAVIOUR
BFITMP170:CODE={I2^SUB(I3);S2^SET(*S1^PREV());I4^SET(*S1^GETSIZE());*S2^MOVE([0-[I4*I3]],0);}


OBJECT=BFITMP171
BFITMP171:TYPE=BEHAVIOUR
BFITMP171:CODE={ICOLLENEMYSEL^SET(IKRETPOSMAPAY);}


OBJECT=BFITMP172
BFITMP172:TYPE=BEHAVIOUR
BFITMP172:CODE={BONTELE0^SET(FALSE);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP173
BFITMP173:TYPE=BEHAVIOUR
BFITMP173:CODE={I1^SET([ANNTELEPORT0^GETPOSITIONX()-IPLANPOSX]);I2^SET([ANNTELEPORT0^GETPOSITIONY()-IPLANPOSY]);I3^SET([I1-ITELE0POSX]);I4^SET([I2-ITELE0POSY]);IKRETPOSX^ADD(I3);IKRETPOSY^ADD(I4);ITELE0POSX^SET(I1);ITELE0POSY^SET(I2);ANNKRET^MOVE(I3,I4);@IF("BCANOFFTELE0","_","TRUE","BFITMP172","");}


OBJECT=BFITMP174
BFITMP174:TYPE=BEHAVIOUR
BFITMP174:CODE={BONTELE1^SET(FALSE);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP175
BFITMP175:TYPE=BEHAVIOUR
BFITMP175:CODE={I1^SET([ANNTELEPORT1^GETPOSITIONX()-IPLANPOSX]);I2^SET([ANNTELEPORT1^GETPOSITIONY()-IPLANPOSY]);I3^SET([I1-ITELE1POSX]);I4^SET([I2-ITELE1POSY]);IKRETPOSX^ADD(I3);IKRETPOSY^ADD(I4);ITELE1POSX^SET(I1);ITELE1POSY^SET(I2);ANNKRET^MOVE(I3,I4);@IF("BCANOFFTELE1","_","TRUE","BFITMP174","");}


OBJECT=BFITMP176
BFITMP176:TYPE=BEHAVIOUR
BFITMP176:CODE={BONTELE2^SET(FALSE);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP177
BFITMP177:TYPE=BEHAVIOUR
BFITMP177:CODE={I1^SET([ANNTELEPORT2^GETPOSITIONX()-IPLANPOSX]);I2^SET([ANNTELEPORT2^GETPOSITIONY()-IPLANPOSY]);I3^SET([I1-ITELE2POSX]);I4^SET([I2-ITELE2POSY]);IKRETPOSX^ADD(I3);IKRETPOSY^ADD(I4);ITELE2POSX^SET(I1);ITELE2POSY^SET(I2);ANNKRET^MOVE(I3,I4);@IF("BCANOFFTELE2","_","TRUE","BFITMP176","");}


OBJECT=BFITMP178
BFITMP178:TYPE=BEHAVIOUR
BFITMP178:CODE={BONTELE3^SET(FALSE);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP179
BFITMP179:TYPE=BEHAVIOUR
BFITMP179:CODE={I1^SET([ANNTELEPORT3^GETPOSITIONX()-IPLANPOSX]);I2^SET([ANNTELEPORT3^GETPOSITIONY()-IPLANPOSY]);I3^SET([I1-ITELE3POSX]);I4^SET([I2-ITELE3POSY]);IKRETPOSX^ADD(I3);IKRETPOSY^ADD(I4);ITELE3POSX^SET(I1);ITELE3POSY^SET(I2);ANNKRET^MOVE(I3,I4);@IF("BCANOFFTELE3","_","TRUE","BFITMP178","");}


OBJECT=BFITMP180
BFITMP180:TYPE=BEHAVIOUR
BFITMP180:CODE={BONTELE4^SET(FALSE);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP181
BFITMP181:TYPE=BEHAVIOUR
BFITMP181:CODE={I1^SET([ANNTELEPORT4^GETPOSITIONX()-IPLANPOSX]);I2^SET([ANNTELEPORT4^GETPOSITIONY()-IPLANPOSY]);I3^SET([I1-ITELE4POSX]);I4^SET([I2-ITELE4POSY]);IKRETPOSX^ADD(I3);IKRETPOSY^ADD(I4);ITELE4POSX^SET(I1);ITELE4POSY^SET(I2);ANNKRET^MOVE(I3,I4);@IF("BCANOFFTELE4","_","TRUE","BFITMP180","");}


OBJECT=BFITMP182
BFITMP182:TYPE=BEHAVIOUR
BFITMP182:CODE={BONTELE5^SET(FALSE);ANNKRET^SETPOSITION([IKRETPOSX+IPLANPOSX],[[IKRETPOSMAPAY*75]+IPLANPOSY+75]);BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP183
BFITMP183:TYPE=BEHAVIOUR
BFITMP183:CODE={I1^SET([ANNTELEPORT5^GETPOSITIONX()-IPLANPOSX]);I2^SET([ANNTELEPORT5^GETPOSITIONY()-IPLANPOSY]);I3^SET([I1-ITELE5POSX]);I4^SET([I2-ITELE5POSY]);IKRETPOSX^ADD(I3);IKRETPOSY^ADD(I4);ITELE5POSX^SET(I1);ITELE5POSY^SET(I2);ANNKRET^MOVE(I3,I4);@IF("BCANOFFTELE5","_","TRUE","BFITMP182","");}


OBJECT=BFITMP184
BFITMP184:TYPE=BEHAVIOUR
BFITMP184:CODE={*["ANNFLAME_"+_I_]^PLAY(ARRFLAMESDIR^GET(_I_));}


OBJECT=BFITMP185
BFITMP185:TYPE=BEHAVIOUR
BFITMP185:CODE={IFLAMETIMER^INC();@LOOP("{I1^SET(ARRFLAMESDELAY^GET(_I_));@IF([IFLAMETIMER%I1],"_","0","BFITMP184","");}",0,IILOSCFLAM,1);}


OBJECT=BFITMP186
BFITMP186:TYPE=BEHAVIOUR
BFITMP186:CODE={SDIRX^SET("L");SDIRXREM^SET("L");}


OBJECT=BFITMP187
BFITMP187:TYPE=BEHAVIOUR
BFITMP187:CODE={SDIRX^SET("R");SDIRXREM^SET("R");}


OBJECT=BFITMP188
BFITMP188:TYPE=BEHAVIOUR
BFITMP188:CODE={@IF(KEYBOARD^ISKEYDOWN("LEFT"),"_","TRUE","BFITMP186","");@IF(KEYBOARD^ISKEYDOWN("RIGHT"),"_","TRUE","BFITMP187","");}


OBJECT=BFITMP189
BFITMP189:TYPE=BEHAVIOUR
BFITMP189:CODE={I1^ADD([IKRETWIDTH*2]);S1^SET(CANVASOBSERVER^GETGRAPHICSAT(I1,I2,TRUE,10,10,TRUE));}


OBJECT=BFITMP190
BFITMP190:TYPE=BEHAVIOUR
BFITMP190:CODE={I1^ADD([IKRETWIDTH*2]);S1^SET(CANVASOBSERVER^GETGRAPHICSAT(I1,I2,TRUE,22,22,TRUE));}


OBJECT=BFITMP191
BFITMP191:TYPE=BEHAVIOUR
BFITMP191:CODE={I1^SET([IKRETPOSX+IPLANPOSX-IKRETWIDTH]);I2^SET([[IKRETPOSMAPAY*75]+IPLANPOSY+35]);S1^SET(CANVASOBSERVER^GETGRAPHICSAT(I1,I2,TRUE,22,22,TRUE));@IF("S1","_","NULL","BFITMP190","");SCOLLENEMYSEL^SET(S1);}


OBJECT=BFITMP192
BFITMP192:TYPE=BEHAVIOUR
BFITMP192:CODE={I1^SET([IKRETPOSX+IPLANPOSX]);I2^SET([[IKRETPOSMAPAY*75]+IPLANPOSY]);S1^SET(CANVASOBSERVER^GETGRAPHICSAT(I1,I2,TRUE,22,22,TRUE));SCOLLENEMYSEL^SET(S1);}


OBJECT=BFITMP193
BFITMP193:TYPE=BEHAVIOUR
BFITMP193:CODE={BLOCKKRET^SET(FALSE);}


OBJECT=BFITMP194
BFITMP194:TYPE=BEHAVIOUR
BFITMP194:CODE={STMPSEQNAME^SET("SEQREX");}


OBJECT=BFITMP195
BFITMP195:TYPE=BEHAVIOUR
BFITMP195:CODE={SEQKRET^STOP(FALSE);SEQREX^STOP(FALSE);ISEQPRIORITY^SET(ITMPSEQPRIORITY);SSEQNAME^SET(STMPSEQNAME);SSEQEVENT^SET(STMPSEQEVENT);*STMPSEQNAME^PLAY(STMPSEQEVENT);}


OBJECT=BFITMP196
BFITMP196:TYPE=BEHAVIOUR
BFITMP196:CODE={@IF("ITMPSEQPRIORITY",">_","ISEQPRIORITY","BFITMP195","");}


OBJECT=BFITMP197
BFITMP197:TYPE=BEHAVIOUR
BFITMP197:CODE={*STMPSEQNAME^STOP(TRUE);}


OBJECT=BFITMP198
BFITMP198:TYPE=BEHAVIOUR
BFITMP198:CODE={*STMPSEQNAME^STOP(FALSE);}


