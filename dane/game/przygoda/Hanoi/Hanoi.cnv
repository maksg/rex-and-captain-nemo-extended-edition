OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=INDIE.WAV

OBJECT=SK
SK:TYPE=STRING

OBJECT=BMOVE
BMOVE:TYPE=BOOL

OBJECT=IOFFX
IOFFX:TYPE=INTEGER

OBJECT=IOFFY
IOFFY:TYPE=INTEGER

OBJECT=ILEVEL
ILEVEL:TYPE=INTEGER

OBJECT=IX0
IX0:TYPE=INTEGER

OBJECT=IY0
IY0:TYPE=INTEGER

OBJECT=IX1
IX1:TYPE=INTEGER

OBJECT=IY1
IY1:TYPE=INTEGER

OBJECT=DT
DT:TYPE=DOUBLE

OBJECT=BK
BK:TYPE=BOOL

OBJECT=IPRIOR
IPRIOR:TYPE=INTEGER

OBJECT=BEND
BEND:TYPE=BOOL

OBJECT=BINTRO
BINTRO:TYPE=INTEGER

OBJECT=ICNT
ICNT:TYPE=INTEGER
ICNT:VALUE=5

OBJECT=K
K:TYPE=ANIMO
K:VISIBLE=TRUE
K:FILENAME=K1.ANN
K:TOCANVAS=TRUE
K:PRIORITY=2
K:FPS=16
K:PRELOAD=TRUE
K:RELEASE=TRUE
K:MONITORCOLLISION=FALSE
K:MONITORCOLLISIONALPHA=FALSE

OBJECT=T
T:TYPE=ANIMO
T:VISIBLE=TRUE
T:FILENAME=T1.ANN
T:TOCANVAS=TRUE
T:PRIORITY=1
T:FPS=16
T:PRELOAD=TRUE
T:RELEASE=TRUE
T:MONITORCOLLISION=FALSE
T:MONITORCOLLISIONALPHA=FALSE

OBJECT=BLANK
BLANK:TYPE=ANIMO
BLANK:VISIBLE=TRUE
BLANK:FILENAME=BLANK.ANN
BLANK:TOCANVAS=TRUE
BLANK:PRIORITY=0
BLANK:FPS=120
BLANK:PRELOAD=TRUE
BLANK:RELEASE=TRUE
BLANK:MONITORCOLLISION=FALSE
BLANK:MONITORCOLLISIONALPHA=FALSE
BLANK:ONFRAMECHANGED={@DOUBLE("X",0);@DOUBLE("Y",0);@DOUBLE("DX",0);@DOUBLE("DY",0);@DOUBLE("RCP",0);@IF("BK","_","TRUE","BFITMP1","");}
BLANK:ONFINISHED={BK^SET(FALSE);*SK^SETPOSITION(IX1,IY1);*SK^SETPRIORITY(IPRIOR);SK^SET("NULL");@IF("BEND","_","TRUE","BFITMP2","");}

OBJECT=ANNNAKLADKI
ANNNAKLADKI:TYPE=ANIMO
ANNNAKLADKI:VISIBLE=TRUE
ANNNAKLADKI:FILENAME=NAKLADKI.ANN
ANNNAKLADKI:TOCANVAS=TRUE
ANNNAKLADKI:PRIORITY=100
ANNNAKLADKI:FPS=16
ANNNAKLADKI:PRELOAD=TRUE
ANNNAKLADKI:RELEASE=TRUE
ANNNAKLADKI:MONITORCOLLISION=FALSE
ANNNAKLADKI:MONITORCOLLISIONALPHA=FALSE

OBJECT=BUTNULLLOC
BUTNULLLOC:TYPE=BUTTON
BUTNULLLOC:VISIBLE=TRUE
BUTNULLLOC:RECT=0,0,800,600
BUTNULLLOC:ENABLE=FALSE
BUTNULLLOC:DRAGGABLE=FALSE

OBJECT=KRET_WH02
KRET_WH02:TYPE=SOUND
KRET_WH02:FILENAME=KRET_WH02.WAV
KRET_WH02:PRELOAD=FALSE
KRET_WH02:FLUSHAFTERPLAYED=FALSE
KRET_WH02:ONFINISHED={ZWH_WH03^PLAY();}

OBJECT=KRET_WH04
KRET_WH04:TYPE=SOUND
KRET_WH04:FILENAME=KRET_WH04.WAV
KRET_WH04:PRELOAD=FALSE
KRET_WH04:FLUSHAFTERPLAYED=FALSE
KRET_WH04:ONFINISHED={BINTRO^SET(FALSE);GSAVE^SET("HANOI_STATUS","ODWIEDZONY");}

OBJECT=KRET_WH06
KRET_WH06:TYPE=SOUND
KRET_WH06:FILENAME=KRET_WH06.WAV
KRET_WH06:PRELOAD=FALSE
KRET_WH06:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH08
KRET_WH08:TYPE=SOUND
KRET_WH08:FILENAME=KRET_WH08.WAV
KRET_WH08:PRELOAD=FALSE
KRET_WH08:FLUSHAFTERPLAYED=FALSE
KRET_WH08:ONFINISHED={BINTRO^SET(FALSE);}

OBJECT=KRET_WH09
KRET_WH09:TYPE=SOUND
KRET_WH09:FILENAME=KRET_WH09.WAV
KRET_WH09:PRELOAD=FALSE
KRET_WH09:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH10
KRET_WH10:TYPE=SOUND
KRET_WH10:FILENAME=KRET_WH10.WAV
KRET_WH10:PRELOAD=FALSE
KRET_WH10:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH11
KRET_WH11:TYPE=SOUND
KRET_WH11:FILENAME=KRET_WH11.WAV
KRET_WH11:PRELOAD=FALSE
KRET_WH11:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH12
KRET_WH12:TYPE=SOUND
KRET_WH12:FILENAME=KRET_WH12.WAV
KRET_WH12:PRELOAD=FALSE
KRET_WH12:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH13
KRET_WH13:TYPE=SOUND
KRET_WH13:FILENAME=KRET_WH13.WAV
KRET_WH13:PRELOAD=FALSE
KRET_WH13:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH14
KRET_WH14:TYPE=SOUND
KRET_WH14:FILENAME=KRET_WH14.WAV
KRET_WH14:PRELOAD=FALSE
KRET_WH14:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH18
KRET_WH18:TYPE=SOUND
KRET_WH18:FILENAME=KRET_WH18.WAV
KRET_WH18:PRELOAD=FALSE
KRET_WH18:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH20
KRET_WH20:TYPE=SOUND
KRET_WH20:FILENAME=KRET_WH20.WAV
KRET_WH20:PRELOAD=FALSE
KRET_WH20:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH22
KRET_WH22:TYPE=SOUND
KRET_WH22:FILENAME=KRET_WH22.WAV
KRET_WH22:PRELOAD=FALSE
KRET_WH22:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH23
KRET_WH23:TYPE=SOUND
KRET_WH23:FILENAME=KRET_WH23.WAV
KRET_WH23:PRELOAD=FALSE
KRET_WH23:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH25
KRET_WH25:TYPE=SOUND
KRET_WH25:FILENAME=KRET_WH25.WAV
KRET_WH25:PRELOAD=FALSE
KRET_WH25:FLUSHAFTERPLAYED=FALSE
KRET_WH25:ONFINISHED={ZWH_WH26^PLAY();}

OBJECT=KRET_WH27
KRET_WH27:TYPE=SOUND
KRET_WH27:FILENAME=KRET_WH27.WAV
KRET_WH27:PRELOAD=FALSE
KRET_WH27:FLUSHAFTERPLAYED=FALSE
KRET_WH27:ONFINISHED={ZWH_WH28^PLAY();}

OBJECT=KRET_WH29
KRET_WH29:TYPE=SOUND
KRET_WH29:FILENAME=KRET_WH29.WAV
KRET_WH29:PRELOAD=FALSE
KRET_WH29:FLUSHAFTERPLAYED=FALSE

OBJECT=KRET_WH30
KRET_WH30:TYPE=SOUND
KRET_WH30:FILENAME=KRET_WH30.WAV
KRET_WH30:PRELOAD=FALSE
KRET_WH30:FLUSHAFTERPLAYED=FALSE
KRET_WH30:ONFINISHED={BUTNULLLOC^DISABLE();BEHGOTOSCENE^RUN();}

OBJECT=KRET_WH32
KRET_WH32:TYPE=SOUND
KRET_WH32:FILENAME=KRET_WH32.WAV
KRET_WH32:PRELOAD=FALSE
KRET_WH32:FLUSHAFTERPLAYED=FALSE

OBJECT=REX_WH15
REX_WH15:TYPE=SOUND
REX_WH15:FILENAME=REX_WH15.WAV
REX_WH15:PRELOAD=FALSE
REX_WH15:FLUSHAFTERPLAYED=FALSE

OBJECT=REX_WH16
REX_WH16:TYPE=SOUND
REX_WH16:FILENAME=REX_WH16.WAV
REX_WH16:PRELOAD=FALSE
REX_WH16:FLUSHAFTERPLAYED=FALSE

OBJECT=REX_WH17
REX_WH17:TYPE=SOUND
REX_WH17:FILENAME=REX_WH17.WAV
REX_WH17:PRELOAD=FALSE
REX_WH17:FLUSHAFTERPLAYED=FALSE

OBJECT=REX_WH19
REX_WH19:TYPE=SOUND
REX_WH19:FILENAME=REX_WH19.WAV
REX_WH19:PRELOAD=FALSE
REX_WH19:FLUSHAFTERPLAYED=FALSE

OBJECT=REX_WH21
REX_WH21:TYPE=SOUND
REX_WH21:FILENAME=REX_WH21.WAV
REX_WH21:PRELOAD=FALSE
REX_WH21:FLUSHAFTERPLAYED=FALSE

OBJECT=REX_WH24
REX_WH24:TYPE=SOUND
REX_WH24:FILENAME=REX_WH24.WAV
REX_WH24:PRELOAD=FALSE
REX_WH24:FLUSHAFTERPLAYED=FALSE

OBJECT=REX_WH31
REX_WH31:TYPE=SOUND
REX_WH31:FILENAME=REX_WH31.WAV
REX_WH31:PRELOAD=FALSE
REX_WH31:FLUSHAFTERPLAYED=FALSE

OBJECT=ZWH_WH01
ZWH_WH01:TYPE=SOUND
ZWH_WH01:FILENAME=ZWH_WH01.WAV
ZWH_WH01:PRELOAD=FALSE
ZWH_WH01:FLUSHAFTERPLAYED=FALSE
ZWH_WH01:ONFINISHED={KRET_WH02^PLAY();}

OBJECT=ZWH_WH03
ZWH_WH03:TYPE=SOUND
ZWH_WH03:FILENAME=ZWH_WH03.WAV
ZWH_WH03:PRELOAD=FALSE
ZWH_WH03:FLUSHAFTERPLAYED=FALSE
ZWH_WH03:ONFINISHED={KRET_WH04^PLAY();}

OBJECT=ZWH_WH07
ZWH_WH07:TYPE=SOUND
ZWH_WH07:FILENAME=ZWH_WH07.WAV
ZWH_WH07:PRELOAD=FALSE
ZWH_WH07:FLUSHAFTERPLAYED=FALSE

OBJECT=ZWH_WH26
ZWH_WH26:TYPE=SOUND
ZWH_WH26:FILENAME=ZWH_WH26.WAV
ZWH_WH26:PRELOAD=FALSE
ZWH_WH26:FLUSHAFTERPLAYED=FALSE

OBJECT=ZWH_WH28
ZWH_WH28:TYPE=SOUND
ZWH_WH28:FILENAME=ZWH_WH28.WAV
ZWH_WH28:PRELOAD=FALSE
ZWH_WH28:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_SZANG_ENDGAME
SFX_SZANG_ENDGAME:TYPE=SOUND
SFX_SZANG_ENDGAME:FILENAME=SFX_SZANG_ENDGAME.WAV
SFX_SZANG_ENDGAME:PRELOAD=TRUE
SFX_SZANG_ENDGAME:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_SZANG_TAKE
SFX_SZANG_TAKE:TYPE=SOUND
SFX_SZANG_TAKE:FILENAME=SFX_SZANG_TAKE.WAV
SFX_SZANG_TAKE:PRELOAD=FALSE
SFX_SZANG_TAKE:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_SZANG_PUT
SFX_SZANG_PUT:TYPE=SOUND
SFX_SZANG_PUT:FILENAME=SFX_SZANG_PUT.WAV
SFX_SZANG_PUT:PRELOAD=FALSE
SFX_SZANG_PUT:FLUSHAFTERPLAYED=FALSE

OBJECT=ART0
ART0:TYPE=ARRAY

OBJECT=ART1
ART1:TYPE=ARRAY

OBJECT=ART2
ART2:TYPE=ARRAY

OBJECT=ARTX0
ARTX0:TYPE=ARRAY

OBJECT=ARTY0
ARTY0:TYPE=ARRAY

OBJECT=ARTX1
ARTX1:TYPE=ARRAY

OBJECT=ARTY1
ARTY1:TYPE=ARRAY

OBJECT=ARTX2
ARTX2:TYPE=ARRAY

OBJECT=ARTY2
ARTY2:TYPE=ARRAY

OBJECT=ARFROM
ARFROM:TYPE=ARRAY

OBJECT=ARTO
ARTO:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=0
MOUSE:ONCLICK={@STRING("OBJ","");@STRING("SND","");@INT("ICF",0);@INT("TX",0);@INT("TY",0);@INT("ICI",0);@IF("BINTRO","_","TRUE","BFITMP3","");@IF("BK","_","TRUE","BFITMP4","");OBJ^SET(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,1,7,TRUE));@IF(OBJ^FIND("K"),">","-1","BFITMP8","");@IF(OBJ^FIND("T"),">","-1","BFITMP11","");}
MOUSE:ONRELEASE={@STRING("SOBJ","");@INT("ICF",0);@INT("ICIT",0);@INT("ICIK",0);@INT("ISIZE",0);@INT("IX",0);@INT("IY",0);@INT("ISND",0);@STRING("SND","");@BOOL("BSUC1",FALSE);@BOOL("BSUC2",FALSE);@INT("REM",0);BMOVE^SET(FALSE);IX0^SET(MOUSE^GETPOSX());IY0^SET(MOUSE^GETPOSY());SOBJ^SET(CANVASOBSERVER^GETGRAPHICSAT(IX0,IY0,TRUE,1,1,TRUE));@IF("SOBJ^FIND("T")>-1&&*SOBJ^GETCFRAMEINEVENT()'1","BFITMP18","BFITMP19");T_0^SETFRAME("0",0);T_1^SETFRAME("1",0);T_2^SETFRAME("2",0);@IF(ART2^GETSIZE(),"_",[ILEVEL+1],"BFITMP21","");@IF("BSUC2","_","TRUE","BFITMP22","");}
MOUSE:ONMOVE={@INT("ICIK",0);@INT("ICIT",0);@INT("SIZE",0);@INT("ICF",0);@BOOL("BT0",FALSE);@BOOL("BT1",FALSE);@BOOL("BT2",FALSE);@STRING("OBJ","");@IF("BK'TRUE||BINTRO'TRUE","BFITMP23","");@IF("BMOVE","_","TRUE","BFITMP42","BFITMP43");}

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={ANNKEYBMOUSEHELP^PLAY("M");BEHMUSICSET^RUN("INDIE");BEHAMBIENTSNDPLAY^RUN("SFX_WYSPA_LAS");BUTNULLLOC^SETPRIORITY(1000);@INT("IX",0);@INT("IY",0);@INT("IDY",0);@IF("SGAMEDIFFICULTY","_",""NORMAL"","BFITMP44","BFITMP45");ANNNAKLADKI^CLONE(1);ANNNAKLADKI^SETFRAME("IDLE",0);ANNNAKLADKI_1^SETFRAME("IDLE",1);ARFROM^ADD("NULL","KRET_WH14","KRET_WH13","KRET_WH12","KRET_WH11","KRET_WH11","KRET_WH10","KRET_WH09");ARTO^ADD("REX_WH15","REX_WH21","KRET_WH20","REX_WH19","KRET_WH18","REX_WH17","REX_WH16");T^CLONE(2);K^CLONE(ILEVEL);K^HIDE();ARTX0^ADD(0);ARTY0^ADD(0);ARTX1^ADD(0);ARTY1^ADD(0);ARTX2^ADD(0);ARTY2^ADD(0);ART0^ADD(0);ART1^ADD(0);ART2^ADD(0);@LOOP("{ART0^ADD([ILEVEL+1-_I_]);}",1,ILEVEL,1);T_0^SETFRAME("0",0);T_1^SETFRAME("1",0);T_2^SETFRAME("2",0);IY^SET(550);@LOOP("{*["K_"+_I_]^SETFRAME("POS",[_I_-1]);*["K_"+_I_]^SETPRIORITY([8-_I_]);IX^SET(150);@IF("_I_","_","3","BFITMP46","BFITMP47");ARTX0^ADD(IX);ARTY0^ADD(IY);ARTX1^ADD([IX+250]);ARTY1^ADD(IY);ARTX2^ADD([IX+500]);ARTY2^ADD(IY);}",1,ILEVEL,1);@LOOP("{*["K_"+_I_]^SETFRAME([""+_I_],0);*["K_"+_I_]^SETPOSITION(ARTX0^GET([ILEVEL+1-_I_]),ARTY0^GET([ILEVEL+1-_I_]));}",1,ILEVEL,1);SK^SET("NULL");BEND^SET(FALSE);BINTRO^SET(TRUE);@IF(GSAVE^GET("HANOI_STATUS"),"_",""NIEODWIEDZONY"","BFITMP48","BFITMP49");}


OBJECT=BEHSUCCESS
BEHSUCCESS:TYPE=BEHAVIOUR
BEHSUCCESS:CODE={GSAVE^SET("HANOI_STATUS","UKONCZONY");GSAVE^SET("SZANGRILA_PLANSZA1_HANOI",1);GSAVE^SET("SCENE_INFO","HANOI_DONE");GSAVE^SET("SCENE_CODE","ASZW");GSAVE^SET("SCENE_NAME","ARCADE");GSAVE^SET("ARCADE_SCENE_NAME","SZANGRILA");BUTNULLLOC^ENABLE();KRET_WH30^PLAY();SFX_SZANG_ENDGAME^PLAY();}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={BLANK^STOP();}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={RCP^SET([1.0@60.0]);DT^ADD(RCP);DT^SET([DT*1.2]);DX^SET([IX1-IX0]);DY^SET([IY1-IY0]);X^SET([DX*DT]);Y^SET([DY*DT]);*SK^SETPOSITION([IX0+X],[IY0+Y]);*SK^INVALIDATE();@IF("DT",">","1.0","BFITMP0","");@BREAK();}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={BEHSUCCESS^RUN();}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={ZWH_WH01^STOP(FALSE);ZWH_WH03^STOP(FALSE);KRET_WH02^STOP(FALSE);KRET_WH04^STOP(FALSE);BINTRO^SET(FALSE);@BREAK();}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={@BREAK();}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={SND^SET(ARFROM^GET(ICI));*SND^PLAY();}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={BMOVE^SET(TRUE);SK^SET(OBJ);IOFFX^SET(*OBJ^GETPOSITIONX(TRUE));IOFFY^SET(*OBJ^GETPOSITIONY(TRUE));IPRIOR^SET(*SK^GETPRIORITY());*SK^SETPRIORITY(10);ICI^SET(*OBJ^GETCLONEINDEX());SFX_SZANG_TAKE^PLAY();@IF([ICNT%5],"_","0","BFITMP5","");}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={KRET_WH29^PLAY();}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={ICF^SET(*OBJ^GETCFRAMEINEVENT());@IF("ICF","_","2","BFITMP6","BFITMP7");}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={KRET_WH25^PLAY();}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={KRET_WH27^PLAY();}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={ICI^SET(*OBJ^GETCLONEINDEX());@IF("ICI","_","1","BFITMP9","");@IF("ICI","_","2","BFITMP10","");}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={SND^SET(ARTO^GET(ISND));*SND^PLAY();}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={ART0^REMOVE(ICIK);ART1^REMOVE(ICIK);ART2^REMOVE(ICIK);*["ART"+ICIT]^ADD(ICIK);ISIZE^SET(*["ART"+ICIT]^GETSIZE());ISND^SET(*["ART"+ICIT]^GET([ISIZE-2]));@IF([ICNT%5],"_","0","BFITMP12","");ICNT^INC();SFX_SZANG_PUT^PLAY();IX1^SET(*["ARTX"+ICIT]^GET([ISIZE-1]));IY1^SET(*["ARTY"+ICIT]^GET([ISIZE-1]));DT^SET(0.0);BK^SET(TRUE);BLANK^PLAY("TIMER");}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={KRET_WH22^PLAY();}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={KRET_WH23^PLAY();}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={REX_WH24^PLAY();}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={@INT("RND",0);RND^SET(RANDOM^GET(3));@IF("RND","_","0","BFITMP14","");@IF("RND","_","1","BFITMP15","");@IF("RND","_","2","BFITMP16","");*SK^SETPOSITION(IOFFX,IOFFY);*SK^SETPRIORITY(IPRIOR);SK^SET("NULL");}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={ICF^SET(*SOBJ^GETCFRAMEINEVENT());ICIT^SET(*SOBJ^GETCLONEINDEX());ICIK^SET(*SK^GETCLONEINDEX());@IF("ICF","_","1","BFITMP13","");}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={@IF("SK","!_",""NULL"","BFITMP17","");}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={BSUC2^SET(FALSE);}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={BSUC2^SET(TRUE);@LOOP("{@IF("[ILEVEL+1-_I_]!'ART2^GET(_I_)&&BSUC2'TRUE","BFITMP20","");}",1,ILEVEL,1);}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={BEND^SET(TRUE);}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={@BREAK();}


OBJECT=BFITMP24
BFITMP24:TYPE=BEHAVIOUR
BFITMP24:CODE={*SK^SETFRAME([""+ICIK],1);}


OBJECT=BFITMP25
BFITMP25:TYPE=BEHAVIOUR
BFITMP25:CODE={ICIT^SET(*OBJ^GETCLONEINDEX());}


OBJECT=BFITMP26
BFITMP26:TYPE=BEHAVIOUR
BFITMP26:CODE={*SK^SETFRAME([""+ICIK],2);}


OBJECT=BFITMP27
BFITMP27:TYPE=BEHAVIOUR
BFITMP27:CODE={T_0^SETFRAME("0",1);@IF("ICIT","_","0","BFITMP26","");}


OBJECT=BFITMP28
BFITMP28:TYPE=BEHAVIOUR
BFITMP28:CODE={T_0^SETFRAME("0",2);}


OBJECT=BFITMP29
BFITMP29:TYPE=BEHAVIOUR
BFITMP29:CODE={*SK^SETFRAME([""+ICIK],2);}


OBJECT=BFITMP30
BFITMP30:TYPE=BEHAVIOUR
BFITMP30:CODE={T_1^SETFRAME("1",1);@IF("ICIT","_","1","BFITMP29","");}


OBJECT=BFITMP31
BFITMP31:TYPE=BEHAVIOUR
BFITMP31:CODE={T_1^SETFRAME("1",2);}


OBJECT=BFITMP32
BFITMP32:TYPE=BEHAVIOUR
BFITMP32:CODE={*SK^SETFRAME([""+ICIK],2);}


OBJECT=BFITMP33
BFITMP33:TYPE=BEHAVIOUR
BFITMP33:CODE={T_2^SETFRAME("2",1);@IF("ICIT","_","2","BFITMP32","");}


OBJECT=BFITMP34
BFITMP34:TYPE=BEHAVIOUR
BFITMP34:CODE={T_2^SETFRAME("2",2);}


OBJECT=BFITMP35
BFITMP35:TYPE=BEHAVIOUR
BFITMP35:CODE={*OBJ^SETFRAME([""+ICIK],2);}


OBJECT=BFITMP36
BFITMP36:TYPE=BEHAVIOUR
BFITMP36:CODE={@IF("ICIK","_",ART0^GET([ART0^GETSIZE()-1]),"BFITMP35","");}


OBJECT=BFITMP37
BFITMP37:TYPE=BEHAVIOUR
BFITMP37:CODE={*OBJ^SETFRAME([""+ICIK],2);}


OBJECT=BFITMP38
BFITMP38:TYPE=BEHAVIOUR
BFITMP38:CODE={@IF("ICIK","_",ART1^GET([ART1^GETSIZE()-1]),"BFITMP37","");}


OBJECT=BFITMP39
BFITMP39:TYPE=BEHAVIOUR
BFITMP39:CODE={*OBJ^SETFRAME([""+ICIK],2);}


OBJECT=BFITMP40
BFITMP40:TYPE=BEHAVIOUR
BFITMP40:CODE={@IF("ICIK","_",ART2^GET([ART2^GETSIZE()-1]),"BFITMP39","");}


OBJECT=BFITMP41
BFITMP41:TYPE=BEHAVIOUR
BFITMP41:CODE={ICIK^SET(*OBJ^GETCLONEINDEX());@IF(ART0^CONTAINS(ICIK),"_","TRUE","BFITMP36","");@IF(ART1^CONTAINS(ICIK),"_","TRUE","BFITMP38","");@IF(ART2^CONTAINS(ICIK),"_","TRUE","BFITMP40","");}


OBJECT=BFITMP42
BFITMP42:TYPE=BEHAVIOUR
BFITMP42:CODE={*SK^SETPOSITION(MOUSE^GETPOSX(),MOUSE^GETPOSY());ICIK^SET(*SK^GETCLONEINDEX());ICIT^SET(-1);OBJ^SET(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,1,1,TRUE));@IF(OBJ^FIND("T"),"<","0","BFITMP24","BFITMP25");@IF("ART0^GET([ART0^GETSIZE()-1])>'ICIK||ART0^GET([ART0^GETSIZE()-1])'0","BFITMP27","BFITMP28");@IF("ART1^GET([ART1^GETSIZE()-1])>'ICIK||ART1^GET([ART1^GETSIZE()-1])'0","BFITMP30","BFITMP31");@IF("ART2^GET([ART2^GETSIZE()-1])>'ICIK||ART2^GET([ART2^GETSIZE()-1])'0","BFITMP33","BFITMP34");}


OBJECT=BFITMP43
BFITMP43:TYPE=BEHAVIOUR
BFITMP43:CODE={OBJ^SET(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,2,7,TRUE));@LOOP("{*["K_"+_I_]^SETFRAME([""+_I_],0);}",1,ILEVEL,1);@IF(OBJ^FIND("K"),">","-1","BFITMP41","");}


OBJECT=BFITMP44
BFITMP44:TYPE=BEHAVIOUR
BFITMP44:CODE={ILEVEL^SET(6);}


OBJECT=BFITMP45
BFITMP45:TYPE=BEHAVIOUR
BFITMP45:CODE={ILEVEL^SET(4);}


OBJECT=BFITMP46
BFITMP46:TYPE=BEHAVIOUR
BFITMP46:CODE={IY^SUB(60);}


OBJECT=BFITMP47
BFITMP47:TYPE=BEHAVIOUR
BFITMP47:CODE={IY^SUB(60);}


OBJECT=BFITMP48
BFITMP48:TYPE=BEHAVIOUR
BFITMP48:CODE={ZWH_WH01^PLAY();}


OBJECT=BFITMP49
BFITMP49:TYPE=BEHAVIOUR
BFITMP49:CODE={KRET_WH08^PLAY();}


