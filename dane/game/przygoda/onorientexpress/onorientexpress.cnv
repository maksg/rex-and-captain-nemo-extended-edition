OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=DOROZKA.WAV

OBJECT=I1
I1:TYPE=INTEGER

OBJECT=I2
I2:TYPE=INTEGER

OBJECT=S1
S1:TYPE=STRING

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=ILEVEL
ILEVEL:TYPE=INTEGER
ILEVEL:VALUE=0

OBJECT=SLEVELSEL
SLEVELSEL:TYPE=STRING
SLEVELSEL:ONBRUTALCHANGED^1CHEAT={ILEVEL^SET(1);ISCROLLSPEED^SET(0);IILOSCWAGONOW^SET(4);BEHINITCOMMON^RUN();}
SLEVELSEL:ONBRUTALCHANGED^1EASY={ILEVEL^SET(1);ISCROLLSPEED^SET(2);IILOSCWAGONOW^SET(5);BEHINITCOMMON^RUN();}
SLEVELSEL:ONBRUTALCHANGED^1NORMAL={ILEVEL^SET(1);ISCROLLSPEED^SET(3);IILOSCWAGONOW^SET(7);BEHINITCOMMON^RUN();}

OBJECT=ITIMER
ITIMER:TYPE=INTEGER
ITIMER:VALUE=0
ITIMER:ONCHANGED^32={ITIMER^SET(0);I1^SET(0);@WHILE("I1","<","IDYMKOW","{S1^SET(["ANNDYMKI_"+I1]);@IF(*S1^GETPOSITIONX(),"<","-400","BFITMP0","");I1^INC();}");@IF("I1",">","IDYMKOW","BFITMP1","BFITMP2");}

OBJECT=_____
_____:TYPE=INTEGER

OBJECT=IDYMKOW
IDYMKOW:TYPE=INTEGER
IDYMKOW:VALUE=1

OBJECT=ILOKOPOSX
ILOKOPOSX:TYPE=INTEGER
ILOKOPOSX:VALUE=0

OBJECT=IILOSCWAGONOW
IILOSCWAGONOW:TYPE=INTEGER
IILOSCWAGONOW:VALUE=1

OBJECT=IPRZESZKODANUMER
IPRZESZKODANUMER:TYPE=INTEGER
IPRZESZKODANUMER:VALUE=0

OBJECT=IPRZESZKODANUMER_1
IPRZESZKODANUMER_1:TYPE=INTEGER
IPRZESZKODANUMER_1:VALUE=0

OBJECT=IPRZESZKODAPOZIOM
IPRZESZKODAPOZIOM:TYPE=INTEGER
IPRZESZKODAPOZIOM:VALUE=0
IPRZESZKODAPOZIOM:ONBRUTALCHANGED^0={ANNPRZESZKODY^SETPRIORITY(20);IPRZESZKODANUMER^SET(RANDOM^GET(3));ANNPRZESZKODY^SETFRAME("POZIOM0",IPRZESZKODANUMER);}
IPRZESZKODAPOZIOM:ONBRUTALCHANGED^1={IPRZESZKODANUMER^SET(RANDOM^GET(8));@IF("IPRZESZKODANUMER","_","8","BFITMP3","BFITMP4");ANNPRZESZKODY^SETFRAME("POZIOM1",IPRZESZKODANUMER);}
IPRZESZKODAPOZIOM:ONBRUTALCHANGED^2={ANNPRZESZKODY^SETPRIORITY(55);IPRZESZKODANUMER^SET(0);ANNPRZESZKODY^SETFRAME("POZIOM2",IPRZESZKODANUMER);}

OBJECT=IPRZESZKODAPOZIOM_1
IPRZESZKODAPOZIOM_1:TYPE=INTEGER
IPRZESZKODAPOZIOM_1:VALUE=0
IPRZESZKODAPOZIOM_1:ONBRUTALCHANGED^0={ANNPRZESZKODY_1^SETPRIORITY(20);IPRZESZKODANUMER_1^SET(RANDOM^GET(3));ANNPRZESZKODY_1^SETFRAME("POZIOM0",IPRZESZKODANUMER_1);}
IPRZESZKODAPOZIOM_1:ONBRUTALCHANGED^1={IPRZESZKODANUMER_1^SET(8);@IF("IPRZESZKODANUMER_1","_","8","BFITMP5","BFITMP6");ANNPRZESZKODY_1^SETFRAME("POZIOM1",IPRZESZKODANUMER_1);}
IPRZESZKODAPOZIOM_1:ONBRUTALCHANGED^2={ANNPRZESZKODY_1^SETPRIORITY(55);IPRZESZKODANUMER_1^SET(0);ANNPRZESZKODY_1^SETFRAME("POZIOM2",IPRZESZKODANUMER_1);}

OBJECT=ISCROLLSPEED
ISCROLLSPEED:TYPE=INTEGER
ISCROLLSPEED:VALUE=3

OBJECT=ISCROLLMOVEX
ISCROLLMOVEX:TYPE=INTEGER
ISCROLLMOVEX:VALUE=0

OBJECT=I1PLANPOSX
I1PLANPOSX:TYPE=INTEGER
I1PLANPOSX:VALUE=0

OBJECT=I3PLANPOSX
I3PLANPOSX:TYPE=INTEGER
I3PLANPOSX:VALUE=0

OBJECT=I4PLANPOSX
I4PLANPOSX:TYPE=INTEGER
I4PLANPOSX:VALUE=1250

OBJECT=I4PLANPOSX_1
I4PLANPOSX_1:TYPE=INTEGER
I4PLANPOSX_1:VALUE=1250

OBJECT=I5PLANPOSX
I5PLANPOSX:TYPE=INTEGER
I5PLANPOSX:VALUE=0

OBJECT=IKRETPOSX
IKRETPOSX:TYPE=INTEGER
IKRETPOSX:VALUE=250
IKRETPOSX:ONCHANGED={BEHCHECKGROUND^RUN();@IF("BPRZYSPIESZENIE","_","FALSE","BFITMP8","");IPASEKPOS^SET([[300*IKRETPOSX]@ILOKOPOSX]);}

OBJECT=IKRETMOVEX
IKRETMOVEX:TYPE=INTEGER
IKRETMOVEX:VALUE=0

OBJECT=IKRETMOVEY
IKRETMOVEY:TYPE=INTEGER
IKRETMOVEY:VALUE=0

OBJECT=IPASEKPOS
IPASEKPOS:TYPE=INTEGER
IPASEKPOS:VALUE=0
IPASEKPOS:ONCHANGED={I1^SET(IPASEKPOS);I1^CLAMP(0,300);ANNWSKAZNIK^SETPOSITION(I1,0);}

OBJECT=BKRETLOCKED
BKRETLOCKED:TYPE=BOOL
BKRETLOCKED:VALUE=FALSE
BKRETLOCKED:ONCHANGED^TRUE={ARRKRETCANDO^REMOVEALL();}
BKRETLOCKED:ONCHANGED^FALSE={ARRKRETCANDO^ADD("ISC","SKOCZYC","SCHYLIC");}

OBJECT=BKRETONLOKO
BKRETONLOKO:TYPE=BOOL
BKRETONLOKO:VALUE=FALSE

OBJECT=BPRZYSPIESZENIE
BPRZYSPIESZENIE:TYPE=BOOL
BPRZYSPIESZENIE:VALUE=FALSE
BPRZYSPIESZENIE:ONCHANGED^TRUE={ISCROLLSPEED^INC();}

OBJECT=ANNRUNNERGAME
ANNRUNNERGAME:TYPE=ANIMO
ANNRUNNERGAME:VISIBLE=TRUE
ANNRUNNERGAME:FILENAME=RUNNER_GAME.ANN
ANNRUNNERGAME:TOCANVAS=TRUE
ANNRUNNERGAME:PRIORITY=0
ANNRUNNERGAME:FPS=32
ANNRUNNERGAME:PRELOAD=TRUE
ANNRUNNERGAME:RELEASE=TRUE
ANNRUNNERGAME:MONITORCOLLISION=FALSE
ANNRUNNERGAME:MONITORCOLLISIONALPHA=FALSE
ANNRUNNERGAME:ONFRAMECHANGED={@IF([IKRETPOSX+IKRETMOVEX],"<","150","BFITMP9","");ISCROLLMOVEX^SET([ISCROLLSPEED+[IKRETMOVEX@7]]);CANVASOBSERVER^MOVEBKG(ISCROLLMOVEX,0);@IF("I5PLANPOSX","<","-1600","BFITMP10","");I1^SET([0-[ISCROLLMOVEX*5]]);I5PLANPOSX^ADD(I1);ANN5PLAN^MOVE(I1,0);@IF("I4PLANPOSX","<","-450","BFITMP11","");I1^SET([0-[ISCROLLMOVEX*6]]);I4PLANPOSX^ADD(I1);ANNPRZESZKODY^MOVE(I1,0);@IF("I4PLANPOSX_1","<","-450","BFITMP12","");I1^SET([0-[ISCROLLMOVEX*6]]);I4PLANPOSX_1^ADD(I1);ANNPRZESZKODY_1^MOVE(I1,0);@IF("I3PLANPOSX","<","-1600","BFITMP13","");I1^SET([0-[ISCROLLMOVEX*7]]);I3PLANPOSX^ADD(I1);G3PLAN^MOVE(I1,0);GPOCIAG^MOVE([0-IKRETMOVEX],0);IKRETPOSX^ADD(IKRETMOVEX);I1^SET([0-[ISCROLLMOVEX*6]-1]);GDYMKI^MOVE(I1,0);@IF("I1PLANPOSX","<","-800","BFITMP14","");I1^SET([0-[ISCROLLMOVEX*20]]);I1PLANPOSX^ADD(I1);ANN1PLAN^MOVE(I1,0);BEHCHECKCOLL^RUN();BEHCHECKCOLL_1^RUN();ITIMER^INC();}

OBJECT=ANNWAGON
ANNWAGON:TYPE=ANIMO
ANNWAGON:VISIBLE=TRUE
ANNWAGON:FILENAME=WAGON.ANN
ANNWAGON:TOCANVAS=TRUE
ANNWAGON:PRIORITY=50
ANNWAGON:FPS=16
ANNWAGON:PRELOAD=TRUE
ANNWAGON:RELEASE=TRUE
ANNWAGON:MONITORCOLLISION=FALSE
ANNWAGON:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANN1PLAN
ANN1PLAN:TYPE=ANIMO
ANN1PLAN:VISIBLE=TRUE
ANN1PLAN:FILENAME=1PLAN.ANN
ANN1PLAN:TOCANVAS=TRUE
ANN1PLAN:PRIORITY=100
ANN1PLAN:FPS=16
ANN1PLAN:PRELOAD=TRUE
ANN1PLAN:RELEASE=TRUE
ANN1PLAN:MONITORCOLLISION=FALSE
ANN1PLAN:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANN3PLAN
ANN3PLAN:TYPE=ANIMO
ANN3PLAN:VISIBLE=TRUE
ANN3PLAN:FILENAME=3PLAN.ANN
ANN3PLAN:TOCANVAS=TRUE
ANN3PLAN:PRIORITY=25
ANN3PLAN:FPS=16
ANN3PLAN:PRELOAD=TRUE
ANN3PLAN:RELEASE=TRUE
ANN3PLAN:MONITORCOLLISION=FALSE
ANN3PLAN:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANN5PLAN
ANN5PLAN:TYPE=ANIMO
ANN5PLAN:VISIBLE=TRUE
ANN5PLAN:FILENAME=5PLAN.ANN
ANN5PLAN:TOCANVAS=TRUE
ANN5PLAN:PRIORITY=15
ANN5PLAN:FPS=16
ANN5PLAN:PRELOAD=TRUE
ANN5PLAN:RELEASE=TRUE
ANN5PLAN:MONITORCOLLISION=FALSE
ANN5PLAN:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNPRZESZKODY
ANNPRZESZKODY:TYPE=ANIMO
ANNPRZESZKODY:VISIBLE=TRUE
ANNPRZESZKODY:FILENAME=PRZESZKODY.ANN
ANNPRZESZKODY:TOCANVAS=TRUE
ANNPRZESZKODY:PRIORITY=20
ANNPRZESZKODY:FPS=16
ANNPRZESZKODY:PRELOAD=TRUE
ANNPRZESZKODY:RELEASE=TRUE
ANNPRZESZKODY:MONITORCOLLISION=FALSE
ANNPRZESZKODY:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNKRET
ANNKRET:TYPE=ANIMO
ANNKRET:VISIBLE=TRUE
ANNKRET:FILENAME=KRET.ANN
ANNKRET:TOCANVAS=TRUE
ANNKRET:PRIORITY=51
ANNKRET:FPS=32
ANNKRET:PRELOAD=TRUE
ANNKRET:RELEASE=TRUE
ANNKRET:MONITORCOLLISION=FALSE
ANNKRET:MONITORCOLLISIONALPHA=FALSE
ANNKRET:ONFINISHED^SKACZE={ANNKRET^PLAY("SKACZE_END");}
ANNKRET:ONFINISHED^SKACZE_END={@IF("IKRETMOVEX","_","0","BFITMP15","");@IF("IKRETMOVEX","<","0","BFITMP16","");@IF("IKRETMOVEX",">","0","BFITMP17","");ARRKRETCANDO^ADD("SKOCZYC");ARRKRETCANDO^ADD("SCHYLIC");@IF("IKRETPOSX","<","ILOKOPOSX","BFITMP18","BFITMP19");}
ANNKRET:ONFINISHED^SCHYLA_SIE={ANNKRET^PLAY("SCHYLONY");}
ANNKRET:ONFINISHED^PODNOSI_SIE={@IF("IKRETMOVEX","_","0","BFITMP20","");}
ANNKRET:ONFINISHED^SPADA_Z_0={BEHCHECKGROUNDSPADL^RUN();}
ANNKRET:ONFINISHED^SPADA_Z_1={BEHCHECKGROUNDSPADL^RUN();}
ANNKRET:ONFINISHED^PRZEWRACA_WSTAJE={IKRETMOVEX^SET(0);ANNKRET^PLAY("STOI");BKRETLOCKED^SET(FALSE);BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^SPADA_NA_DOL={ANNKRET^PLAY("LECI");SEQKRET^PLAY("LECI");}
ANNKRET:ONFINISHED^LECI={IKRETMOVEX^SET(0);ANNKRET^PLAY("STOI");BKRETLOCKED^SET(FALSE);BEHCHECKGROUND^RUN();BEHCHECKKEYBOARD^RUN();}
ANNKRET:ONFINISHED^SUNIE={IKRETMOVEX^SET(0);BKRETLOCKED^SET(FALSE);ANNKRET^PLAY("PODNOSI_SIE");}

OBJECT=ANNDYMKI
ANNDYMKI:TYPE=ANIMO
ANNDYMKI:VISIBLE=TRUE
ANNDYMKI:FILENAME=DYMKI.ANN
ANNDYMKI:TOCANVAS=TRUE
ANNDYMKI:PRIORITY=60
ANNDYMKI:FPS=16
ANNDYMKI:PRELOAD=TRUE
ANNDYMKI:RELEASE=TRUE
ANNDYMKI:MONITORCOLLISION=FALSE
ANNDYMKI:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNBELKA
ANNBELKA:TYPE=ANIMO
ANNBELKA:VISIBLE=TRUE
ANNBELKA:FILENAME=BELKA.ANN
ANNBELKA:TOCANVAS=TRUE
ANNBELKA:PRIORITY=200
ANNBELKA:FPS=16
ANNBELKA:PRELOAD=TRUE
ANNBELKA:RELEASE=TRUE
ANNBELKA:MONITORCOLLISION=FALSE
ANNBELKA:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNWSKAZNIK
ANNWSKAZNIK:TYPE=ANIMO
ANNWSKAZNIK:VISIBLE=TRUE
ANNWSKAZNIK:FILENAME=WSKAZNIK.ANN
ANNWSKAZNIK:TOCANVAS=TRUE
ANNWSKAZNIK:PRIORITY=210
ANNWSKAZNIK:FPS=16
ANNWSKAZNIK:PRELOAD=TRUE
ANNWSKAZNIK:RELEASE=TRUE
ANNWSKAZNIK:MONITORCOLLISION=FALSE
ANNWSKAZNIK:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGLOKOMOTYWA
IMGLOKOMOTYWA:TYPE=IMAGE
IMGLOKOMOTYWA:VISIBLE=TRUE
IMGLOKOMOTYWA:FILENAME=LOKOMOTYWA.IMG
IMGLOKOMOTYWA:TOCANVAS=TRUE
IMGLOKOMOTYWA:PRIORITY=50
IMGLOKOMOTYWA:PRELOAD=TRUE
IMGLOKOMOTYWA:RELEASE=TRUE
IMGLOKOMOTYWA:MONITORCOLLISION=FALSE
IMGLOKOMOTYWA:MONITORCOLLISIONALPHA=FALSE

OBJECT=SEQKRET
SEQKRET:TYPE=SEQUENCE
SEQKRET:FILENAME=SEKRET.SEQ

OBJECT=GPOCIAG
GPOCIAG:TYPE=GROUP

OBJECT=G3PLAN
G3PLAN:TYPE=GROUP

OBJECT=GDYMKI
GDYMKI:TYPE=GROUP

OBJECT=SFX_TRAIN_TREE
SFX_TRAIN_TREE:TYPE=SOUND
SFX_TRAIN_TREE:FILENAME=SFX_TRAIN_TREE.WAV
SFX_TRAIN_TREE:PRELOAD=TRUE
SFX_TRAIN_TREE:FLUSHAFTERPLAYED=FALSE

OBJECT=SFX_TRAIN_SEMAF
SFX_TRAIN_SEMAF:TYPE=SOUND
SFX_TRAIN_SEMAF:FILENAME=SFX_TRAIN_SEMAF.WAV
SFX_TRAIN_SEMAF:PRELOAD=TRUE
SFX_TRAIN_SEMAF:FLUSHAFTERPLAYED=FALSE

OBJECT=ARRKRETCANDO
ARRKRETCANDO:TYPE=ARRAY

OBJECT=ARRCHGREVENTS
ARRCHGREVENTS:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=0

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD
KEYBOARD:ONKEYDOWN^UP={@IF(ARRKRETCANDO^FIND("SKOCZYC"),">","-1","BFITMP21","");}
KEYBOARD:ONKEYDOWN^DOWN={@IF(ARRKRETCANDO^FIND("SCHYLIC"),">","-1","BFITMP22","");}
KEYBOARD:ONKEYDOWN^LEFT={@IF(ARRKRETCANDO^FIND("ISC"),">","-1","BFITMP24","");}
KEYBOARD:ONKEYDOWN^RIGHT={@IF(ARRKRETCANDO^FIND("ISC"),">","-1","BFITMP26","");}
KEYBOARD:ONKEYUP^DOWN={@IF("ARRKRETCANDO^GETSIZE()'0&&BKRETLOCKED'FALSE","BFITMP27","");}
KEYBOARD:ONKEYUP^LEFT={@IF(ARRKRETCANDO^FIND("ISC"),">","-1","BFITMP29","");}
KEYBOARD:ONKEYUP^RIGHT={@IF(ARRKRETCANDO^FIND("ISC"),">","-1","BFITMP31","");}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={ANNKEYBMOUSEHELP^PLAY("LPGD");BEHMUSICSET^RUN("DOROZKA");BEHAMBIENTSNDPLAY^RUN("SFX_TRAIN_OUTSIDE");SLEVELSEL^SET(["1"+SGAMEDIFFICULTY]);ARRKRETCANDO^REMOVEALL();ARRKRETCANDO^ADD("ISC","SKOCZYC","SCHYLIC");@IF(GSAVE^GET("ONOEX_STATUS"),"_",""NIEODWIEDZONY"","BFITMP32","");IPASEKPOS^SET([[300*IKRETPOSX]@ILOKOPOSX]);ANNRUNNERGAME^PLAY("RUN");ANNKRET^PLAY("STOI");}


OBJECT=BEHINITCOMMON
BEHINITCOMMON:TYPE=BEHAVIOUR
BEHINITCOMMON:CODE={ANNWAGON^CLONE([IILOSCWAGONOW-1]);@LOOP("{S1^SET(["ANNWAGON_"+_I_]);*S1^MOVE([_I_*1600],0);}",0,IILOSCWAGONOW,1);IMGLOKOMOTYWA^MOVE([[IILOSCWAGONOW*1600]-20],0);GPOCIAG^ADDCLONES("ANNWAGON",0,[IILOSCWAGONOW-1]);GPOCIAG^ADD("IMGLOKOMOTYWA");ILOKOPOSX^SET([[IILOSCWAGONOW*1600]+90]);ARRKRETCANDO^REMOVEALL();ARRKRETCANDO^ADD("ISC","SKOCZYC","SCHYLIC");ARRCHGREVENTS^REMOVEALL();ARRCHGREVENTS^ADD("STOI","IDZIE_L","IDZIE_R","SUNIE","PRZEWRACA_WSTAJE");ANNPRZESZKODY^CLONE(1);I4PLANPOSX_1^SET(2100);ANNPRZESZKODY_1^MOVE(850,0);IPRZESZKODAPOZIOM^SET(RANDOM^GET(3));IPRZESZKODAPOZIOM_1^SET(RANDOM^GET(3));ANN3PLAN^CLONE(2);ANN3PLAN_1^SETFRAME("IDLE",1);ANN3PLAN_2^SETFRAME("IDLE",2);G3PLAN^ADD("ANN3PLAN","ANN3PLAN_1","ANN3PLAN_2");GDYMKI^ADD("ANNDYMKI");}


OBJECT=BEHCHECKKEYBOARD
BEHCHECKKEYBOARD:TYPE=BEHAVIOUR
BEHCHECKKEYBOARD:CODE={@IF("BKRETLOCKED","_","FALSE","BFITMP39","");}


OBJECT=BEHCHECKGROUND
BEHCHECKGROUND:TYPE=BEHAVIOUR
BEHCHECKGROUND:CODE={@IF([IKRETPOSX%1600],"<","90","BFITMP41","");}


OBJECT=BEHCHECKGROUNDSPADL
BEHCHECKGROUNDSPADL:TYPE=BEHAVIOUR
BEHCHECKGROUNDSPADL:CODE={@IF([IKRETPOSX%1600],"<","90","BFITMP42","BFITMP43");}


OBJECT=BEHCHECKCOLL
BEHCHECKCOLL:TYPE=BEHAVIOUR
BEHCHECKCOLL:CODE={@IF("BKRETLOCKED","_","FALSE","BFITMP60","");}


OBJECT=BEHCHECKCOLL_1
BEHCHECKCOLL_1:TYPE=BEHAVIOUR
BEHCHECKCOLL_1:CODE={@IF("BKRETLOCKED","_","FALSE","BFITMP77","");}


OBJECT=BEHSUCCESS
BEHSUCCESS:TYPE=BEHAVIOUR
BEHSUCCESS:CODE={BKRETONLOKO^SET(TRUE);BKRETLOCKED^SET(TRUE);IKRETMOVEX^SET(0);ANNKRET^PLAY("STOI");GSAVE^SET("ONOEX_STATUS","UKONCZONY");GSAVE^SET("SCENE_CODE","CFEX");GSAVE^SET("SCENE_NAME","CUTSCENKI");GSAVE^SET("CS_SCENE_NAME","10_FINAL_EXPRESU");BEHGOTOSCENE^RUN();}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={I1^SET(IDYMKOW);}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={*S1^SETPOSITION(0,0);*S1^SETFRAME("IDLE",RANDOM^GET(12));}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={ANNDYMKI^CLONE(1);S1^SET(["ANNDYMKI_"+IDYMKOW]);*S1^SETPOSITION(0,0);*S1^SETFRAME("IDLE",RANDOM^GET(12));GDYMKI^ADD(S1);IDYMKOW^INC();}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={ANNPRZESZKODY^SETPRIORITY(55);}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={ANNPRZESZKODY^SETPRIORITY(20);}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={ANNPRZESZKODY_1^SETPRIORITY(55);}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={ANNPRZESZKODY_1^SETPRIORITY(20);}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={BPRZYSPIESZENIE^SET(TRUE);}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={@IF("IKRETPOSX",">",[ILOKOPOSX@2],"BFITMP7","");}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={IKRETMOVEX^SET(0);}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={ANN5PLAN^SETFRAME("IDLE",RANDOM^GET(4));ANN5PLAN^MOVE(1600,0);I5PLANPOSX^ADD(1600);}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={I1^SET(RANDOM^GET(30));IPRZESZKODAPOZIOM^SET([I1@10]);ANNPRZESZKODY^MOVE(1700,0);I4PLANPOSX^ADD(1700);}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={I1^SET(RANDOM^GET(30));IPRZESZKODAPOZIOM_1^SET([I1@10]);ANNPRZESZKODY_1^MOVE(1700,0);I4PLANPOSX_1^ADD(1700);}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={G3PLAN^MOVE(1600,0);I3PLANPOSX^ADD(1600);}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={ANN1PLAN^SETFRAME("IDLE",RANDOM^GET(7));ANN1PLAN^MOVE(1600,0);I1PLANPOSX^ADD(1600);}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={ANNKRET^PLAY("STOI");}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={ANNKRET^PLAY("IDZIE_L");}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={ANNKRET^PLAY("IDZIE_R");}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={BEHCHECKGROUND^RUN();BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={BEHSUCCESS^RUN();}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={ANNKRET^PLAY("STOI");BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={ARRKRETCANDO^REMOVE("SKOCZYC");ARRKRETCANDO^REMOVE("SCHYLIC");ANNKRET^PLAY("SKACZE");SEQKRET^PLAY("SKOK");}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={IKRETMOVEX^SET(0);ARRKRETCANDO^REMOVEALL();ANNKRET^PLAY("SCHYLA_SIE");}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={ANNKRET^PLAY("IDZIE_L");}


OBJECT=BFITMP24
BFITMP24:TYPE=BEHAVIOUR
BFITMP24:CODE={IKRETMOVEX^SET(-7);@IF(ARRKRETCANDO^FIND("SKOCZYC"),">","-1","BFITMP23","");}


OBJECT=BFITMP25
BFITMP25:TYPE=BEHAVIOUR
BFITMP25:CODE={ANNKRET^PLAY("IDZIE_R");}


OBJECT=BFITMP26
BFITMP26:TYPE=BEHAVIOUR
BFITMP26:CODE={IKRETMOVEX^SET(7);@IF(ARRKRETCANDO^FIND("SKOCZYC"),">","-1","BFITMP25","");}


OBJECT=BFITMP27
BFITMP27:TYPE=BEHAVIOUR
BFITMP27:CODE={ANNKRET^PLAY("PODNOSI_SIE");ARRKRETCANDO^ADD("ISC");ARRKRETCANDO^ADD("SKOCZYC");ARRKRETCANDO^ADD("SCHYLIC");}


OBJECT=BFITMP28
BFITMP28:TYPE=BEHAVIOUR
BFITMP28:CODE={ANNKRET^PLAY("STOI");BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP29
BFITMP29:TYPE=BEHAVIOUR
BFITMP29:CODE={IKRETMOVEX^SET(0);@IF(ARRKRETCANDO^FIND("SKOCZYC"),">","-1","BFITMP28","");}


OBJECT=BFITMP30
BFITMP30:TYPE=BEHAVIOUR
BFITMP30:CODE={ANNKRET^PLAY("STOI");BEHCHECKKEYBOARD^RUN();}


OBJECT=BFITMP31
BFITMP31:TYPE=BEHAVIOUR
BFITMP31:CODE={IKRETMOVEX^SET(0);@IF(ARRKRETCANDO^FIND("SKOCZYC"),">","-1","BFITMP30","");}


OBJECT=BFITMP32
BFITMP32:TYPE=BEHAVIOUR
BFITMP32:CODE={GSAVE^SET("ONOEX_STATUS","ODWIEDZONY");}


OBJECT=BFITMP33
BFITMP33:TYPE=BEHAVIOUR
BFITMP33:CODE={IKRETMOVEX^SET(7);ANNKRET^PLAY("IDZIE_R");}


OBJECT=BFITMP34
BFITMP34:TYPE=BEHAVIOUR
BFITMP34:CODE={IKRETMOVEX^SET(-7);ANNKRET^PLAY("IDZIE_L");}


OBJECT=BFITMP35
BFITMP35:TYPE=BEHAVIOUR
BFITMP35:CODE={@IF(KEYBOARD^ISKEYDOWN("RIGHT"),"_","TRUE","BFITMP33","");}


OBJECT=BFITMP36
BFITMP36:TYPE=BEHAVIOUR
BFITMP36:CODE={ARRKRETCANDO^REMOVE("SKOCZYC");ARRKRETCANDO^REMOVE("SCHYLIC");ANNKRET^PLAY("SKACZE");SEQKRET^PLAY("SKOK");}


OBJECT=BFITMP37
BFITMP37:TYPE=BEHAVIOUR
BFITMP37:CODE={IKRETMOVEX^SET(0);ARRKRETCANDO^REMOVEALL();ANNKRET^PLAY("SCHYLA_SIE");}


OBJECT=BFITMP38
BFITMP38:TYPE=BEHAVIOUR
BFITMP38:CODE={@IF(KEYBOARD^ISKEYDOWN("LEFT"),"_","TRUE","BFITMP34","BFITMP35");@IF(KEYBOARD^ISKEYDOWN("UP"),"_","TRUE","BFITMP36","");}


OBJECT=BFITMP39
BFITMP39:TYPE=BEHAVIOUR
BFITMP39:CODE={@IF(KEYBOARD^ISKEYDOWN("DOWN"),"_","TRUE","BFITMP37","BFITMP38");}


OBJECT=BFITMP40
BFITMP40:TYPE=BEHAVIOUR
BFITMP40:CODE={BKRETLOCKED^SET(TRUE);IKRETMOVEX^SET(-14);ANNKRET^PLAY("SPADA_NA_DOL");SEQKRET^PLAY("SPADA");}


OBJECT=BFITMP41
BFITMP41:TYPE=BEHAVIOUR
BFITMP41:CODE={@IF(ARRCHGREVENTS^FIND(ANNKRET^GETEVENTNAME()),">","-1","BFITMP40","");}


OBJECT=BFITMP42
BFITMP42:TYPE=BEHAVIOUR
BFITMP42:CODE={BKRETLOCKED^SET(TRUE);IKRETMOVEX^SET(-14);ANNKRET^PLAY("SPADA_NA_DOL");SEQKRET^PLAY("SPADA");}


OBJECT=BFITMP43
BFITMP43:TYPE=BEHAVIOUR
BFITMP43:CODE={IKRETMOVEX^SET(0);ANNKRET^PLAY("PRZEWRACA_WSTAJE");}


OBJECT=BFITMP44
BFITMP44:TYPE=BEHAVIOUR
BFITMP44:CODE={IKRETMOVEX^SET(0);ANNKRET^PLAY("PRZEWRACA_WSTAJE");}


OBJECT=BFITMP45
BFITMP45:TYPE=BEHAVIOUR
BFITMP45:CODE={IKRETMOVEX^SET([0-[ISCROLLSPEED*7]]);ANNKRET^PLAY("SPADA_Z_0");}


OBJECT=BFITMP46
BFITMP46:TYPE=BEHAVIOUR
BFITMP46:CODE={BKRETLOCKED^SET(TRUE);@IF("IKRETPOSX","<","500","BFITMP44","BFITMP45");SEQKRET^PLAY("DRZEWO");SFX_TRAIN_TREE^PLAY();}


OBJECT=BFITMP47
BFITMP47:TYPE=BEHAVIOUR
BFITMP47:CODE={@IF("S1","_",""SKACZE"","BFITMP46","");}


OBJECT=BFITMP48
BFITMP48:TYPE=BEHAVIOUR
BFITMP48:CODE={BKRETLOCKED^SET(TRUE);IKRETMOVEX^SET([0-[ISCROLLSPEED*6]]);ANNKRET^PLAY("PRZEWRACA_WSTAJE");SEQKRET^PLAY("DUSI_SIE");}


OBJECT=BFITMP49
BFITMP49:TYPE=BEHAVIOUR
BFITMP49:CODE={IKRETMOVEX^SET(0);ANNKRET^PLAY("PRZEWRACA_WSTAJE");}


OBJECT=BFITMP50
BFITMP50:TYPE=BEHAVIOUR
BFITMP50:CODE={IKRETMOVEX^SET([0-[ISCROLLSPEED*7]]);ANNKRET^PLAY("SPADA_Z_1");}


OBJECT=BFITMP51
BFITMP51:TYPE=BEHAVIOUR
BFITMP51:CODE={SEQKRET^PLAY("SEMAFOR");SFX_TRAIN_SEMAF^PLAY();}


OBJECT=BFITMP52
BFITMP52:TYPE=BEHAVIOUR
BFITMP52:CODE={SEQKRET^PLAY("DRZEWO");SFX_TRAIN_TREE^PLAY();}


OBJECT=BFITMP53
BFITMP53:TYPE=BEHAVIOUR
BFITMP53:CODE={@IF("S1","!_",""SKACZE"","BFITMP48","");}


OBJECT=BFITMP54
BFITMP54:TYPE=BEHAVIOUR
BFITMP54:CODE={BKRETLOCKED^SET(TRUE);@IF("IKRETPOSX","<","500","BFITMP49","BFITMP50");@IF("IPRZESZKODANUMER","_","7","BFITMP51","BFITMP52");}


OBJECT=BFITMP55
BFITMP55:TYPE=BEHAVIOUR
BFITMP55:CODE={@IF("IPRZESZKODANUMER","_","8","BFITMP53","BFITMP54");}


OBJECT=BFITMP56
BFITMP56:TYPE=BEHAVIOUR
BFITMP56:CODE={@IF("S1","!_",""SCHYLONY"","BFITMP55","");}


OBJECT=BFITMP57
BFITMP57:TYPE=BEHAVIOUR
BFITMP57:CODE={BKRETLOCKED^SET(TRUE);IKRETMOVEX^SET([0-[ISCROLLSPEED*6]]);ANNKRET^PLAY("SUNIE");SEQKRET^PLAY("DUSI_SIE");}


OBJECT=BFITMP58
BFITMP58:TYPE=BEHAVIOUR
BFITMP58:CODE={@IF("S1","_",""SCHYLONY"","BFITMP57","");}


OBJECT=BFITMP59
BFITMP59:TYPE=BEHAVIOUR
BFITMP59:CODE={S1^SET(ANNKRET^GETEVENTNAME());@IF("IPRZESZKODAPOZIOM","_","0","BFITMP47","");@IF("IPRZESZKODAPOZIOM","_","1","BFITMP56","");@IF("IPRZESZKODAPOZIOM","_","2","BFITMP58","");}


OBJECT=BFITMP60
BFITMP60:TYPE=BEHAVIOUR
BFITMP60:CODE={@IF("I4PLANPOSX>200&&I4PLANPOSX<250","BFITMP59","");}


OBJECT=BFITMP61
BFITMP61:TYPE=BEHAVIOUR
BFITMP61:CODE={IKRETMOVEX^SET(0);ANNKRET^PLAY("PRZEWRACA_WSTAJE");}


OBJECT=BFITMP62
BFITMP62:TYPE=BEHAVIOUR
BFITMP62:CODE={IKRETMOVEX^SET([0-[ISCROLLSPEED*7]]);ANNKRET^PLAY("SPADA_Z_0");}


OBJECT=BFITMP63
BFITMP63:TYPE=BEHAVIOUR
BFITMP63:CODE={BKRETLOCKED^SET(TRUE);@IF("IKRETPOSX","<","500","BFITMP61","BFITMP62");SEQKRET^PLAY("DRZEWO");SFX_TRAIN_TREE^PLAY();}


OBJECT=BFITMP64
BFITMP64:TYPE=BEHAVIOUR
BFITMP64:CODE={@IF("S1","_",""SKACZE"","BFITMP63","");}


OBJECT=BFITMP65
BFITMP65:TYPE=BEHAVIOUR
BFITMP65:CODE={BKRETLOCKED^SET(TRUE);IKRETMOVEX^SET([0-[ISCROLLSPEED*6]]);ANNKRET^PLAY("PRZEWRACA_WSTAJE");SEQKRET^PLAY("DUSI_SIE");}


OBJECT=BFITMP66
BFITMP66:TYPE=BEHAVIOUR
BFITMP66:CODE={IKRETMOVEX^SET(0);ANNKRET^PLAY("PRZEWRACA_WSTAJE");}


OBJECT=BFITMP67
BFITMP67:TYPE=BEHAVIOUR
BFITMP67:CODE={IKRETMOVEX^SET([0-[ISCROLLSPEED*7]]);ANNKRET^PLAY("SPADA_Z_1");}


OBJECT=BFITMP68
BFITMP68:TYPE=BEHAVIOUR
BFITMP68:CODE={SEQKRET^PLAY("SEMAFOR");SFX_TRAIN_SEMAF^PLAY();}


OBJECT=BFITMP69
BFITMP69:TYPE=BEHAVIOUR
BFITMP69:CODE={SEQKRET^PLAY("DRZEWO");SFX_TRAIN_TREE^PLAY();}


OBJECT=BFITMP70
BFITMP70:TYPE=BEHAVIOUR
BFITMP70:CODE={@IF("S1","!_",""SKACZE"","BFITMP65","");}


OBJECT=BFITMP71
BFITMP71:TYPE=BEHAVIOUR
BFITMP71:CODE={BKRETLOCKED^SET(TRUE);@IF("IKRETPOSX","<","500","BFITMP66","BFITMP67");@IF("IPRZESZKODANUMER","_","7","BFITMP68","BFITMP69");}


OBJECT=BFITMP72
BFITMP72:TYPE=BEHAVIOUR
BFITMP72:CODE={@IF("IPRZESZKODANUMER_1","_","8","BFITMP70","BFITMP71");}


OBJECT=BFITMP73
BFITMP73:TYPE=BEHAVIOUR
BFITMP73:CODE={@IF("S1","!_",""SCHYLONY"","BFITMP72","");}


OBJECT=BFITMP74
BFITMP74:TYPE=BEHAVIOUR
BFITMP74:CODE={BKRETLOCKED^SET(TRUE);IKRETMOVEX^SET([0-[ISCROLLSPEED*6]]);ANNKRET^PLAY("SUNIE");SEQKRET^PLAY("DUSI_SIE");}


OBJECT=BFITMP75
BFITMP75:TYPE=BEHAVIOUR
BFITMP75:CODE={@IF("S1","_",""SCHYLONY"","BFITMP74","");}


OBJECT=BFITMP76
BFITMP76:TYPE=BEHAVIOUR
BFITMP76:CODE={S1^SET(ANNKRET^GETEVENTNAME());@IF("IPRZESZKODAPOZIOM_1","_","0","BFITMP64","");@IF("IPRZESZKODAPOZIOM_1","_","1","BFITMP73","");@IF("IPRZESZKODAPOZIOM_1","_","2","BFITMP75","");}


OBJECT=BFITMP77
BFITMP77:TYPE=BEHAVIOUR
BFITMP77:CODE={@IF("I4PLANPOSX_1>200&&I4PLANPOSX_1<250","BFITMP76","");}


